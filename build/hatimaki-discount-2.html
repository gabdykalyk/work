<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Добавление кампании</title>
	
    <link href="bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet">
<link href="fonts/fontawesome/css/all.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/css/select2.min.css" rel="stylesheet" />
<link href="css/main.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>
    <nav class="navbar navbar-fixed-top navbar-lk">
    <div class="container-fluid">
        <div class="navbar-collapse collapse" id="navbar-collapse-block">
            <ul class="nav navbar-nav navbar-nav-main">
                <li class="item-menu-manper"><a href="#">Личное дело<span class="count">1</span></a></li>
                <li class="item-menu-messages"><a href="#">Сообщения<span class="count">5</span></a></li>
                <li class="item-menu-alerts"><a href="#">Оповещения<span class="count">2</span></a></li>
                <li class="item-menu-schedule"><a href="#">График работы</a></li>
                <li class="item-menu-index"><a href="#">Ключевые показатели<span class="count">3</span></a></li>
                <li class="item-menu-docs"><a href="#">Инструкции и приказы<span class="count">1</span></a></li>
                <li class="item-menu-discus"><a href="#">Обсуждения<span class="count">4</span></a></li>
                <li class="item-menu-complaints"><a href="#">Жалобы и предложения<span class="count">1</span></a>
                </li>
                <li class="item-menu-friends"><a href="#">Друзья</a></li>
                <li class="item-menu-groups"><a href="#">Группы</a></li>
                <li class="item-menu-settings"><a href="#">Настройки</a></li>
                <li class="item-menu-help"><a href="#">Помощь</a></li>
            </ul>
        </div>
        <button type="button" class="navbar-toggle collapsed" id="navbar-toggle">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <i class="fa fa-chevron-left" aria-hidden="true"></i>
        </button>
        <div class="navbar-right navbar-login">
            <a href="#" class="btn"><span>Александр Константиновский</span> <i
                    class="fa fa-sign-out hidden-sm hidden-xs" aria-hidden="true"></i></a>
        </div>
        <ul class="nav navbar-nav navbar-right navbar-nav-social">
            <li><a href="#" title="Вконтакте"><i class="fab fa-vk"></i></a></li>
            <li><a href="#" title="Есть непросмотренные сообщения"><i class="fa fa-envelope"
                        aria-hidden="true"></i><span class="badge"></span></a></li>
            <li class="item-bell" title="Есть непросмотренные уведомления"><a tabindex="0" role="button"
                    data-toggle="popover" data-placement="bottom" data-trigger="click" title="Dismissible popover"
                    id="notice"><i class="fa fa-bell" aria-hidden="true"></i><span class="badge"></span></a></li>
        </ul>
    </div>
</nav>
<!-- popover content: notice -->
<div id="popover-content-notice" style="display: none;">
    <ul class="notice-list scrollbar-inner">
        <li>
            <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                Бутово, Щербинка, Эталон, Коммунарка</p>
        </li>
        <li>
            <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                Бутово, Щербинка, Эталон, Коммунарка</p>
            <div class="file">
                <a class="file__block" href="#">
                    <div class="file__img" style="background-image: url(images/img1.jpg);"></div>
                </a>
                <a class="file__block" href="#">
                    <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                </a>
            </div>
        </li>
        <li>
            <div class="file">
                <a class="file__block" href="#">
                    <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                </a>
            </div>
        </li>
        <li>
            <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                Бутово, Щербинка, Эталон, Коммунарка</p>
        </li>
        <li>
            <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                Бутово, Щербинка, Эталон, Коммунарка</p>
            <div class="file">
                <a class="file__block" href="#">
                    <div class="file__img" style="background-image: url(images/img1.jpg);"></div>
                </a>
                <a class="file__block" href="#">
                    <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                </a>
                <a class="file__block" href="#">
                    <div class="file__img" style="background-image: url(images/img1.jpg);"></div>
                </a>
                <a class="file__block" href="#">
                    <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                </a>
            </div>
        </li>
        <li>
            <div class="file">
                <a class="file__block" href="#">
                    <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                </a>
            </div>
        </li>
        <li>
            <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                Бутово, Щербинка, Эталон, Коммунарка</p>
        </li>
        <li>
            <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                Бутово, Щербинка, Эталон, Коммунарка</p>
            <div class="file">
                <a class="file__block" href="#">
                    <div class="file__img" style="background-image: url(images/img1.jpg);"></div>
                </a>
                <a class="file__block" href="#">
                    <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                </a>
            </div>
        </li>
        <li>
            <div class="file">
                <a class="file__block" href="#">
                    <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                </a>
            </div>
        </li>
    </ul>
</div>

    <div class="container-fluid content discount">

        <h1>
            Добавление кампании
        </h1>
        <hr class="hr-margin hr-xs-100 hidden-xs">
		<div class="btn-group" role="group">
			<a href="#" type="button" class="btn btn-default">Основные настройки</a>
			<a href="#" type="button" class="btn btn-default active">Свойства</a>
			<a href="#" type="button" class="btn btn-default">Действия</a>
		</div>
		<form class="form-respons discount__props js-discount-form" action="" method="post">
			<div class="row">
				<div class="col-lg-3 col-md-3 col-sm-4 form-group">
					<label for="actiontype">Тип акции</label>
					<select class="form-control js-action-type" name="actiontype">
						<option value="promocode">Промокод</option>
						<option value="requirement">Условие</option>
						<option value="both" selected="">Промокод и условие</option>
					</select>
				</div>
				<div class="clearfix"></div>
				<div class="js-promocode-block">
					<div class="col-sm-12">
						<h3>Промокод</h3>
					</div>
					<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6 form-group">
	                    <label for="number_of_coupons">Кол-во купонов</label>
	                    <input class="form-control" type="text" name="number_of_coupons" id="number_of_coupons" />		
					</div>
					<div class="col-lg-3 col-md-3 col-sm-4 col-xs-6 form-group">
						<label for="actiontype">Тип купона</label>
						<select class="form-control" name="actiontype">
							<option value="promocode">Разовый</option>
							<option value="requirement">Многоповторный</option>
						</select>
					</div>
					<div class="clearfix"></div>
					<div class="col-lg-2 col-md-2 col-sm-3 col-xs-4 form-group">
	                    <label for="prefix">Префикс купонов</label>
	                    <input class="form-control" type="text" name="prefix" id="prefix" />
					</div>
					<div class="col-lg-3 col-md-3 col-sm-4 col-xs-7 form-group">
	                    <label>Кол-во символов</label>
	                    <div class="discount__flex">
		                    <input class="form-control" type="text" name="letters" id="letters" /> 
		                    <label class="black-label" for="letters">букв</label>	
		                    <input class="form-control" type="text" name="numbers" id="numbers" />
		                    <label class="black-label" for="numbers">цифр</label>
						</div>
					</div>
					<div class="col-lg-3 col-md-3 col-sm-5 col-xs-8 form-group no-label discount__letters">
						<select class="form-control" name="which_letter">
							<option value="en">Английские буквы</option>
							<option value="ru">Русские буквы</option>
							<option value="en_ru">Английские и русские буквы</option>
						</select>
					</div>
				</div>
				<div class="clearfix visible-xs"></div>
				<div class="js-requirement-block">
					<div class="col-sm-12">
						<h3>Условие</h3>
					</div>
					<div class="col-lg-4 col-md-4 col-sm-6 form-group">
	                    <label for="condition_type">Тип условия</label>
	                    <select class="form-control js-select2 js-condition-type" name="condition_type[]" id="condition_type" multiple="" tabindex="-1" aria-hidden="true">
	                        <option value="time" selected="">Время</option>
	                        <option value="summ" selected="">Сумма заказа</option>
	                        <option value="order" selected="">Состав заказа</option>
	                    </select>
					</div>
				</div>
				<div class="clearfix"></div>
				<div class="js-time-block">
					<div class="col-sm-12">
						<h4>Время</h4>
					</div>
					<div class="js-time-row">
						<div class="col-lg-4 col-md-4 col-sm-6 form-group">
		                    <label for="select-period">Период проведения</label>
							<select class="form-control js-select-period" name="select-period">
								<option value="dates">Определенные даты</option>
								<option value="period">Период</option>
								<option value="weekday">День недели</option>
								<option value="odd-days" selected="">Нечетные числа месяца</option>
								<option value="day-of-month">Число месяца</option>
								<option value="period-of-month">Период месяца</option>
							</select>
						</div>
						
						<div class="js-dates-block" style="display: none;">
							<div class="clearfix"></div>
							<div class="js-dates-row-block">
								<div class="js-dates-row discount__dates-row">
									<div class="col-lg-2 col-md-2 col-sm-3 col-xs-5">
										<label for="discount[1][date]">Дата</label>
										<div class="input-group datepicker">
											<input type="text" class="form-control" value="01.01.1995" name="discount[1][date]" placeholder="00.00.0000" maxlength="10">
											<span class="input-group-btn">
												<button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
											</span>
										</div>
									</div>
									<div class="clearfix visible-xs"></div>
									<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6 discount__times no-label">
										<div class="form-group">
											<input type="text" class="form-control js-timework" value="" name="discount[1][dates-timebeg]" maxlength="5" placeholder="00:00">
										</div>
										<div class="form-group-dash">&ndash;</div>
										<div class="form-group">
											<input type="text" class="form-control js-timework" value="" name="discount[1][dates-timeend]" maxlength="5" placeholder="00:00">
										</div>
									</div>
									<div class="col-lg-8 col-md-8 col-sm-6 col-xs-6 no-label form-group-btns">
										<button class="btn btn-cancel btn-neutral jsRemoveDate" style="display: none;" type="button" title="Удалить разряд">
											<i class="fa fa-times" aria-hidden="true"></i>
										</button>
										<button class="btn btn-add btn-neutral jsAddNewDate" type="button" title="Добавить разряд">
											<i class="fa fa-plus" aria-hidden="true"></i>
										</button>
									</div>
									<div class="clearfix"></div>
								</div>
							</div>
							<div class="clearfix"></div>
						</div>
						
						<div class="js-period-block" style="display: none;">
							<div class="clearfix"></div>
							<div class="col-lg-2 col-md-2 col-sm-3 col-xs-5">
								<label for="discount[1][period-start]">Дата начала</label>
								<div class="input-group datepicker">
									<input type="text" class="form-control" value="01.01.1995" name="discount[1][period-start]" placeholder="00.00.0000" maxlength="10">
									<span class="input-group-btn">
										<button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
									</span>
								</div>
							</div>
							<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3 no-label">
								<div class="form-group">
									<input type="text" class="form-control js-timework" value="" name="discount[1][period-start]" maxlength="5" placeholder="00:00">
								</div>
							</div>
							<div class="col-lg-2 col-md-2 col-sm-3 col-xs-5">
								<label for="discount[1][period-end]">Дата окончания</label>
								<div class="input-group datepicker">
									<input type="text" class="form-control" value="01.01.1995" name="discount[1][period-end]" placeholder="00.00.0000" maxlength="10">
									<span class="input-group-btn">
										<button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
									</span>
								</div>
							</div>
							<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3 no-label">
								<div class="form-group">
									<input type="text" class="form-control js-timework" value="" name="discount[1][period-end]" maxlength="5" placeholder="00:00">
								</div>
							</div>
						</div>
						
						<div class="js-weekdays-block" style="display: none;">
							<div class="clearfix"></div>
							<div class="col-lg-3 col-md-3 col-sm-5 col-xs-12 form-group form-group-date" data-type="week">
								<label>Дни недели</label>
								<div class="discount-weekdays weekdays">
									<div class="checkbox">
										<label><input type="checkbox" name="discount[1][weekdays]" value="0"><span>ПН</span></label>
									</div>
									<div class="checkbox">
										<label><input type="checkbox" name="discount[1][weekdays]" value="1"><span>ВТ</span></label>
									</div>
									<div class="checkbox">
										<label><input type="checkbox" name="discount[1][weekdays]" value="2"><span>СР</span></label>
									</div>
									<div class="checkbox">
										<label><input type="checkbox" name="discount[1][weekdays]" value="3"><span>ЧТ</span></label>
									</div>
									<div class="checkbox">
										<label><input type="checkbox" name="discount[1][weekdays]" value="4"><span>ПТ</span></label>
									</div>
									<div class="checkbox">
										<label><input type="checkbox" name="discount[1][weekdays]" value="5"><span>СБ</span></label>
									</div>
									<div class="checkbox">
										<label><input type="checkbox" name="discount[1][weekdays]" value="6"><span>ВС</span></label>
									</div>
								</div>
							</div>
						</div>
						
						<div class="js-day-of-month-group" style="display: none;">
							<div class="clearfix"></div>
							<div class="form-group col-md-4 col-sm-6 col-xs-12" data-type="month">
								<label for="discount[1][day-of-month]">Число</label>
								<select class="form-control js-day-of-month-input" name="discount[1][day-of-month]" multiple="multiple"></select>
							</div>
						</div>
						
						<div class="js-period-of-month-group" style="display: none;">
							<div class="clearfix"></div>
							<div class="js-period-days-row-block">
								<div class="js-period-days-row">
									<div class="form-group col-md-2 col-sm-3 col-xs-4" data-type="month">
										<label for="discount[1][period-from]">Число начала</label>
										<select class="form-control js-period-from-input" name="discount[1][period-from]"></select>
									</div>
									<div class="form-group col-md-2 col-sm-3 col-xs-4" data-type="month">
										<label for="discount[1][period-to]">Число окончания</label>
										<select class="form-control js-period-to-input" name="discount[1][period-to]"></select>
									</div>
									<div class="col-lg-8 col-md-8 col-sm-6 col-xs-4 no-label form-group-btns">
										<button class="btn btn-cancel btn-neutral jsRemovePeriod" style="display: none;" type="button" title="Удалить период">
											<i class="fa fa-times" aria-hidden="true"></i>
										</button>
										<button class="btn btn-add btn-neutral jsAddNewPeriod" type="button" title="Добавить период">
											<i class="fa fa-plus" aria-hidden="true"></i>
										</button>
									</div>
									<div class="clearfix"></div>
								</div>
							</div>
							<div class="clearfix"></div>
						</div>
						
						<div class="col-lg-2 col-md-2 col-sm-3 discount__times no-label js-timepicker-block">
							<div class="form-group">
								<input type="text" class="form-control js-timework" value="" name="discount[1][timebeg]" maxlength="5" placeholder="00:00">
							</div>
							<div class="form-group-dash">&ndash;</div>
							<div class="form-group">
								<input type="text" class="form-control js-timework" value="" name="discount[1][timeend]" maxlength="5" placeholder="00:00">
							</div>
						</div>
						
						<div class="js-repeat-block">
							<div class="clearfix visible-sm"></div>
							<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6 form-group">
								<label for="to-repeat">Повторять</label>
								<select class="form-control js-select-repeat" name="to-repeat">
									<option value="no-repeat">Не повторять</option>
									<option value="repeat" selected="">Кол-во повторов</option>
									<option value="all">Весь период акции</option>
								</select>
							</div>
							<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3 no-label form-group js-num-repeats-block num-repeats-block">
								<input type="text" class="form-control small-input" value="" name="discount[1][num-repeats]">
							</div>
						</div>
						<div class="clearfix js-clearfix-before-btn" style="display: none"></div>
						<div class="col-lg-2 col-md-2 col-sm-2 col-xs-3 time-btn-block no-label form-group">
							<button type="button" class="btn btn-danger btn-remove-row jsRemove" title="Удалить" style="display: none;"><i class="fa fa-times" aria-hidden="true"></i></button>
							<button type="button" class="btn btn-success btn-add-row jsAddNew" title="Добавить"><i class="fa fa-plus" aria-hidden="true"></i></button>
						</div>
						<div class="clearfix"></div>
					</div>
	            </div>
	            <div class="clearfix"></div>
	            <div class="js-summ-block">
					<div class="col-sm-12">
						<h4>Сумма заказа</h4>
					</div>
	                <div class="col-lg-3 col-md-3 col-sm-4 form-group discount__summ">
	                    <label for="sum_start">От</label>
	                    <input class="form-control" type="text" name="sum_start" id="sum_start" /> 
	                    <label for="sum_end">до</label>
	                    <input class="form-control" type="text" name="sum_end" id="sum_end" />
	                    <i class="fas fa-ruble-sign"></i>
					</div>
				</div>
				<div class="clearfix visible-xs"></div>
				<div class="js-order-block order-block">
					<div class="col-sm-12">
						<h4>Состав заказа</h4>
					</div>
					<div class="js-order-row">
						<div class="col-lg-3 col-md-3 col-sm-4 col-xs-8 form-group">
							<label class="hidden-xs" for="category">Категория</label>
							<select class="form-control js-select2 js-placeholder-category" name="category" id="category">
								<option></option>
								<option value="1">Суши</option>
								<option value="2">Роллы</option>
								<option value="3">Сеты</option>
							</select>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-5 col-xs-8 form-group">
							<label class="hidden-xs" for="cat_name">Наименование</label>
							<select class="form-control js-select2 js-placeholder-name" name="cat_name" id="cat_name">
								<option></option>
								<option value="1">Товар 1</option>
								<option value="2">Товар 2</option>
								<option value="3">Товар 3</option>
							</select>
						</div>
						<div class="col-lg-5 col-md-5 col-sm-3 col-xs-4 form-group order-btn-block no-label">
		                	<button type="button" class="btn btn-danger btn-remove-row jsRemove" title="Удалить" style="display: none;"><i class="fa fa-times" aria-hidden="true"></i></button>
		                	<button type="button" class="btn btn-success btn-add-row jsAddNew" title="Добавить"><i class="fa fa-plus" aria-hidden="true"></i></button>
		                </div>
		            </div>
	            </div>
				<div class="clearfix"></div>
				<div class="col-lg-9 col-md-9 col-sm-12 discount__right-btn">
					<button class="btn btn-default btn-p25" type="submit">Вернуться</button>
					<button class="btn btn-primary btn-p25" type="submit">Сохранить</button>
				</div>
			</div>
		</form>
    </div>

    <script id="dateRowTemplate" type="text/template">
		<div class="js-dates-row discount__dates-row" style="display:none;">
			<div class="col-lg-2 col-md-2 col-sm-3 col-xs-5">
				<label for="discount[1][date]">Дата</label>
				<div class="input-group datepicker">
					<input type="text" class="form-control" value="01.01.1995" name="discount[1][date]" placeholder="00.00.0000" maxlength="10">
					<span class="input-group-btn">
						<button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
					</span>
				</div>
			</div>
			<div class="clearfix visible-xs"></div>
			<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6 discount__times no-label">
				<div class="form-group">
					<input type="text" class="form-control js-timework" value="" name="discount[1][dates-timebeg]" maxlength="5" placeholder="00:00">
				</div>
				<div class="form-group-dash">&ndash;</div>
				<div class="form-group">
					<input type="text" class="form-control js-timework" value="" name="discount[1][dates-timeend]" maxlength="5" placeholder="00:00">
				</div>
			</div>
			<div class="col-lg-8 col-md-8 col-sm-6 col-xs-6 no-label form-group-btns">
				<button class="btn btn-cancel btn-neutral jsRemoveDate" style="display: none;" type="button" title="Удалить разряд">
					<i class="fa fa-times" aria-hidden="true"></i>
				</button>
				<button class="btn btn-add btn-neutral jsAddNewDate" type="button" title="Добавить разряд">
					<i class="fa fa-plus" aria-hidden="true"></i>
				</button>
			</div>
			<div class="clearfix"></div>
		</div>
	</script>
	
    <script id="periodDaysRowTemplate" type="text/template">
		<div class="js-period-days-row" style="display:none;">
			<div class="form-group col-md-2 col-sm-3 col-xs-4" data-type="month">
				<label for="discount[1][period-from]">Число начала</label>
				<select class="form-control js-period-from-input" name="discount[1][period-from]"></select>
			</div>
			<div class="form-group col-md-2 col-sm-3 col-xs-4" data-type="month">
				<label for="discount[1][period-to]">Число окончания</label>
				<select class="form-control js-period-to-input" name="discount[1][period-to]"></select>
			</div>
			<div class="col-lg-8 col-md-8 col-sm-6 col-xs-4 no-label form-group-btns">
				<button class="btn btn-cancel btn-neutral jsRemovePeriod" style="display: none;" type="button" title="Удалить период">
					<i class="fa fa-times" aria-hidden="true"></i>
				</button>
				<button class="btn btn-add btn-neutral jsAddNewPeriod" type="button" title="Добавить период">
					<i class="fa fa-plus" aria-hidden="true"></i>
				</button>
			</div>
			<div class="clearfix"></div>
		</div>
	</script>

    <script id="timeRowTemplate" type="text/template">
        <div class="js-time-row" style="display:none;">
			<div class="col-lg-4 col-md-4 col-sm-6 form-group">
                <label for="select-period">Период проведения</label>
				<select class="form-control js-select-period" name="select-period">
					<option value="dates">Определенные даты</option>
					<option value="period">Период</option>
					<option value="weekday">День недели</option>
					<option value="odd-days" selected="">Нечетные числа месяца</option>
					<option value="day-of-month">Число месяца</option>
					<option value="period-of-month">Период месяца</option>
				</select>
			</div>
			
			<div class="js-dates-block" style="display: none;">
				<div class="clearfix"></div>
				<div class="js-dates-row-block">
					<div class="js-dates-row discount__dates-row">
						<div class="col-lg-2 col-md-2 col-sm-3 col-xs-5">
							<label for="discount[1][date]">Дата</label>
							<div class="input-group datepicker">
								<input type="text" class="form-control" value="01.01.1995" name="discount[1][date]" placeholder="00.00.0000" maxlength="10">
								<span class="input-group-btn">
									<button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
								</span>
							</div>
						</div>
						<div class="clearfix visible-xs"></div>
						<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6 discount__times no-label">
							<div class="form-group">
								<input type="text" class="form-control js-timework" value="" name="discount[1][dates-timebeg]" maxlength="5" placeholder="00:00">
							</div>
							<div class="form-group-dash">&ndash;</div>
							<div class="form-group">
								<input type="text" class="form-control js-timework" value="" name="discount[1][dates-timeend]" maxlength="5" placeholder="00:00">
							</div>
						</div>
						<div class="col-lg-8 col-md-8 col-sm-6 col-xs-6 no-label form-group-btns">
							<button class="btn btn-cancel btn-neutral jsRemoveDate" style="display: none;" type="button" title="Удалить разряд">
								<i class="fa fa-times" aria-hidden="true"></i>
							</button>
							<button class="btn btn-add btn-neutral jsAddNewDate" type="button" title="Добавить разряд">
								<i class="fa fa-plus" aria-hidden="true"></i>
							</button>
						</div>
						<div class="clearfix"></div>
					</div>
				</div>
				<div class="clearfix"></div>
			</div>
			
			<div class="js-period-block" style="display: none;">
				<div class="clearfix"></div>
				<div class="col-lg-2 col-md-2 col-sm-3 col-xs-5">
					<label for="discount[1][period-start]">Дата начала</label>
					<div class="input-group datepicker">
						<input type="text" class="form-control" value="01.01.1995" name="discount[1][period-start]" placeholder="00.00.0000" maxlength="10">
						<span class="input-group-btn">
							<button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</div>
				</div>
				<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3 no-label">
					<div class="form-group">
						<input type="text" class="form-control js-timework" value="" name="discount[1][period-start]" maxlength="5" placeholder="00:00">
					</div>
				</div>
				<div class="col-lg-2 col-md-2 col-sm-3 col-xs-5">
					<label for="discount[1][period-end]">Дата окончания</label>
					<div class="input-group datepicker">
						<input type="text" class="form-control" value="01.01.1995" name="discount[1][period-end]" placeholder="00.00.0000" maxlength="10">
						<span class="input-group-btn">
							<button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</div>
				</div>
				<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3 no-label">
					<div class="form-group">
						<input type="text" class="form-control js-timework" value="" name="discount[1][period-end]" maxlength="5" placeholder="00:00">
					</div>
				</div>
			</div>
			
			<div class="js-weekdays-block" style="display: none;">
				<div class="clearfix"></div>
				<div class="col-lg-3 col-md-3 col-sm-5 col-xs-12 form-group form-group-date" data-type="week">
					<label>Дни недели</label>
					<div class="discount-weekdays weekdays">
						<div class="checkbox">
							<label><input type="checkbox" name="discount[1][weekdays]" value="0"><span>ПН</span></label>
						</div>
						<div class="checkbox">
							<label><input type="checkbox" name="discount[1][weekdays]" value="1"><span>ВТ</span></label>
						</div>
						<div class="checkbox">
							<label><input type="checkbox" name="discount[1][weekdays]" value="2"><span>СР</span></label>
						</div>
						<div class="checkbox">
							<label><input type="checkbox" name="discount[1][weekdays]" value="3"><span>ЧТ</span></label>
						</div>
						<div class="checkbox">
							<label><input type="checkbox" name="discount[1][weekdays]" value="4"><span>ПТ</span></label>
						</div>
						<div class="checkbox">
							<label><input type="checkbox" name="discount[1][weekdays]" value="5"><span>СБ</span></label>
						</div>
						<div class="checkbox">
							<label><input type="checkbox" name="discount[1][weekdays]" value="6"><span>ВС</span></label>
						</div>
					</div>
				</div>
			</div>
			
			<div class="js-day-of-month-group" style="display: none;">
				<div class="clearfix"></div>
				<div class="form-group col-md-4 col-sm-6 col-xs-12" data-type="month">
					<label for="discount[1][day-of-month]">Число</label>
					<select class="form-control js-day-of-month-input" name="discount[1][day-of-month]" multiple="multiple"></select>
				</div>
			</div>
			
			<div class="js-period-of-month-group" style="display: none;">
				<div class="clearfix"></div>
				<div class="js-period-days-row-block">
					<div class="js-period-days-row">
						<div class="form-group col-md-2 col-sm-3 col-xs-4" data-type="month">
							<label for="discount[1][period-from]">Число начала</label>
							<select class="form-control js-period-from-input" name="discount[1][period-from]"></select>
						</div>
						<div class="form-group col-md-2 col-sm-3 col-xs-4" data-type="month">
							<label for="discount[1][period-to]">Число окончания</label>
							<select class="form-control js-period-to-input" name="discount[1][period-to]"></select>
						</div>
						<div class="col-lg-8 col-md-8 col-sm-6 col-xs-4 no-label form-group-btns">
							<button class="btn btn-cancel btn-neutral jsRemovePeriod" style="display: none;" type="button" title="Удалить период">
								<i class="fa fa-times" aria-hidden="true"></i>
							</button>
							<button class="btn btn-add btn-neutral jsAddNewPeriod" type="button" title="Добавить период">
								<i class="fa fa-plus" aria-hidden="true"></i>
							</button>
						</div>
						<div class="clearfix"></div>
					</div>
				</div>
				<div class="clearfix"></div>
			</div>
			
			<div class="col-lg-2 col-md-2 col-sm-3 discount__times no-label js-timepicker-block">
				<div class="form-group">
					<input type="text" class="form-control js-timework" value="" name="discount[1][timebeg]" maxlength="5" placeholder="00:00">
				</div>
				<div class="form-group-dash">&ndash;</div>
				<div class="form-group">
					<input type="text" class="form-control js-timework" value="" name="discount[1][timeend]" maxlength="5" placeholder="00:00">
				</div>
			</div>
			
			<div class="js-repeat-block">
				<div class="clearfix visible-sm"></div>
				<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6 form-group">
					<label for="to-repeat">Повторять</label>
					<select class="form-control js-select-repeat" name="to-repeat">
						<option value="no-repeat">Не повторять</option>
						<option value="repeat" selected="">Кол-во повторов</option>
						<option value="all">Весь период акции</option>
					</select>
				</div>
				<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3 no-label form-group js-num-repeats-block num-repeats-block">
					<input type="text" class="form-control small-input" value="" name="discount[1][num-repeats]">
				</div>
			</div>
			<div class="clearfix js-clearfix-before-btn" style="display: none"></div>
			<div class="col-lg-2 col-md-2 col-sm-2 col-xs-3 time-btn-block no-label form-group">
				<button type="button" class="btn btn-danger btn-remove-row jsRemove" title="Удалить" style="display: none;"><i class="fa fa-times" aria-hidden="true"></i></button>
				<button type="button" class="btn btn-success btn-add-row jsAddNew" title="Добавить"><i class="fa fa-plus" aria-hidden="true"></i></button>
			</div>
			<div class="clearfix"></div>
		</div>
	</script>
	
    <script id="orderRowTemplate" type="text/template">
		<div class="js-order-row" style="display:none;">
			<div class="col-lg-3 col-md-3 col-sm-4 col-xs-8 form-group">
				<label class="hidden-xs" for="category">Категория</label>
				<select class="form-control js-select2 js-placeholder-category" name="category" id="category">
					<option></option>
					<option value="1">Суши</option>
					<option value="2">Роллы</option>
					<option value="3">Сеты</option>
				</select>
			</div>
			<div class="col-lg-4 col-md-4 col-sm-5 col-xs-8 form-group">
				<label class="hidden-xs" for="cat_name">Наименование</label>
				<select class="form-control js-select2 js-placeholder-name" name="cat_name" id="cat_name">
					<option></option>
					<option value="1">Товар 1</option>
					<option value="2">Товар 2</option>
					<option value="3">Товар 3</option>
				</select>
			</div>
			<div class="col-lg-5 col-md-5 col-sm-3 col-xs-4 form-group order-btn-block no-label">
            	<button type="button" class="btn btn-danger btn-remove-row jsRemove" title="Удалить" style="display: none;"><i class="fa fa-times" aria-hidden="true"></i></button>
            	<button type="button" class="btn btn-success btn-add-row jsAddNew" title="Добавить"><i class="fa fa-plus" aria-hidden="true"></i></button>
            </div>
        </div>
	</script>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="bootstrap-3.3.7/js/bootstrap.min.js"></script>

<!-- Bootstrap DateTimepicker, https://eonasdan.github.io/bootstrap-datetimepicker/ -->
<script type="text/javascript" src="js/moment-with-locales.min.js"></script>
<script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"></script>

<!-- Select2, https://select2.org/getting-started/basic-usage -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/js/select2.full.min.js"></script>

<!-- Custom Scroll, http://gromo.github.io/jquery.scrollbar/-->
<script src="js/jquery.scrollbar.min.js"></script>

<script type="text/javascript" src="js/js-gl.js"></script>

    <script type="text/javascript">
        $(function() {			
			initNavbar();
			
			$('.js-timework').datetimepicker({
				language: 'ru',
				format: 'LT',
				pickDate: false
			});

			$('.js-select2').select2({
                width: '100%'
            });
            
			$('.datepicker').datetimepicker({
				language: 'ru',
				pickTime: false
			});
            
			dayOfMonth('.js-day-of-month-input');
			dayOfMonth('.js-period-from-input');
			dayOfMonth('.js-period-to-input');
			
	        var placeholdersOnXS = (function() {
	        	var winWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
				if (winWidth < 768) {
					placeholderSelect2('.js-placeholder-category', 'Категория');
					placeholderSelect2('.js-placeholder-name', 'Наименование');
				} else {
					placeholderSelect2('.js-placeholder-category', ' ');
					placeholderSelect2('.js-placeholder-name', ' ');
				}
	        });
	        
	        $(window).on('load resize', function() {
				placeholdersOnXS();
			});
			
            $(document).on('change', '.js-action-type', function() {
                var select = $(document).find('.js-action-type'),
                    now = select.val(),
                    block = select.closest('.js-discount-form'),
                    promo = block.find('.js-promocode-block'),
                    req = block.find('.js-requirement-block');
                
                if (now === 'promocode' || now === 'both') {
                    promo.show();
                } else {
                    promo.hide();
                }
                
                if (now === 'requirement' || now === 'both') {
                    req.show();
                } else {
                    req.hide();
                }
            });

			$(document).on('change', '.js-condition-type', function (e) {
				var select = $(document).find('.js-condition-type'),
                    now = select.val(),
                    block = select.closest('.js-discount-form'),
                    time = block.find('.js-time-block'),
                    summ = block.find('.js-summ-block'),
                    order = block.find('.js-order-block');
                    
                showOrHideBlock(time, 'time', now);
                showOrHideBlock(summ, 'summ', now);
                showOrHideBlock(order, 'order', now);
			});
			

 
            $(document).on('change', '.js-select-repeat', function() {
                var select = $(this),
                    now = select.val(),
                    block = select.closest('.js-time-row'),
                    num_repeats = block.find('.js-num-repeats-block');
                
                if (now === 'repeat') {
                    num_repeats.show();
                } else {
                    num_repeats.hide();
                }
            });
			
            var editDates = (function() {
                var me = {};
                me.blockEdit = $('.js-dates-row-block');
                me.init = function() {
					$(document).on('click', '.jsAddNewDate', me.addNewDate);
					$(document).on('click', '.jsRemoveDate', me.removeDate);					
                    //me.blockEdit.on('click', '.jsAddNewDate', me.addNewDate);
                    //me.blockEdit.on('click', '.jsRemoveDate', me.removeDate);
                }
                me.addNewDate = function() {
                    var parent = $(this).closest('.js-dates-row-block'),
                        dateRowTemplate = $('#dateRowTemplate'),
                        row = parent.find('.js-dates-row'),
                        addBtn = row.find('.jsAddNewDate'),
                        allDelBtn, newRow;
                    
                    if (!dateRowTemplate) return false;
                    dateRowTemplate = $(dateRowTemplate.html());
                    dateRowTemplate.appendTo(parent);
                    addBtn.hide();
                    
					allDelBtn = parent.find('.jsRemoveDate');
					allDelBtn.show();
					newRow = parent.find('.js-dates-row:last-child');
                    newRow.fadeIn(500);
					
					$('.js-timework').datetimepicker({
						language: 'ru',
						format: 'LT',
						pickDate: false
					});
					
					datepicker = newRow.find('.datepicker');
					datepicker.datetimepicker({
						language: 'ru',
						pickTime: false
					});
                }
                me.removeDate = function() {
                    var parent = $(this).closest('.js-dates-row-block'),
                    	row = $(this).closest('.js-dates-row'),
                    	rowLastChild = parent.find('.js-dates-row:last-child'),
                    	lastRow, lastRow_index, addBtn, delBtn;
                    
                    if (row.index() === rowLastChild.index()) {
                    	lastRow_index = row.index() - 1;
			        	lastRow = $(this).closest('.js-dates-row-block').find('.js-dates-row:eq(' + lastRow_index + ')');
			        } else {
			        	lastRow = rowLastChild;
			        }
			        
					addBtn = lastRow.find('.jsAddNewDate');
                	addBtn.show();
                	
					row.fadeOut(500, function() {
						row.remove();
					});
					
					if (rowLastChild.index() === 1) {
						delBtn = parent.find('.jsRemoveDate');
						delBtn.hide();
					}
                }
                return me;
            }());
           
            var editPeriods = (function() {
                var me = {};
                me.blockEdit = $('.js-period-days-row-block');
                me.init = function() {
                    me.blockEdit.on('click', '.jsAddNewPeriod', me.addNewPeriod);
                    me.blockEdit.on('click', '.jsRemovePeriod', me.removePeriod);
                }
                me.addNewPeriod = function() {
                    var parent = $(this).closest('.js-period-days-row-block'),
                        periodRowTemplate = $('#periodDaysRowTemplate'),
                        row = parent.find('.js-period-days-row'),
                        addBtn = row.find('.jsAddNewPeriod'),
                        allDelBtn, newRow, inputFrom, inputTo;
                    
                    if (!periodRowTemplate) return false;
                    periodRowTemplate = $(periodRowTemplate.html());
                    periodRowTemplate.appendTo(parent);
                    addBtn.hide();
                    
					allDelBtn = parent.find('.jsRemovePeriod');
					allDelBtn.show();
					newRow = parent.find('.js-period-days-row:last-child');
                    newRow.fadeIn(500);
					
                    inputFrom = newRow.find('.js-period-from-input');
                    inputTo = newRow.find('.js-period-to-input');
					dayOfMonth(inputFrom);
					dayOfMonth(inputTo);
                }
                me.removePeriod = function() {
                    var parent = $(this).closest('.js-period-days-row-block'),
                    	row = $(this).closest('.js-period-days-row'),
                    	rowLastChild = parent.find('.js-period-days-row:last-child'),
                    	lastRow, lastRow_index, addBtn, delBtn;
                    
                    if (row.index() === rowLastChild.index()) {
                    	lastRow_index = row.index() - 1;
			        	lastRow = $(this).closest('.js-period-days-row-block').find('.js-period-days-row:eq(' + lastRow_index + ')');
			        } else {
			        	lastRow = rowLastChild;
			        }
			        
					addBtn = lastRow.find('.jsAddNewPeriod');
                	addBtn.show();
                	
					row.fadeOut(500, function() {
						row.remove();
					});
					
					if (rowLastChild.index() === 1) {
						delBtn = parent.find('.jsRemovePeriod');
						delBtn.hide();
					}
                }
                return me;
            }());
            
            var editTime = (function() {
                var me = {};
                me.blockEdit = $('.js-time-block');
                me.init = function() {
                    me.blockEdit.on('click', '.jsAddNew', me.addNewItem);
                    me.blockEdit.on('click', '.jsRemove', me.removeItem);
                }
                me.addNewItem = function() {
                    var parent = $(this).closest('.js-time-block'),
                        rowTemplate = $('#timeRowTemplate'),
                        row = parent.find('.js-time-row'),
                        addBtn = row.find('.jsAddNew'),
                        allDelBtn, newRow, datepicker, inputDay, inputFrom, inputTo;
                    
                    if (!rowTemplate) return false;
                    rowTemplate = $(rowTemplate.html());
                    rowTemplate.appendTo(parent);
                    addBtn.hide();
                    
					allDelBtn = parent.find('.jsRemove');
					allDelBtn.show();
					newRow = parent.find('.js-time-row:last-child');
                    newRow.fadeIn(500);
					
					$('.js-timework').datetimepicker({
						language: 'ru',
						format: 'LT',
						pickDate: false
					});
					
					datepicker = newRow.find('.datepicker');
					datepicker.datetimepicker({
						language: 'ru',
						pickTime: false
					});
					
                    inputDay = newRow.find('.js-day-of-month-input');
					dayOfMonth(inputDay);
                    inputFrom = newRow.find('.js-period-from-input');
					dayOfMonth(inputFrom);
                    inputTo = newRow.find('.js-period-to-input');
					dayOfMonth(inputTo);
                }
                me.removeItem = function() {
                    var parent = $(this).closest('.js-time-block'),
                    	row = $(this).closest('.js-time-row'),
                    	rowLastChild = parent.find('.js-time-row:last-child'),
                    	lastRow, addBtn, delBtn;
                    	
                    if (row.index() === rowLastChild.index()) {
                    	lastRow_index = row.index() - 2; // стоит -2, а не -1, т.к. в начале есть блок с заголовком
			        	lastRow = $(this).closest('.js-time-block').find('.js-time-row:eq(' + lastRow_index + ')');
			        } else {
			        	lastRow = rowLastChild;
			        }
					addBtn = lastRow.find('.jsAddNew');
                	addBtn.show();
                	
					row.fadeOut(500, function() {
						row.remove();
					});
					
					if (rowLastChild.index() === 2) {
						delBtn = parent.find('.jsRemove');
						delBtn.hide();
					}
                }
                return me;
            }());

            var editOrder = (function() {
                var me = {};
                me.blockEdit = $('.js-order-block');
                me.init = function() {
                    me.blockEdit.on('click', '.jsAddNew', me.addNewItem);
                    me.blockEdit.on('click', '.jsRemove', me.removeItem);
                }
                me.addNewItem = function() {
                    var parent = $(this).closest('.js-order-block'),
                        rowTemplate = $('#orderRowTemplate'),
                        row = parent.find('.js-order-row'),
                        addBtn = row.find('.jsAddNew'),
                        allDelBtn, newRow;

                    if (!rowTemplate) return false;
                    rowTemplate = $(rowTemplate.html());
                    rowTemplate.appendTo(parent);
                    addBtn.hide();
                    
					allDelBtn = parent.find('.jsRemove');
                    allDelBtn.show();
                    newRow = parent.find('.js-order-row:last-child');
                    newRow.fadeIn(500);
                    
                    placeholdersOnXS();
                }
                me.removeItem = function() {
                    var parent = $(this).closest('.js-order-block'),
                    	row = $(this).closest('.js-order-row'),
                    	rowLastChild = parent.find('.js-order-row:last-child'),
                    	lastRow, addBtn, delBtn;
                    
                    if (row.index() === rowLastChild.index()) {
                    	lastRow_index = row.index() - 2; //стоит -2, а не -1, т.к. в начале есть блок с заголовком
			        	lastRow = parent.find('.js-order-row:eq(' + lastRow_index + ')');
			        } else {
			        	lastRow = rowLastChild;
			        }
					addBtn = lastRow.find('.jsAddNew');
                	addBtn.show();
                	
					row.fadeOut(500, function() {
						row.remove();
					});
					
					if (rowLastChild.index() === 2) {
						delBtn = parent.find('.jsRemove');
						delBtn.hide();
					}
                }
                return me;
            }());
			
			$(document).on('change', '.js-select-period', function() {
				var select = $(this),
					now = select.val(),
					block = select.closest('.js-time-row'),
					dates = block.find('.js-dates-block'),
					period = block.find('.js-period-block'),
					weekdays = block.find('.js-weekdays-block'),
					day_of_month = block.find('.js-day-of-month-group'),
					period_of_month = block.find('.js-period-of-month-group'),
					timepicker = block.find('.js-timepicker-block'),
					repeat = block.find('.js-repeat-block'),
					clearfix = block.find('.js-clearfix-before-btn');
					
				switch(now) {
					case 'dates':
						dates.show();
						period.hide();
						weekdays.hide();
						day_of_month.hide();
						period_of_month.hide();
						timepicker.hide();
						repeat.hide();
						clearfix.hide();
						break;
					case 'period':
						dates.hide();
						period.show();
						weekdays.hide();
						day_of_month.hide();
						period_of_month.hide();
						timepicker.hide();
						repeat.hide();
						clearfix.hide();
						break;
					case 'weekday':
						dates.hide();
						period.hide();
						weekdays.show();
						day_of_month.hide();
						period_of_month.hide();
						timepicker.show();
						repeat.show();
						clearfix.hide();
						break;
					case 'odd-days':
						dates.hide();
						period.hide();
						weekdays.hide();
						day_of_month.hide();
						period_of_month.hide();
						timepicker.show();
						repeat.show();
						clearfix.hide();
						break;
					case 'day-of-month':
						weekdays.hide();
						period.hide();
						dates.hide();
						day_of_month.show();
						period_of_month.hide();
						timepicker.show();
						repeat.show();
						clearfix.hide();
						break;
					case 'period-of-month':
						dates.hide();
						period.hide();
						weekdays.hide();
						day_of_month.hide();
						period_of_month.show();
						timepicker.show();
						repeat.show();
						clearfix.show();
						break;
				}
				
				
			});			

            // если на странице есть нужный селектор, запускать функцию
            document.querySelector('.js-dates-row-block') && editDates.init();
            document.querySelector('.js-period-days-row-block') && editPeriods.init();
            document.querySelector('.js-time-block') && editTime.init();
            document.querySelector('.js-order-block') && editOrder.init();
        });
		
    </script>

</body>

</html>