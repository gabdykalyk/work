<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Редактирование должности</title>

    <!-- <link href="bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet"> -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link href="fonts/fontawesome/css/all.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/css/select2.min.css" rel="stylesheet" />
<link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet" />
<link href="css/main.min.css" rel="stylesheet">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>
    <div class="hat-scaffold">
        <div class="hat-scaffold__navbar">
            <nav class="hat-navbar">
    <div class="hat-navbar__content-wrapper">
        <div class="hat-navbar__content">
            <div class="hat-navbar__header">
                <div class="hat-navbar__user">
                    <div class="hat-navbar__avatar">
                        <img class="hat-navbar__avatar-img" src="images/avatar.jpg">
                    </div>

                    <div class="hat-navbar__user-name">
                        Анастасия Соколова
                    </div>
                </div>

                <div class="hat-navbar__notifications">
                    <div class="hat-navbar__notifications-icon">
                        <div class="hat-navbar__notifications-icon-counter">28</div>
                        <i class="far fa-bell"></i>
                    </div>
                </div>
            </div>

            <ul class="nav hat-navbar__menu">
                <li class="hat-navbar__menu-item" data-hat-navbar-drawer-content-name="calculations">
                    <i class="far fa-calculator hat-navbar__menu-item-icon"></i>
                    <span class="hat-navbar__menu-item-name">Расчёты</span>
                </li>

                <li class="hat-navbar__menu-item" data-hat-navbar-drawer-content-name="hr">
                    <i class="far fa-user-tie hat-navbar__menu-item-icon"></i>
                    <span class="hat-navbar__menu-item-name">Кадры</span>
                </li>

                <li class="hat-navbar__menu-item" data-hat-navbar-drawer-content-name="documents">
                    <i class="far fa-chart-bar hat-navbar__menu-item-icon"></i>
                    <span class="hat-navbar__menu-item-name">Отчёты</span>
                </li>

                <li class="hat-navbar__menu-item" data-hat-navbar-drawer-content-name="reference">
                    <i class="far fa-book hat-navbar__menu-item-icon"></i>
                    <span class="hat-navbar__menu-item-name">Справочники</span>
                </li>

                <li class="hat-navbar__menu-item" data-hat-navbar-drawer-content-name="search">
                    <i class="far fa-bars hat-navbar__menu-item-icon"></i>
                    <span class="hat-navbar__menu-item-name">Все разделы</span>
                </li>
            </ul>

            <div class="hat-navbar__spacer"></div>

            <div class="hat-navbar__actions hat-navbar__actions--main">
                <a href="#" class="hat-navbar__action">
                    <i class="far fa-cog hat-navbar__action-icon"></i>
                    <span class="hat-navbar__action-name">Настройки</span>
                </a>

                <a href="#" class="hat-navbar__action">
                    <i class="far fa-life-ring hat-navbar__action-icon"></i>
                    <span class="hat-navbar__action-name">Помощь</span>
                </a>
            </div>

            <button class="btn hat-navbar__toggle">
                <i class="fas fa-chevron-left"></i>
            </button>
        </div>
    </div>

    <div class="hat-navbar__drawer">
        <div class="hat-navbar__drawer-content-wrapper scrollbar-inner">
            <div class="hat-navbar__drawer-content" data-hat-navbar-drawer-content-name="user" data-hat-navbar-drawer-class="hat-navbar__drawer-user">
                <div class="hat-navbar__submenu">
                    <div class="hat-navbar__submenu-header hat-navbar__additional-user-name" style="display: none">
                        Анастасия Соколова
                    </div>

                    <div class="hat-navbar__submenu-content">
                        <a class="hat-navbar__submenu-item" href="#">Профиль</a>
                        <a class="hat-navbar__submenu-item" href="#">Настройки</a>
                    </div>
                </div>

                <a class="hat-navbar__logout-button" href="#">
                    <i class="far fa-sign-out"></i>
                    Выход
                </a>
            </div>

            <div class="hat-navbar__drawer-content" data-hat-navbar-drawer-content-name="notifications" data-hat-navbar-drawer-class="hat-navbar__drawer-notifications">
                <ul class="notice-list">
                    <li>
                        <p>16.05.2019 <span class="danger">Выписан штраф с объяснительной</span></p>
                        <a href="#" class="btn btn-default btn-go">Перейти к просмотру</a>
                    </li>
                    <li>
                        <p>16.05.2019 <span class="danger">Выписано нарушение с объяснительной</span></p>
                        <a href="#" class="btn btn-default btn-go">Перейти к просмотру</a>
                    </li>
                    <li>
                        <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                            Бутово, Щербинка, Эталон, Коммунарка</p>
                    </li>
                    <li>
                        <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                            Бутово, Щербинка, Эталон, Коммунарка</p>
                        <div class="file">
                            <a class="file__block" href="#">
                                <div class="file__img" style="background-image: url(images/img1.jpg);"></div>
                            </a>
                            <a class="file__block" href="#">
                                <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="file">
                            <a class="file__block" href="#">
                                <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                            Бутово, Щербинка, Эталон, Коммунарка</p>
                    </li>
                    <li>
                        <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                            Бутово, Щербинка, Эталон, Коммунарка</p>
                        <div class="file">
                            <a class="file__block" href="#">
                                <div class="file__img" style="background-image: url(images/img1.jpg);"></div>
                            </a>
                            <a class="file__block" href="#">
                                <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                            </a>
                            <a class="file__block" href="#">
                                <div class="file__img" style="background-image: url(images/img1.jpg);"></div>
                            </a>
                            <a class="file__block" href="#">
                                <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="file">
                            <a class="file__block" href="#">
                                <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                            Бутово, Щербинка, Эталон, Коммунарка</p>
                    </li>
                    <li>
                        <p>28.04.2019 собрание для операторов, водителей, тех. сотрудников и администраторов филиалов
                            Бутово, Щербинка, Эталон, Коммунарка</p>
                        <div class="file">
                            <a class="file__block" href="#">
                                <div class="file__img" style="background-image: url(images/img1.jpg);"></div>
                            </a>
                            <a class="file__block" href="#">
                                <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="file">
                            <a class="file__block" href="#">
                                <div class="file__file" style="color: #337AB7;"><i class="far fa-file-word"></i></div>
                            </a>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="hat-navbar__drawer-content" data-hat-navbar-drawer-content-name="calculations" data-hat-navbar-drawer-class="hat-navbar__drawer-menu-base">
                <div class="hat-navbar__submenu">
                    <div class="hat-navbar__submenu-header">Расчёты</div>
                    <div class="hat-navbar__submenu-content">
                        <a class="hat-navbar__submenu-item" href="#">Сотрудники</a>
                        <a class="hat-navbar__submenu-item" href="#">Штатная численность</a>
                        <a class="hat-navbar__submenu-item" href="#">Потребность в персонале</a>
                        <a class="hat-navbar__submenu-item" href="#">Кандидаты</a>
                        <a class="hat-navbar__submenu-item hat-navbar__submenu-item--active" href="#">Жалобы и
                            предложения</a>
                        <a class="hat-navbar__submenu-item" href="#">Приказы/инструкции</a>
                        <a class="hat-navbar__submenu-item" href="#">Анкеты водителей</a>
                        <a class="hat-navbar__submenu-item" href="#">Праздничные надбавки</a>
                        <a class="hat-navbar__submenu-item" href="#">Надбавки за лучшие показатели</a>
                        <a class="hat-navbar__submenu-item" href="#">Договоры</a>
                        <a class="hat-navbar__submenu-item" href="#">Управление уведомлениями</a>
                    </div>
                </div>
            </div>

            <div class="hat-navbar__drawer-content" data-hat-navbar-drawer-content-name="hr" data-hat-navbar-drawer-class="hat-navbar__drawer-menu-base">
                <div class="hat-navbar__submenu">
                    <div class="hat-navbar__submenu-header">Кадры</div>
                    <div class="hat-navbar__submenu-content">
                        <a class="hat-navbar__submenu-item" href="#">Сотрудники</a>
                        <a class="hat-navbar__submenu-item" href="#">Штатная численность</a>
                        <a class="hat-navbar__submenu-item" href="#">Потребность в персонале</a>
                        <a class="hat-navbar__submenu-item" href="#">Кандидаты</a>
                        <a class="hat-navbar__submenu-item hat-navbar__submenu-item--active" href="#">Жалобы и
                            предложения</a>
                        <a class="hat-navbar__submenu-item" href="#">Приказы/инструкции</a>
                        <a class="hat-navbar__submenu-item" href="#">Анкеты водителей</a>
                        <a class="hat-navbar__submenu-item" href="#">Праздничные надбавки</a>
                        <a class="hat-navbar__submenu-item" href="#">Надбавки за лучшие показатели</a>
                        <a class="hat-navbar__submenu-item" href="#">Договоры</a>
                        <a class="hat-navbar__submenu-item" href="#">Управление уведомлениями</a>
                    </div>
                </div>
            </div >

            <div class="hat-navbar__drawer-content" data-hat-navbar-drawer-content-name="documents" data-hat-navbar-drawer-class="hat-navbar__drawer-menu-base">
                <div class="hat-navbar__submenu">
                    <div class="hat-navbar__submenu-header">Документы</div>
                    <div class="hat-navbar__submenu-content">
                        <a class="hat-navbar__submenu-item" href="#">Сотрудники</a>
                        <a class="hat-navbar__submenu-item" href="#">Штатная численность</a>
                        <a class="hat-navbar__submenu-item" href="#">Потребность в персонале</a>
                        <a class="hat-navbar__submenu-item" href="#">Кандидаты</a>
                        <a class="hat-navbar__submenu-item hat-navbar__submenu-item--active" href="#">Жалобы и
                            предложения</a>
                        <a class="hat-navbar__submenu-item" href="#">Приказы/инструкции</a>
                        <a class="hat-navbar__submenu-item" href="#">Анкеты водителей</a>
                        <a class="hat-navbar__submenu-item" href="#">Праздничные надбавки</a>
                        <a class="hat-navbar__submenu-item" href="#">Надбавки за лучшие показатели</a>
                        <a class="hat-navbar__submenu-item" href="#">Договоры</a>
                        <a class="hat-navbar__submenu-item" href="#">Управление уведомлениями</a>
                    </div>
                </div>
            </div>

            <div class="hat-navbar__drawer-content" data-hat-navbar-drawer-content-name="reference" data-hat-navbar-drawer-class="hat-navbar__drawer-menu-base">
                <div class="hat-navbar__submenu">
                    <div class="hat-navbar__submenu-header">Справочники</div>
                    <div class="hat-navbar__submenu-content">
                        <a class="hat-navbar__submenu-item" href="#">Сотрудники</a>
                        <a class="hat-navbar__submenu-item" href="#">Штатная численность</a>
                        <a class="hat-navbar__submenu-item" href="#">Потребность в персонале</a>
                        <a class="hat-navbar__submenu-item" href="#">Кандидаты</a>
                        <a class="hat-navbar__submenu-item hat-navbar__submenu-item--active" href="#">Жалобы и
                            предложения</a>
                        <a class="hat-navbar__submenu-item" href="#">Приказы/инструкции</a>
                        <a class="hat-navbar__submenu-item" href="#">Анкеты водителей</a>
                        <a class="hat-navbar__submenu-item" href="#">Праздничные надбавки</a>
                        <a class="hat-navbar__submenu-item" href="#">Надбавки за лучшие показатели</a>
                        <a class="hat-navbar__submenu-item" href="#">Договоры</a>
                        <a class="hat-navbar__submenu-item" href="#">Управление уведомлениями</a>
                    </div>
                </div>
            </div>

            <div class="hat-navbar__drawer-content" data-hat-navbar-drawer-content-name="search" data-hat-navbar-drawer-class="hat-navbar__drawer-menu-search">
                <div class="hat-navbar__contents">
                    <div class="hat-navbar__contents-search-field  hat-navbar__contents-search-field--empty">
                        <input class="hat-navbar__contents-search-field-input" placeholder="Поиск">
                        <button class="btn hat-navbar__contents-search-field-clear-button">
                            <i class="fal fa-times"></i>
                        </button>
                    </div>

                    <div class="hat-navbar__contents-content">
                        <div class="hat-navbar__contents-content-column">
                            <div class="hat-navbar__submenu">
                                <div class="hat-navbar__submenu-header">Отчёты</div>
                                <div class="hat-navbar__submenu-content">
                                    <a class="hat-navbar__submenu-item" href="#">Свободный отчёт</a>
                                    <a class="hat-navbar__submenu-item" href="#">Доставка свободный</a>
                                    <a class="hat-navbar__submenu-item" href="#">Оплата труда</a>
                                    <a class="hat-navbar__submenu-item" href="#">Доставка по сотрудникам</a>
                                    <a class="hat-navbar__submenu-item" href="#">КОРФ/Нагрузка/Опоздания</a>
                                    <a class="hat-navbar__submenu-item" href="#">КОРФ/Нагрузка/Опоздания по должностям</a>
                                    <a class="hat-navbar__submenu-item" href="#">Свободный — таблица</a>
                                    <a class="hat-navbar__submenu-item" href="#">Опоздания</a>
                                    <a class="hat-navbar__submenu-item" href="#">Депозиты</a>
                                    <a class="hat-navbar__submenu-item" href="#">Рекомендации по смене разрядов</a>
                                    <a class="hat-navbar__submenu-item" href="#">Штрафы и премии</a>
                                    <a class="hat-navbar__submenu-item" href="#">KPI и отзывы водителей</a>
                                    <a class="hat-navbar__submenu-item" href="#">Водители, не добравшиеся до минималки</a>
                                    <a class="hat-navbar__submenu-item" href="#">Внешние заказы</a>
                                    <a class="hat-navbar__submenu-item" href="#">Сводный по нарушениям</a>
                                </div>
                            </div>
                        </div>

                        <div class="hat-navbar__contents-content-column">
                            <div class="hat-navbar__submenu">
                                <div class="hat-navbar__submenu-header">Пользователи</div>
                                <div class="hat-navbar__submenu-content">
                                    <a class="hat-navbar__submenu-item" href="#">Список пользователей</a>
                                    <a class="hat-navbar__submenu-item" href="#">Роли пользователей</a>
                                    <a class="hat-navbar__submenu-item" href="#">Ответственные за карьеру</a>
                                </div>
                            </div>

                            <div class="hat-navbar__submenu">
                                <div class="hat-navbar__submenu-header">Графики</div>
                                <div class="hat-navbar__submenu-content">
                                    <a class="hat-navbar__submenu-item" href="#">Мероприятия</a>
                                    <a class="hat-navbar__submenu-item" href="#">Рабочие графики</a>
                                </div>
                            </div>

                            <div class="hat-navbar__submenu">
                                <div class="hat-navbar__submenu-header">Листовки</div>
                                <div class="hat-navbar__submenu-content">
                                    <a class="hat-navbar__submenu-item" href="#">Статистика по листовкам</a>
                                    <a class="hat-navbar__submenu-item" href="#">Отработанные адреса</a>
                                </div>
                            </div>

                            <div class="hat-navbar__submenu">
                                <div class="hat-navbar__submenu-header">Маркетинг</div>
                                <div class="hat-navbar__submenu-content">
                                    <a class="hat-navbar__submenu-item" href="#">Маркетинг</a>
                                    <a class="hat-navbar__submenu-item" href="#">Акции</a>
                                </div>
                            </div>
                        </div>

                        <div class="hat-navbar__contents-content-column">
                            <a class="hat-navbar__submenu-item hat-navbar__submenu-item--single" href="#">Штрафы/Премии</a>
                            <a class="hat-navbar__submenu-item hat-navbar__submenu-item--single" href="#">Нарушения</a>
                            <a class="hat-navbar__submenu-item hat-navbar__submenu-item--single" href="#">Плохие отзывы</a>
                            <a class="hat-navbar__submenu-item hat-navbar__submenu-item--single" href="#">Жалобы и
                                предложения</a>
                            <a class="hat-navbar__submenu-item hat-navbar__submenu-item--single" href="#">Зоны доставки</a>
                            <a class="hat-navbar__submenu-item hat-navbar__submenu-item--single" href="#">Инструкция</a>
                        </div>
                    </div>

                    <div class="hat-navbar__actions hat-navbar__actions--additional">
                        <a href="#" class="hat-navbar__action">
                            <i class="far fa-cog hat-navbar__action-icon"></i>
                            <span class="hat-navbar__action-name">Настройки</span>
                        </a>

                        <a href="#" class="hat-navbar__action">
                            <i class="far fa-life-ring hat-navbar__action-icon"></i>
                            <span class="hat-navbar__action-name">Помощь</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="hat-navbar__backdrop"></div>
</nav>

        </div>

        <div class="hat-scaffold__body">
            <div class="hat-scaffold__body-content">
                <div class="hat-scaffold__content-wrapper">
                    <div class="edit-position__content" data-bind="childrenComplete: onInit">
                        <div class="hat-scaffold__head">
                            <h1>Редактирование должности «<!-- ko text: position.name --><!-- /ko -->»</h1>
                        </div>

                        <div class="edit-position__tab-group">
                            <ul class="nav nav-tabs">
                                <li><a href="#settings" role="tab" data-toggle="tab">Настройки</a></li>
                                <li><a href="#surcharges" role="tab" data-toggle="tab">Доплаты</a></li>
                                <li class="active"><a href="#contracts" role="tab" data-toggle="tab">Договоры</a></li>
                            </ul>

                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane" id="settings">
                                    Содержимое вкладки
                                </div>

                                <div role="tabpanel" class="tab-pane" id="surcharges">
                                    Содержимое вкладки
                                </div>

                                <div role="tabpanel" class="tab-pane active" id="contracts">
                                    <div class="edit-position__contracts-tab-pane-content">
                                        <div class="form-group edit-position__contracts-search search-global search-global--empty">
                                            <input class="form-control" placeholder="Поиск" data-bind="textInput: searchTerm">

                                            <button type="button" class="btn btn-default search-global__search-clear-button"
                                                    title="Удалить">
                                                <i class="far fa-times"></i>
                                            </button>
                                        </div>

                                        <div class="edit-position__contracts-table">
                                        <div class="edit-position__contracts-table-head">
                                            <div class="edit-position__contracts-table-head-row">
                                                <div class="edit-position__contracts-table-head-cell edit-position__contracts-table-name-head-cell">
                                                    Название
                                                </div>

                                                <div class="edit-position__contracts-table-head-cell edit-position__contracts-table-branches-head-cell">
                                                    Филиалы
                                                </div>

                                                <div class="edit-position__contracts-table-head-cell edit-position__contracts-table-actions-head-cell"></div>
                                            </div>
                                        </div>

                                        <ul class="edit-position__contracts-table-body">
                                            <!-- ko foreach: { data: categories, beforeRemove: tableRowBeforeRemove } -->
                                            <!-- ko if: $root.isCategoryVisible($data.id) -->
                                            <li
                                                    class="edit-position__contracts-table-row edit-position__contracts-table-category-row"
                                                    data-bind="
                                                css: {
                                                    'edit-position__contracts-table-category-row--empty': !$root.hasContracts($data.id),
                                                    'edit-position__contracts-table-category-row--last': $index() === $root.categories().length - 1 && $root.getContracts(null).length > 0
                                                }
                                            "
                                            >
                                                <div class="edit-position__contracts-table-row-header">
                                                    <div class="edit-position__contracts-table-cell edit-position__contracts-table-name-cell">
                                                        <div class="edit-position__contracts-table-category-row-toggle" data-bind="click: function() { $root.toggleCategory($data.id); }">
                                                            <!-- ko if: $root.hasContracts($data.id) -->
                                                            <!-- ko if: $root.isCategoryOpen($data.id) -->
                                                            <i class="fa fa-chevron-circle-up"></i>
                                                            <!-- /ko -->

                                                            <!-- ko if: !$root.isCategoryOpen($data.id) -->
                                                            <i class="fa fa-chevron-circle-down"></i>
                                                            <!-- /ko -->
                                                            <!-- /ko -->
                                                            <span class="edit-position__contracts-table-name" data-bind="text: name"></span>
                                                        </div>
                                                    </div>

                                                    <div class="edit-position__contracts-table-cell edit-position__contracts-table-branches-cell">
                                                    </div>

                                                    <div class="edit-position__contracts-table-cell edit-position__contracts-table-positions-cell">
                                                    </div>

                                                    <div class="edit-position__contracts-table-cell edit-position__contracts-table-actions-cell"></div>
                                                </div>

                                                <ul class="edit-position__contracts-table-row-content" data-bind="contractsCategoryOpen: $root.isCategoryContractsVisible($data.id)">
                                                    <!-- ko foreach: { data: $root.getContracts($data.id), beforeRemove: $root.tableRowBeforeRemove } -->
                                                    <!-- ko if: $root.isContractVisible($data.id) -->
                                                    <!-- ko template: { name: 'table-contract-row-template', data: $data } --><!-- /ko -->
                                                    <!-- /ko -->
                                                    <!-- /ko -->
                                                </ul>
                                            </li>
                                            <!-- /ko -->
                                            <!-- /ko -->

                                            <!-- ko foreach: { data: getContracts(null), beforeRemove: $root.tableRowBeforeRemove } -->
                                            <!-- ko if: $root.isContractVisible($data.id) -->
                                            <!-- ko template: { name: 'table-contract-row-template', data: $data } --><!-- /ko -->
                                            <!-- /ko -->
                                            <!-- /ko -->
                                        </ul>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ko component: { name: 'modal-container', params: { opens: modalOpens } } --><!-- /ko -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/html" id="table-contract-row-template">
        <li class="edit-position__contracts-table-row edit-position__contracts-table-contract-row">
            <div class="edit-position__contracts-table-row-header">
                <div class="edit-position__contracts-table-cell edit-position__contracts-table-name-cell">
                    <span class="edit-position__contracts-table-name" data-bind="text: name"></span>
                </div>

                <div class="edit-position__contracts-table-cell edit-position__contracts-table-branches-cell"
                     data-bind="text: branches !== null ? branches.join(', ') : 'Для всех'">
                </div>

                <div class="edit-position__contracts-table-cell edit-position__contracts-table-actions-cell">
                    <button type="button" class="btn btn-default btn-w-30 edit-position__contracts-table-row-view-button"
                            title="Просмотр" data-bind="click: function () { $root.openViewContractModal($data.id); }">
                        <i class="far fa-eye"></i>
                    </button>

                    <a type="button" class="btn btn-default btn-w-30 edit-position__contracts-table-row-print-button"
                        title="Печатать" target="_blank">
                        <i class="far fa-print"></i>
                    </a>

                    <button type="button" class="btn btn-default btn-w-30 edit-position__contracts-table-row-remove-button"
                            title="Удалить" data-bind="click: function() { $root.openRemoveContractModal($data.id); }">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </li>
    </script>

    <script type="text/html" id="modal-container-template">
        <!-- ko template: { afterRender: onInit } -->
            <!-- ko foreach: opens -->
                <!-- ko let: { modalElement: ko.observable() } -->
                    <div data-bind="modalContainerModalWrapper, modalContainerModalWrapperOptions: $data.options, modalContainerModalWrapperClose: function (value) { $component.close($data, value); }">
                        <div class="modal modal-with-base-backdrop" role="dialog" tabindex="1" data-bind="element: modalElement">
                            <!-- ko template: { name: dialogTemplateName, data: { data: $data.data, modalElement: modalElement(), close: function (value) { $component.close($data, value); } } } -->
                            <!-- /ko -->
                        </div>
                    </div>
                <!-- /ko -->
            <!-- /ko -->
        <!-- /ko -->
    </script>

    <script type="text/html" id="view-contract-modal-content-template">
        <div data-bind="component: { name: 'view-contract-modal-dialog', params: { data, modalElement, cancel: function () { close(); }, submit: function () { close(true); } } }" role="document"></div>
    </script>

    <template id="view-contract-modal-dialog-template">
        <!-- ko template: { afterRender: onInit } -->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-bind="click: cancel">
                        <span aria-hidden="true">&times;</span>
                    </button>

                    <button class="btn btn-default btn-p25">Настройки договора</button>
                </div>

                <div class="modal-body">
                    <div class="edit-position__view-contract-modal-dialog-text-wrapper">
                        <div class="edit-position__view-contract-modal-dialog-text">
                            <div style="font-family: Times New Roman; font-size: 18px">
                        <p style="margin-bottom: 0">Приложение №1 к</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="text-align: center; margin-bottom: 0">ТРУДОВОМУ ДОГОВОРУ №</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="text-align: end; margin-bottom: 0">от  #contract_date# .г</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="text-align: center; margin-bottom: 0">ДОГОВОР О НЕРАЗГЛАШЕНИИ КОММЕРЧЕСКОЙ ТАЙНЫ</p>
                        <p style="margin-bottom: 0">г. Москва.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">Дата: #contract_date# г.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">#company_full_name#   ( #company_short_name# ) действующей на основании свидетельства,  именуемое в дальнейшем «Работодатель», с одной стороны, и  #fio# , именуемый в дальнейшем «Работник», с другой стороны, заключили настоящий трудовой договор о нижеследующем:</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">1. Предмет договора.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">1.1. Работник, в связи с исполнением работы (трудовой функции), порученной ему на основании Трудового договора, требующей доступа к  информации, составляющей коммерческую тайну предприятия, берет на себя обязательство о неразглашении этой информации.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">1.2. В соответствии с Федеральным законом «О коммерческой тайне» от 29.07.2004 г. № 98-ФЗ, под коммерческой тайной в настоящем Договоре подразумевается всякая информация, которая имеет реальную или потенциальную коммерческую ценность в силу неизвестности ее третьим лицам, к которой нет вольного доступа на законном основании и к сохранению конфиденциальности которой обладатель принимает все мыслимые меры.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">1.3 Перечень информации, относящейся к коммерческой тайне:</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">Выручка за день и за период. (неделя, месяц, год)</p>
                        <p style="margin-bottom: 0">Технологические карты и рецептуры блюд.</p>
                        <p style="margin-bottom: 0">Внутренние документы и отчёты.</p>
                        <p style="margin-bottom: 0">Сведения об размещенном оборудовании и автоматизированных системах учёта установленных и применяемых в компании.</p>
                        <p style="margin-bottom: 0">Сведения о поставщиках их контакты а так же заключенных договорах компании.</p>
                        <p style="margin-bottom: 0">Цены на сырьё закупаемое у поставщиков</p>
                        <p style="margin-bottom: 0">Объём и расход закупаемого сырья у поставщиков.</p>
                        <p style="margin-bottom: 0">Сведения (личная информация и контакты) о базе клиентов компании.</p>
                        <p style="margin-bottom: 0">Сведения (личная информация и контакты) о руководстве и сотрудниках компании.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">1.4. Данные, составляющие коммерческую тайну, не могут быть переданы  устно, письменно, в виде фотографий, в электронном (в том числе по электронной почте), графическом виде, по телефонной связи, а также в любом другом виде.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">1.5. Работник, подписывая данный Договор, удостоверяет, что ознакомлен с информацией содержащую  коммерческую тайну Работодателя.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">2. Права и обязанности сторон</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">2.1. Все сведения, относящиеся по данному Договору к коммерческой тайне  и ставшие известными Работнику в следствии работы в компании, являются конфиденциальными, и Работник обязуется не разглашать их, а также защищать от посягательств и попыток обнародовать их третьим лицам.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">2.2. Работник, обязуется использовать сведения, полученные в ходе сотрудничества, лишь в интересах работодателя. Выполнять установленный Работодателем режим коммерческой тайны и охраны конфиденциальной информации.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">2.3. Работник обязуется после завершения сотрудничества не использовать информацию, полученную в результате работы, в целях конкуренции с другой организацией.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">2.4. Работник обязуется не разглашать, не передавать третьим лицам и не раскрывать публично информацию, являющуюся конфиденциальной и/или составляющую коммерческую тайну, обладателями которой являются Работодатель  и его деловые партнеры, в течение трех лет после прекращения трудового договора, если иное не предусмотрено трудовым договором и/или законодательством РФ;</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">2.5. Вся информация, составляющая коммерческую тайну и полученная Работником в результате сотрудничества в материальной или нематериальной форме является собственностью компании и используется лишь в рамках и на условиях настоящего Договора.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">2.6. По окончании сотрудничества Работник обязуется вернуть все сведения, полученные за время работы у Работодателя в порядке выполнения настоящего Договора на материальных носителях, а также их копии с момента первого требования до момента выдачи трудовой книжки.</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">2.7. В случае разглашения сведений, составляющих коммерческую тайну по настоящему Договору:</p>
                        <p style="margin-bottom: 0">&nbsp;</p>
                        <p style="margin-bottom: 0">– с Работником расторгается трудовой договор по пп. в) п. 6 ст. 81 (однократное грубое нарушение работником трудовых обязанностей – разглашение охраняемой законом тайны (государственной, коммерческой, служебной и иной), ставшей известной работнику.</p>
                        <p style="margin-bottom: 0">– Работник обязан возместить все понесенные в результате такого разглашения убытки, размер которых определяется в соответствии с законодательством РФ;</p>
                        <p style="margin-bottom: 0">– Работник предупрежден о том, что в соответствии с законодательством Российской Федерации разглашение сведений, составляющих коммерческую тайну, может повлечь гражданско-правовую, административную и уголовную ответственность.</p>
                    </div>
                        </div>
                    </div>
                </div>
            </div>
        <!-- /ko -->
    </template>

    <script type="text/html" id="remove-contract-modal-content-template">
        <div data-bind="component: { name: 'remove-contract-modal-dialog', params: { data, modalElement, cancel: function () { close(); }, submit: function () { close(true); } } }" role="document"></div>
    </script>

    <template id="remove-contract-modal-dialog-template">
        <!-- ko template: { afterRender: onInit } -->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-bind="click: cancel">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    Договор <b>«<!-- ko text: contractName --><!-- /ko -->»</b> будет удалён для должности <b>«<!-- ko text: positionName --><!-- /ko -->»</b>.
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn btn-p25 btn-default"data-bind="click: cancel">Отменить</button>
                    <button type="submit" class="btn btn-p25 btn-danger" data-bind="click: submit">Удалить</button>
                </div>
            </div>
        <!-- /ko -->
    </template>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
        integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
        crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"
        integrity="sha256-AAhU14J4Gv8bFupUUcHaPQfvrdNauRHMt+S4UVcaJb0=" crossorigin="anonymous"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous">
</script>

<!-- Bootstrap DateTimepicker, https://eonasdan.github.io/bootstrap-datetimepicker/ -->
<script type="text/javascript" src="js/moment-with-locales.min.js"></script>
<script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"></script>

<!-- Select2, https://select2.org/getting-started/basic-usage -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/js/select2.full.min.js"></script>

<!-- Custom Scroll, http://gromo.github.io/jquery.scrollbar/-->
<script src="js/jquery.scrollbar.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/nestedSortable/2.0.0/jquery.mjs.nestedSortable.min.js"
        integrity="sha256-EnaBcZsgejHg52kCwmsQHxvCIL0nl9YmWnPKQoKjWhg=" crossorigin="anonymous"></script>

<!-- Highcharts, https://api.highcharts.com/highcharts/ -->
<script src="http://code.highcharts.com/stock/highstock.js"></script>
<script src="https://code.highcharts.com/modules/funnel.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<script type="text/javascript" src="js/js-gl.js"></script>


    <!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.0/knockout-min.js"></script>-->
    <script type="text/javascript" src="https://knockoutjs.com/downloads/knockout-3.5.0.debug.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            initHatNavbar(document);

            ko.bindingHandlers.contractsCategoryOpen = {
                init: function(element, valueAccessor) {
                    const value = ko.unwrap(valueAccessor());

                    if (value) {
                        $(element).css('height', '');
                        $(element).css('display', 'none');

                        $(element).slideDown(0);
                    } else {
                        $(element).slideUp(0, () => {
                            $(element).css('height', '0');
                            $(element).css('display', 'block');
                        });
                    }

                    $(element).data('contracts-category-open-open', value);
                },
                update: function(element, valueAccessor, allBindings) {
                    const value = ko.unwrap(valueAccessor());
                    const duration = allBindings.get('slideDuration') || 200;

                    if ($(element).data('contracts-category-open-open') !== value) {
                        if (value) {
                            $(element).css('height', '');
                            $(element).css('display', 'none');

                            $(element).slideDown(duration);
                        } else {
                            $(element).slideUp(duration, () => {
                                $(element).css('height', '0');
                                $(element).css('display', 'block');
                            });
                        }

                        $(element).data('contracts-category-open-open', value);
                    }
                }
            };

            ko.bindingHandlers.modalContainerModalWrapper = {
                init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {
                    const options = $.extend(
                        {
                            closeOnBackdropClick: true,
                            closeOnEscape: true
                        },
                        allBindings()['modalContainerModalWrapperOptions']
                    );

                    const close = allBindings()['modalContainerModalWrapperClose'];

                    const $element = $(element);
                    const $modal = $element.find('.modal');

                    $modal.appendTo('body');

                    $modal.modal({
                        backdrop: false,
                        keyboard: false,
                        focus: true
                    });

                    if ('modalClass' in options) {
                        $modal.addClass(options.modalClass);
                    }

                    if (options.closeOnEscape) {
                        $modal.keyup(event => {
                            if (event.keyCode === 27) {
                                close.call(viewModel);
                            }
                        });
                    }

                    if (options.closeOnBackdropClick) {
                        $modal.on('click', event => {
                            if (event.target === $modal.get()[0]) {
                                close.call(viewModel);
                            }
                        });
                    }

                    const innerBindingContext = ko.bindingEvent.startPossiblyAsyncContentBinding($modal.get()[0], bindingContext);
                    ko.applyBindings(innerBindingContext, $modal.get()[0]);

                    ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
                        $modal.modal('hide').remove();
                    });
                }
            };

            ko.components.register('modal-container', {
                viewModel: {
                    createViewModel: function (params) {
                        const viewModel = new (function () {
                            this.opens = params.opens;

                            this.close = function (open, value) {
                                this.opens.remove(open);

                                if ('close' in open) {
                                    open.close(value);
                                }
                            };
                        });

                        viewModel.initializing = ko.observable(true);

                        viewModel.onInit = function () {
                            viewModel.initializing(false);
                        };

                        return viewModel;
                    }
                },
                template: {element: 'modal-container-template'}
            });

            ko.components.register('view-contract-modal-dialog', {
                viewModel: {
                    createViewModel: function (params, componentInfo) {
                        const $element = $(componentInfo.element);

                        $element.addClass('modal-dialog');
                        $element.addClass('edit-position__view-contract-modal-dialog');
                        $element.addClass('edit-position__view-contract-modal-dialog--initializing');

                        const viewModel = new (function () {
                            this.cancel = function () {
                                if ('cancel' in params) {
                                    params.cancel();
                                }
                            };

                            this.submit = function () {
                                this.isSubmitted(true);

                                if (this.name.isValid()) {
                                    if ('submit' in params) {
                                        params.submit();
                                    }
                                }
                            };
                        });

                        viewModel.initializing = ko.observable(true);

                        viewModel.onInit = function () {
                            $element.removeClass('edit-position__view-contract-modal-dialog--initializing');
                            viewModel.initializing(false);
                        };

                        return viewModel;
                    }
                },
                template: { element: 'view-contract-modal-dialog-template' }
            });

            ko.components.register('remove-contract-modal-dialog', {
                viewModel: {
                    createViewModel: function (params, componentInfo) {
                        const $element = $(componentInfo.element);

                        $element.addClass('modal-dialog');
                        $element.addClass('edit-position__remove-contract-modal-dialog');
                        $element.addClass('edit-position__remove-contract-modal-dialog--initializing');

                        const viewModel = new (function () {
                            this.contractName = params.data.contractName;
                            this.positionName = params.data.positionName;

                            this.cancel = function () {
                                if ('cancel' in params) {
                                    params.cancel();
                                }
                            };

                            this.submit = function () {
                                if ('submit' in params) {
                                    params.submit();
                                }
                            };
                        });

                        viewModel.initializing = ko.observable(true);

                        viewModel.onInit = function () {
                            $element.removeClass('edit-position__view-contract-modal-dialog--initializing');
                            viewModel.initializing(false);
                        };

                        return viewModel;
                    }
                },
                template: { element: 'remove-contract-modal-dialog-template' }
            });

            const ViewModel = function(categories, contracts) {
                this.modalOpens = ko.observableArray([]);

                this.position = {
                    name: 'Администратор филиала'
                };

                this.categories = ko.observableArray(categories.map(t => ({
                    id: t.id,
                    name: t.name
                })));

                this.contracts = ko.observableArray(contracts.map(d => ({
                    id: d.id,
                    categoryId: ko.observable(d.categoryId),
                    name: d.name,
                    index: ko.observable(d.index),
                    branches: d.branches
                })));

                this.searchTerm = ko.observable('');

                this.openCategories = ko.observableArray([]);

                this.getContracts = function(categoryId) {
                    return this.contracts()
                        .filter(d => d.categoryId() === categoryId)
                        .sort((a, b) => {
                            if (a.index() > b.index()) {
                                return 1;
                            } else {
                                return -1;
                            }
                        });
                };

                this.getCategory = function(categoryId) {
                    return this.categories().find(t => t.id === categoryId);
                };

                this.getContract = function(contractId) {
                    return this.contracts().find(d => d.id === contractId);
                };

                this.isCategoryOpen = function(categoryId) {
                    return this.openCategories().findIndex(id => id === categoryId) !== -1;
                };

                this.hasContracts = function(categoryId) {
                    return this.getContracts(categoryId).length;
                };

                this.toggleCategory = function(categoryId) {
                    if (this.hasContracts(categoryId)) {
                        if (this.isCategoryOpen(categoryId)) {
                            this.openCategories.remove(categoryId)
                        } else {
                            this.openCategories.push(categoryId);
                        }
                    }
                };

                this.openCategory = function(categoryId) {
                    if (this.hasContracts(categoryId)) {
                        if (!this.isCategoryOpen(categoryId)) {
                            this.openCategories.push(categoryId);
                        }
                    }
                };

                this.isCategoryVisible = function(categoryId) {
                    const searchTerm = this.searchTerm().toLowerCase();
                    return searchTerm === '' ||
                        (
                            this.getCategory(categoryId).name.toLowerCase().includes(searchTerm) ||
                            this.getContracts(categoryId).some(d => d.name.toLowerCase().includes(searchTerm))
                        );
                };

                this.isCategoryContractsVisible = function(categoryId) {
                    const searchTerm = this.searchTerm().toLowerCase();
                    return this.isCategoryOpen(categoryId) ||
                        (
                            searchTerm !== '' &&
                            (
                                this.getCategory(categoryId).name.toLowerCase().includes(searchTerm) ||
                                this.getContracts(categoryId).some(d => d.name.toLowerCase().includes(searchTerm))
                            )
                        );
                };

                this.isContractVisible = function(contractId) {
                    const searchTerm = this.searchTerm().toLowerCase();
                    const contract = this.getContract(contractId);
                    return searchTerm === '' ||
                        contract.name.toLowerCase().includes(searchTerm) ||
                        (contract.categoryId() !== null && this.getCategory(contract.categoryId()).name.toLowerCase().includes(searchTerm));
                };

                this.removeContract = function(contractId) {
                    this.contracts.remove(this.getContract(contractId));
                };

                this.tableRowBeforeRemove = function(element) {
                    $(element).hide(200, () => $(element).remove());
                };

                this.openViewContractModal = function () {
                    this.modalOpens.push({
                        dialogTemplateName: 'view-contract-modal-content-template',
                        options: {
                            modalClass: 'modal-global fade'
                        }
                    });
                };

                this.openRemoveContractModal = function (id) {
                    const contract = this.contracts().find(c => c.id === id);

                    this.modalOpens.push({
                        dialogTemplateName: 'remove-contract-modal-content-template',
                        data: {
                            positionName: this.position.name,
                            contractName: contract.name
                        },
                        options: {
                            modalClass: 'modal-global fade'
                        },
                        close: result => {
                            if (result !== undefined) {
                                this.removeContract(id);
                            }
                        }
                    });
                };
            };

            const viewModel = new ViewModel(
                [
                    {id: 0, name: 'Коммерческая тайна'},
                    {id: 1, name: 'Трудовой договор'}
                ],
                [
                    {id: 0, name: 'Договор о коммерческой тайне ИП Дмитриев А. А.', categoryId: 0, index: 0, branches: ['Южная']},
                    {id: 1, name: 'Договор о коммерческой тайне ООО «За обе щёки»', categoryId: 0, index: 1, branches: null},
                    {id: 2, name: 'Договор о материальной ответственности', categoryId: 0, index: 2, branches: null},
                    {id: 3, name: 'Заявление о приеме на работу ООО «За обе щёки»', categoryId: 1, index: 0, branches: null},
                    {id: 4, name: 'Договор о материальной ответственности', categoryId: null, index: 0, branches: null},
                    {id: 5, name: 'Заявление на увольнение', categoryId: null, index: 1, branches: null}
                ]
            );

            const $content = $('.edit-position__content');

            viewModel.onInit = function() {
                initSearchGlobal($content.find('.edit-position__contracts-search').get()[0]);
            };

            ko.applyBindings(
                viewModel,
                $content.get()[0]
            );
        });
    </script>
</body>
</html>
