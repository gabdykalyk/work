<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>График работы сотрудников на неделю</title>
    <!-- Bootstrap -->
    <link href="bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <!-- Icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="fonts/fontawesome-pro-5.1.0-web/css/all.css" rel="stylesheet">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/bootstrap-datetimepicker.min.css" />

    <link href="css/styles.css" rel="stylesheet">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>
    <nav class="navbar navbar-fixed-top navbar-lk">
        <div class="container-fluid">
            <div class="navbar-collapse collapse" id="navbar-collapse-block">
                <ul class="nav navbar-nav navbar-nav-main">
                    <li class="item-menu-manper active"><a href="#">Расчёты<span class="count">1</span></a></li>
                    <li class="item-menu-messages"><a href="#">Новый расчёт<span class="count">5</span></a></li>
                    <li class="item-menu-alerts"><a href="#">Штрафы/Премии<span class="count">2</span></a></li>
                    <li class="item-menu-schedule"><a href="#">Приказы/Инструкции</a></li>
                    <li class="item-menu-index"><a href="#">Кадры<span class="count">3</span></a></li>
                    <li class="item-menu-docs"><a href="#">Отчёты<span class="count">1</span></a></li>
                    <li class="item-menu-discus"><a href="#">Обсуждения<span class="count">4</span></a></li>
                    <li class="item-menu-complaints"><a href="#">Жалобы и предложения<span class="count">1</span></a></li>
                    <li class="item-menu-friends"><a href="#">Друзья</a></li>
                    <li class="item-menu-groups"><a href="#">Группы</a></li>
                    <li class="item-menu-settings"><a href="#">Настройки</a></li>
                    <li class="item-menu-help"><a href="#">Помощь</a></li>
                </ul>
            </div>
            <button type="button" class="navbar-toggle collapsed" id="navbar-toggle">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <i class="fa fa-chevron-left" aria-hidden="true"></i>
            </button>
            <div class="navbar-right navbar-login">
                <a href="#" class="btn"><span>Александр Константиновский</span> <i class="fa fa-sign-out hidden-sm hidden-xs"
                        aria-hidden="true"></i></a>
            </div>
            <ul class="nav navbar-nav navbar-right navbar-nav-social">
                <li><a href="#" title="Вконтакте"><i class="fab fa-vk" aria-hidden="true"></i></a></li>
                <li><a href="#" title="Есть непросмотренные сообщения"><i class="fa fa-envelope" aria-hidden="true"></i><span
                            class="badge"></span></a></li>
                <li class="item-bell" title="Есть непросмотренные уведомления"><a href="#"><i class="fa fa-bell"
                            aria-hidden="true"></i><span class="badge"></span></a></li>
            </ul>
        </div>
    </nav>

    <div class="container-fluid content ">
        <h1>
            График работы сотрудников на неделю
        </h1>
        <hr class="visible-lg visible-md">

        <form action="" method="post" class="form-respons form-schedule">
            <div class="row">


                <div class="form-group schedule-form-period col-md-2 col-sm-3 col-xs-12 col-w-calc">
                    <label for="surcharge[1]" class="hidden-xs">Отчетный период</label>
                    <select class="form-control js-emplsurcharge-period" name="surcharge[1][period]">
                        <option value="days">Сегодня</option>
                        <option value="week">Произвольный</option>
                    </select>
                </div>
                <!-- филиал -->

                <div class="form-group form-schedule-date" data-type="week">
                    <label class="hidden-xs">Неделя</label>
                    <div class="input-group datepicker form-control-sm">
                        <input type="text" class="form-control" value="" name="to" maxlength="10">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </div>
                </div>
            </div>
        </form>

        <div class="action-table-schedule">
            <h3 class="action-table-schedule-txt">Пожелания сотрудников на эту неделю <i class="fa fa-chevron-circle-down open"></i></h3>
        </div>

        <!-- begin: Table -->
        <div class="col-md-8">

        
            <div class="table-responsive-wrapper-schedule">
                <div class="table-responsive2">
                <table class="table schedule-table table-bordered">
                    <thead>
                        <tr>
                            <th class="cell-head-branch">Должность</th>
                            <th class="cell-head-branch">пн, 03.12</th>
                            <th class="cell-head-branch">вт, 04.12</th>
                            <th class="cell-head-branch">ср, 05.12</th>
                            <th class="cell-head-branch">чт, 06.12</th>
                            <th class="cell-head-branch">пт, 07.12</th>
                            <th class="cell-head-branch">сб, 08.12</th>
                            <th class="cell-head-branch">сб, 08.12</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-id="" class="schedule-table-position-tr">
                            <td class="schedule-table-position-td">Администратор филиала</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                        </tr>
                        <tr class="schedule-table--child-tr">
                            <td class="schedule-table-person">Горюшкина Олеся Олеговна</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                        </tr>
                        <tr>
                            <td class="schedule-table-person"> Иванова Клавдия Андреевна</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day" style="background-color: #ffa9b1">отгул</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day" ></td>
                            <td class="text-center cell-day"></td>
                        </tr>

                        <tr data-id="" class="schedule-table-position-tr">
                            <td class="schedule-table-position-td">Повар-пиццемейкер</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                        </tr>
                        <tr class="schedule-table--child-tr">
                            <td class="schedule-table-person">Абдуназаров Дилшод</td>
                            <td class="text-center cell-day" style="background-color: #ffa9b1">отгул <br> 12:00–18:00</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day" style="background-color: #d9f6cb">доп. смена</td>                            
                        </tr>
                        <tr>
                            <td class="schedule-table-person"> Каримов Рафикжан</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day" style="background-color: #ffa9b1">отгул </td>                            
                            <td class="text-center cell-day" style="background-color: #d9f6cb">доп. смена</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                        </tr>


                        <tr data-id="" class="schedule-table-position-tr">
                            <td class="schedule-table-position-td">Повар-сушист</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                        </tr>
                        <tr class="schedule-table--child-tr">
                            <td class="schedule-table-person"> Катаганов Жанчарбек</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                        </tr>
                        <tr>
                            <td class="schedule-table-person"> Ле Даниэль Валентинович</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day" ></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                        </tr>
                        <tr class="schedule-table--child-tr">
                            <td class="schedule-table-person">Юлдашев Жамолидин</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day" style="background-color: #ffa9b1">отгул</td>
                            <td class="text-center cell-day" style="background-color: #d9f6cb">доп. смена</td>                            
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                        </tr>
                        <tr>
                            <td class="schedule-table-person">Чолпонбай Уулу Крустанбек</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day" style="background-color: #ffa9b1">отгул </td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day" ></td>
                            <td class="text-center cell-day"></td>
                        </tr>

                        <tr data-id="" class="schedule-table-position-tr">
                            <td class="schedule-table-position-td">Технический сотрудник</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                        </tr>
                        <tr class="schedule-table--child-tr">
                            <td class="schedule-table-person"> Илхамжан Кызы Гулшада</td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                            <td class="text-center cell-day"></td>
                        </tr>

                    </tbody>
                </table>

            </div>
        </div>
        </div>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap-3.3.7/js/bootstrap.min.js"></script>

    <!-- Bootstrap DateTimepicker, https://eonasdan.github.io/bootstrap-datetimepicker/ -->
    <script type="text/javascript" src="js/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"></script>

    <!-- Select2, https://select2.org/getting-started/basic-usage -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/js/select2.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/js/select2.full.min.js"></script>

    <!-- https://github.com/LucasLazaro/bootstrap-nav-tab-scrollable -->
    <script type="text/javascript" src="js/scrolling-tabs/jquery.scrolling-tabs.js"></script>

    <script type="text/javascript" src="js/js-gl.js"></script>

    <script type="text/javascript">
        $(function () {
            initNavbar();
            initSurcharge();
            changeSurchargePeriodType();

            // Изменение периода надбавки
            $(document).on('change', '.js-emplsurcharge-period', function () {
                changeSurchargePeriodType();
            });

            // инициализация элементов формы
            $('.datepicker').datetimepicker({
                language: 'ru',
                pickTime: false
            });

            // $('.js-select-providers').select2({
            //     placeholder: 'Все поставщики',
            //     width: '100%'
            // });

            $('.js-select-position').select2({
                placeholder: 'Должность',
                width: '100%'
            });

            $('.js-select-cat-violations').select2({
                placeholder: 'Категория нарушений',
                width: '100%'
            });

            // // функция при клике на стрелку
            $('.js-drop-tr').click(function () {
                var parent = $(this).closest('tr'),
                    id = parent.data('id');

                parent.toggleClass('open');
                if (parent.hasClass('open')) {
                    $(this).html('<i class="fa fa-chevron-circle-up"></i>');
                    $('.dashreport-table, .dashreport-table-head').find('tr[data-parent="' + id + '"]')
                        .show();
                } else {
                    $(this).html('<i class="fa fa-chevron-circle-down"></i>');
                    $('.dashreport-table, .dashreport-table-head').find('tr[data-parent="' + id + '"]')
                        .hide();
                }

                cellHeight($('.dashreport-table'));

                return false;
            });




            // тестовая функция на изменение высоты стороки
            if ($(window).width() < 768) {
                cellHeight($('.dashreport-table'));
            };

            $(window).on('resize', function () {
                if ($(window).width() < 748) {
                    cellHeight($('.dashreport-table'));
                } else {
                    $('.dashreport-table').find('td').outerHeight('auto');
                    $('.dashreport-table').find('th').outerHeight('auto');
                    $('.dashreport-table').find('tr').outerHeight('auto');
                }
            });

            function cellHeight(table) {
                let _this = table,
                    trArray = [],
                    tdMaxHeightArr = [],
                    trTable = _this.find('tbody tr'),
                    trTableHead = $('.dashreport-table-head').find('tbody tr');

                trTableHead.each(function () {
                    trArray.push($(this).outerHeight());
                });

                trTable.each(function (i) {
                    $(this).outerHeight(trArray[i]);
                });
                //
                $('.dashreport-table-head').outerHeight('auto');
                $('.dashreport-table-head').outerHeight($('.dashreport-table-head').outerHeight() - 1);
            }


        });
    </script>
</body>

</html>