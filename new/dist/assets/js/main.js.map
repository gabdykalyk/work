{"version":3,"sources":["base/main.js","base/utils.js","components/basic-footer/basic-footer.js","components/basic-sidebar/basic-sidebar.js","components/checkbox/checkbox.js","components/datepicker/datepicker.js","components/dropdown-menu/dropdown-menu.js","components/form-field/form-field-complex-control.js","components/form-field/form-field-datepicker-control.js","components/form-field/form-field-input-control.js","components/form-field/form-field-select-control.js","components/form-field/form-field.js","components/main-sidebar/main-sidebar.js","components/scrollable/scrollable.js","components/select/select.js","components/switch/switch.js","components/tab-group/tab-group.js","components/table/table.js","components/tooltip/tooltip.js"],"names":["HRM_BREAKPOINTS","tabletMaxWidth","mobileMaxWidth","ko","validation","init","insertMessages","moment","locale","HRM_SIDEBAR_COLLAPSED_LOCAL_STORAGE_KEY","bindingHandlers","hrmSlide","element","valueAccessor","allBindings","value","unwrap","get","$","slideDown","slideUp","data","utils","domNodeDisposal","addDisposeCallback","removeData","update","duration","hrmFade","fadeIn","fadeOut","inDelay","outDelay","delay","hrmElement","isObservableArray","has","splice","push","remove","hrmMask","pattern","options","inputmask","jitMasking","showMaskOnFocus","showMaskOnHover","hrmTimeAutocompleter","on","val","regExpExecuteResult","exec","trigger","hrmSplitComponentTemplateNodes","nodes","result","main","slots","filter","each","index","slotElement","$slot","attr","contents","node","nodeType","tagName","hrmSlideBeforeRemoveFactory","hrmSlideAfterAddFactory","hide","hrmFadeBeforeRemoveFactory","hrmFadeAfterAddFactory","rules","validator","params","isValid","message","registerExtenders","hrmTemplateIf","condition","undefined","hrmExtractComponentParam","name","defaultValue","isObservable","observable","components","register","viewModel","createViewModel","componentInfo","$element","addClass","template","ViewModel","_subscriptions","checked","checkboxGroup","owner","toggleClass","subscribe","prototype","dispose","forEach","s","hrmCheckboxGroupNextId","id","exportAs","hrmCheckboxGroupLabel","HrmDatepickerViewModel","constructor","_valueSubscription","_value","_daterangepicker","_applyHandler","_init","daterangepicker","singleDatePicker","showDropdown","autoUpdateInput","format","monthNames","daysOfWeek","firstDay","newValue","startDate","container","_setValue","v","elementChanged","_destroy","off","instances","Map","previousBindingsList","hrmDatepicker","set","instance","previousBindings","HrmDropdownMenuViewModel","context","placement","_template","_placement","_context","_tippyInstance","_tooltipClickHandler","hidingFlag","event","$target","target","is","parents","length","tippy","content","_createContent","document","getElementById","innerHTML","arrow","distance","interactive","appendTo","body","boundary","hideOnClick","onCreate","popperChildren","tooltip","onShow","onMount","find","overlayScrollbars","applyBindingsToDescendants","setTimeout","popperInstance","onHide","onHidden","setContent","destroy","append","hrmDropdownMenu","_","bindingContext","nextId","HrmFormFieldComplexControlViewModel","disabled","_$element","_disabled","_disabledSubscription","focused","shouldLabelFloat","errorState","_setDisabled","onBasisClick","onBasisMousedown","_updateDisabled","hrmFormFieldComplexControl","HrmFormFieldDatepickerControlViewModel","textInput","errorStateMatcher","_focusChangeHandler","_valueChangeHandler","_mutationObserver","_errorStateMatcher","_textInput","_control","_daterangepickerInstance","pureComputed","_hasFocus","_isDisabled","hasValue","_hasValue","hasPlaceholder","_hasPlaceholder","MutationObserver","mutations","mutation","type","observe","attributes","control","disconnect","focus","Error","_setTextInput","_setErrorStateMatcher","hrmFormFieldDatepickerControl","HrmFormFieldInputControlViewModel","hrmFormFieldInputControl","HrmFormFieldSelectControlViewModel","selectedOptions","_selectionFocusHandler","_selectionBlurHandler","_searchFocusHandler","_searchBlurHandler","_openingHandler","_closeHandler","_searchUpdateHandler","_selectedOptions","_isMultiple","_select2Instance","$container","$dropdown","children","first","prop","selectionFocused","$selection","searchFocused","selection","$search","dropdownOpened","_changeHandler","isOpen","open","_setSelectedOptions","Array","placeholder","hrmFormFieldSelectControl","HrmFormFieldViewModel","label","_label","bindingEvent","removeClass","hrmFormField","HrmFormFieldLabelViewModel","setFor","hrmFormFieldLabel","HrmFormFieldBasisViewModel","_clickHandler","_mousedownHandler","hrmFormFieldBasis","templateNodes","_isCollapsed","_isUserSelected","_isNotificationsSelected","_selectedMenuItemIndex","_selectedDrawerContentName","_$collapseToggleElement","_$user","_$notifications","_$menuItems","_$drawer","_$backdrop","_drawerContents","toArray","map","viewportSize","width","window","height","clearSelection","selectUser","selectNotifications","menuItem","selectMenuItem","collapsed","_openDrawer","eq","_closeDrawer","contentName","$drawerContent","Promise","resolve","HrmScrollableViewModel","_overlayScrollbarsInstance","_overlayScrollbarsOptions","className","_update","hrmScrollable","hrmSelect","isMultiple","wrapperClass","customValuesAllowed","searchEnabled","allowClear","minimumResultsForSearch","Infinity","language","dropdownAutoWidth","dropdownCssClass","templateSelection","state","text","tags","Select","fn","select2","amd","require","Search","originalSelectRenderFn","render","originalSearchUpdateFn","call","arguments","split","select2Instance","$results","unbind","$dropdownResultsContainer","parent","callbacks","onUpdated","dropdown","_positionDropdown","openHandler","scroll","openingHandler","isClosingAnimated","closingHandler","close","HrmSwitchViewModel","_exportAs","HrmSwitchGroupViewModel","hrmSwitchGroup","innerBindingContext","startPossiblyAsyncContentBinding","controlsDescendantBindings","HrmSwitchGroupLabelViewModel","hrmSwitchGroupLabel","HrmTabGroupItem","HrmTabGroupViewModel","moreButtonElementWidth","itemMargin","subscriptions","windowResizeHandler","updateWidth","items","activeItem","itemWidths","$itemMirror","css","position","left","top","visibility","item","maxFitItem","w","i","timer","setInterval","hrmTable","error","_windowResizeHandler","_errorSubscription","_error","_isTabletOrMobile","_errorTippyInstance","_errorTippyClickHandler","click","subscribable","$content","notifySubscribers","_onWindowResize","hasClass","disable","_setError","_updateErrorView","enable","_createErrorTooltipContent","show","setProps","isTabletOrMobile","hrmTableEditableCell","_focusHandler","_blurHandler","_owner","hrmTableEditableCellInputControl","computed","hrmTableEditableCellSelectControl","StickyEvents","sectionWrappers","_sectionWrappers","_sectionWrapperElementStuckHandler","_sectionWrapperElementUnstuckHandler","_stickyEvents","scrollableContainer","addStickies","wrapper","stuck","addEventListener","STUCK","UNSTUCK","lastSectionWrappers","addedWrapper","difference","removedElement","removeEventListener","addSticky","disableEvents","hrmTableStickySectionContainer","hrmTableStickySectionWrapper","mode","_textSubscription","_text","_mode","_setText","hrmTooltip"],"mappings":"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","file":"main.js","sourcesContent":["const HRM_BREAKPOINTS = {\r\n    tabletMaxWidth: 1219,\r\n    mobileMaxWidth: 767\r\n};\r\n\r\nko.validation.init({insertMessages: false});\r\n\r\nmoment.locale('ru');\r\n\r\nconst HRM_SIDEBAR_COLLAPSED_LOCAL_STORAGE_KEY = 'hrmSidebarCollapsed';\r\n","ko.bindingHandlers.hrmSlide = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmSlideValue'));\r\n\r\n        if (value) {\r\n            $(element).slideDown(0);\r\n        } else {\r\n            $(element).slideUp(0);\r\n        }\r\n\r\n        $(element).data('hrmSlide', value);\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $(element).removeData('hrmSlide');\r\n        });\r\n    },\r\n    update: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmSlideValue'));\r\n        const duration = allBindings.get('hrmSlideDuration') || 200;\r\n\r\n        if ($(element).data('hrmSlide') !== value) {\r\n            if (value) {\r\n                $(element).slideDown(duration);\r\n            } else {\r\n                $(element).slideUp(duration);\r\n            }\r\n\r\n            $(element).data('hrmSlide', value);\r\n        }\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmFade = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmFadeValue'));\r\n\r\n        if (value) {\r\n            $(element).fadeIn(0);\r\n        } else {\r\n            $(element).fadeOut(0);\r\n        }\r\n\r\n        $(element).data('hrmFade', value);\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $(element).removeData('hrmFade');\r\n        });\r\n    },\r\n    update: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmFadeValue'));\r\n        const duration = allBindings.get('hrmFadeDuration') || 200;\r\n        const inDelay = allBindings.get('hrmFadeInDelay') || 0;\r\n        const outDelay = allBindings.get('hrmFadeOutDelay') || 0;\r\n\r\n        if ($(element).data('hrmFade') !== value) {\r\n            if (value) {\r\n                $(element).delay(inDelay).fadeIn(duration);\r\n            } else {\r\n                $(element).delay(outDelay).fadeOut(duration);\r\n            }\r\n\r\n            $(element).data('hrmFade', value);\r\n        }\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmElement = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        if (ko.isObservableArray(valueAccessor())) {\r\n            if (allBindings.has('hrmElementIndex')) {\r\n                valueAccessor().splice(allBindings.get('hrmElementIndex'), 0, element);\r\n            } else {\r\n                valueAccessor().push(element);\r\n            }\r\n        } else {\r\n            valueAccessor()(element);\r\n        }\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            if (ko.isObservableArray(valueAccessor())) {\r\n                valueAccessor().remove(element);\r\n            } else {\r\n                valueAccessor()(null);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmMask = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const pattern = allBindings.get('hrmMaskPattern');\r\n        const options = allBindings.get('hrmMaskOptions');\r\n\r\n        $(element).inputmask(pattern, {\r\n            jitMasking: true,\r\n            showMaskOnFocus: false,\r\n            showMaskOnHover: false,\r\n            ...options\r\n        });\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmTimeAutocompleter = {\r\n    init: function (element) {\r\n        $(element).on('blur', () => {\r\n            const value = $(element).val();\r\n\r\n            const regExpExecuteResult = /^([0-9]{2}):\\s$/.exec(value);\r\n\r\n            if (regExpExecuteResult !== null && +regExpExecuteResult[1] < 24) {\r\n                $(element).val(regExpExecuteResult[1] + ':00').trigger('change');\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nfunction hrmSplitComponentTemplateNodes (nodes) {\r\n    const result = {\r\n        main: [],\r\n        slots: {}\r\n    };\r\n\r\n    $(nodes).filter('hrm-slot').each((index, slotElement) => {\r\n        const $slot = $(slotElement);\r\n        result.slots[$slot.attr('name')] = $slot.contents();\r\n    });\r\n\r\n    result.main = nodes.filter(node => {\r\n        return !(node.nodeType === 1 && node.tagName === 'HRM-SLOT');\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\nfunction hrmSlideBeforeRemoveFactory (duration = 200, delay = 0) {\r\n    return element => $(element).delay(delay).slideUp(duration, () => $(element).remove());\r\n}\r\n\r\nfunction hrmSlideAfterAddFactory (duration = 200, delay = 0) {\r\n    return element => $(element).hide().delay(delay).slideDown(duration);\r\n}\r\n\r\nfunction hrmFadeBeforeRemoveFactory (duration = 200, delay = 0) {\r\n    return element => $(element).delay(delay).fadeOut(duration, () => $(element).remove());\r\n}\r\n\r\nfunction hrmFadeAfterAddFactory (duration = 200, delay = 0) {\r\n    return element => $(element).hide().delay(delay).fadeIn(duration);\r\n}\r\n\r\n\r\nko.validation.rules['hrmDate'] = {\r\n    validator: function (val, params) {\r\n        return moment(val, params, true).isValid();\r\n    },\r\n    message: 'Неверный формат даты и времени'\r\n};\r\n\r\nko.validation.registerExtenders();\r\n\r\nfunction hrmTemplateIf (condition, data) {\r\n    return condition ? [data] : undefined;\r\n}\r\n\r\nfunction hrmExtractComponentParam(params, name, defaultValue) {\r\n    if (params !== undefined && name in params) {\r\n        if (ko.isObservable(params[name])) {\r\n            return params[name];\r\n        } else {\r\n            return ko.observable(params[name]);\r\n        }\r\n    } else {\r\n        return ko.observable(defaultValue);\r\n    }\r\n}\r\n","ko.components.register('hrm-basic-footer', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-basic-footer']);\r\n\r\n            return new (function () {});\r\n        }\r\n    },\r\n    template: `\r\n        <div class=\"hrm-basic-footer__branding\">\r\n            <div class=\"hrm-basic-footer__logo\"></div>\r\n            <span class=\"hrm-basic-footer__copyright\">© Lookin, 2020</span>\r\n        </div>\r\n        <a class=\"hrm-basic-footer__support-link\" href=\"#\">Техническая поддержка</a>\r\n    `\r\n});","ko.components.register('hrm-basic-sidebar', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-basic-sidebar']);\r\n\r\n            return new (function () {});\r\n        }\r\n    },\r\n    template: `\r\n        <button class=\"hrm-button hrm-circle-icon-button hrm-circle-logout-icon-button\r\n                       hrm-circle-icon-button--theme_neutral hrm-basic-sidebar__logout-button\"\r\n                title=\"Войти/зарегистрироваться\">\r\n        </button>\r\n        <a class=\"hrm-basic-sidebar__support-link\" href=\"#\" title=\"Помощь\"></a>\r\n    `\r\n});","ko.components.register('hrm-checkbox', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-checkbox']);\r\n\r\n            const ViewModel = function () {\r\n                this._subscriptions = [];\r\n\r\n                if (params !== undefined && 'checked' in params) {\r\n                    this.checked = ko.isObservable(params.checked) ? params.checked : ko.observable(params.checked);\r\n                } else {\r\n                    this.checked = ko.observable(false);\r\n                }\r\n\r\n                this.checkboxGroup = params !== undefined && 'owner' in params ? params.owner : null;\r\n\r\n                (() => {\r\n                    $element.toggleClass('hrm-checkbox--checked', this.checked());\r\n\r\n                    this._subscriptions.push(this.checked.subscribe(checked => {\r\n                        $element.toggleClass('hrm-checkbox--checked', checked);\r\n                    }));\r\n                })();\r\n            };\r\n\r\n            ViewModel.prototype.dispose = function() {\r\n                this._subscriptions.forEach(s => s.dispose());\r\n            };\r\n\r\n            return new ViewModel();\r\n        }\r\n    },\r\n    template: `\r\n        <label class=\"hrm-checkbox__layout\">\r\n            <input data-bind=\"checked: checked, attr: {id: checkboxGroup !== null && checkboxGroup() !== null ? checkboxGroup().id : undefined}\"\r\n                   type=\"checkbox\" hidden>\r\n        </label>\r\n    `\r\n});\r\n\r\nlet hrmCheckboxGroupNextId = 0;\r\n\r\nko.components.register('hrm-checkbox-group', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-checkbox-group']);\r\n\r\n            const ViewModel = function () {\r\n                this.id = 'hrm-checkbox-group-' + hrmCheckboxGroupNextId++;\r\n\r\n                (() => {\r\n                    if (params !== undefined && 'exportAs' in params) {\r\n                        if (ko.isObservableArray(params.exportAs)) {\r\n                            params.exportAs.push(this);\r\n                        } else {\r\n                            params.exportAs(this);\r\n                        }\r\n                    }\r\n                })();\r\n            };\r\n\r\n            ViewModel.prototype.dispose = function() {\r\n                if (params !== undefined && 'exportAs' in params) {\r\n                    if (ko.isObservableArray(params.exportAs)) {\r\n                        params.exportAs.remove(this);\r\n                    } else {\r\n                        params.exportAs(null);\r\n                    }\r\n                }\r\n            };\r\n\r\n            return new ViewModel();\r\n        }\r\n    },\r\n    template: `\r\n        <!-- ko template: {nodes: $componentTemplateNodes} --><!-- /ko -->\r\n    `\r\n});\r\n\r\nko.bindingHandlers.hrmCheckboxGroupLabel = {\r\n    init: function(element, valueAccessor, allBindings) {\r\n        const checkboxGroup = allBindings.get('hrmCheckboxGroupLabelOwner');\r\n\r\n        const $element = $(element);\r\n        $element.addClass('hrm-checkbox-group__label');\r\n        $element.attr('for', checkboxGroup().id);\r\n    }\r\n};","(() => {\r\n    class HrmDatepickerViewModel {\r\n        constructor(element, value) {\r\n            this._subscriptions = [];\r\n            this._valueSubscription = null;\r\n            this._value = null;\r\n            this._daterangepicker = null;\r\n            this._applyHandler = null;\r\n            this.element = element;\r\n\r\n            this._init(value);\r\n        }\r\n\r\n        _init(value) {\r\n            const $element = $(this.element);\r\n\r\n            $element.attr('autocomplete', 'off');\r\n\r\n            $element.daterangepicker({\r\n                singleDatePicker: true,\r\n                showDropdown: false,\r\n                autoUpdateInput: false,\r\n                locale: {\r\n                    format: 'DD.MM.YYYY, dddd',\r\n                    monthNames: [\r\n                        'Январь',\r\n                        'Февраль',\r\n                        'Март',\r\n                        'Апрель',\r\n                        'Май',\r\n                        'Июнь',\r\n                        'Июль',\r\n                        'Август',\r\n                        'Сентябрь',\r\n                        'Октябрь',\r\n                        'Ноябрь',\r\n                        'Декабрь'\r\n                    ],\r\n                    daysOfWeek: [\r\n                        'Вс',\r\n                        'Пн',\r\n                        'Вт',\r\n                        'Ср',\r\n                        'Чт',\r\n                        'Пт',\r\n                        'Сб'\r\n                    ],\r\n                    firstDay: 1\r\n                }\r\n            });\r\n\r\n            this._applyHandler = () => {\r\n                let newValue = this._daterangepicker.startDate.format(this._daterangepicker.locale.format);\r\n\r\n                if (newValue !== $element.val()) {\r\n                    $element.val(newValue).trigger('change');\r\n                }\r\n            };\r\n\r\n            $element.on('apply.daterangepicker', this._applyHandler);\r\n\r\n            this._daterangepicker = $element.data('daterangepicker');\r\n\r\n            this._daterangepicker.container.addClass('hrm-datepicker');\r\n\r\n            this._setValue(value);\r\n        }\r\n\r\n        _setValue(value) {\r\n            if (this._valueSubscription !== null) {\r\n                this._valueSubscription.dispose();\r\n                this._valueSubscription = null;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                if (ko.isObservable(value)) {\r\n                    this._valueSubscription = value.subscribe(v => {\r\n                        this._daterangepicker.elementChanged();\r\n                    });\r\n                } else {\r\n                    this._daterangepicker.elementChanged();\r\n                }\r\n            }\r\n\r\n            this._value = value;\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n\r\n            if (this._valueSubscription !== null) {\r\n                this._valueSubscription.dispose();\r\n            }\r\n\r\n            $element.off('apply.daterangepicker', this._applyHandler);\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmDatepicker = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const value = allBindings.get('value');\r\n            const viewModel = new HrmDatepickerViewModel(element, value);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['value'] !== allBindings.get('value')) {\r\n                    instance._setValue(allBindings.get('value'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();","// hrmDropdownMenu\r\n(() => {\r\n    class HrmDropdownMenuViewModel {\r\n        constructor(element, context, template, placement) {\r\n            this._subscriptions = [];\r\n            this._template = template;\r\n            this._placement = placement;\r\n            this._context = context;\r\n            this.element = element;\r\n            this._tippyInstance = null;\r\n            this._tooltipClickHandler = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            let hidingFlag = false;\r\n\r\n            this._tooltipClickHandler = event => {\r\n                const $target = $(event.target);\r\n\r\n                if ($target.is('.hrm-dropdown-menu__item:not(.hrm-dropdown-menu__item--disabled)') || $target.parents('.hrm-dropdown-menu__item:not(.hrm-dropdown-menu__item--disabled)').length > 0) {\r\n                    this._tippyInstance.hide();\r\n                }\r\n            };\r\n\r\n            this._tippyInstance = tippy(this.element, {\r\n                content: this._createContent(document.getElementById(this._template).innerHTML),\r\n                arrow: false,\r\n                distance: 7,\r\n                interactive: true,\r\n                placement: this._placement !== undefined ? this._placement : 'bottom',\r\n                appendTo: document.body,\r\n                boundary: 'viewport',\r\n                hideOnClick: true,\r\n                trigger: 'click',\r\n                onCreate: instance => {\r\n                    $(instance.popperChildren.tooltip).addClass('hrm-dropdown-menu');\r\n                    $(instance.popperChildren.tooltip).on('click', this._tooltipClickHandler);\r\n                },\r\n                onShow: () => {\r\n                    return !hidingFlag;\r\n                },\r\n                onMount: instance => {\r\n                    $(instance.popperChildren.content).find('.hrm-dropdown-menu__content').overlayScrollbars({});\r\n                    ko.applyBindingsToDescendants(this._context, instance.popperChildren.content);\r\n\r\n                    setTimeout(() => {\r\n                        instance.popperInstance.update();\r\n                    });\r\n                },\r\n                onHide: () => {\r\n                    hidingFlag = true;\r\n                },\r\n                onHidden: instance => {\r\n                    // Хак, чтобы tippy пересоздал содержимое и можно было применить заново биндинги Knockout\r\n                    instance.setContent(this._createContent(document.getElementById(this._template).innerHTML));\r\n                    hidingFlag = false;\r\n                }\r\n            });\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._tippyInstance.destroy();\r\n        }\r\n\r\n        _createContent(template) {\r\n            return $('<div>').addClass('hrm-dropdown-menu__content').append(template).get()[0];\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmDropdownMenu = {\r\n        init: function (element, valueAccessor, allBindings, _, bindingContext) {\r\n            const template = allBindings.get('hrmDropdownMenuTemplate');\r\n            const placement = allBindings.get('hrmDropdownMenuPlacement');\r\n            const viewModel = new HrmDropdownMenuViewModel(element, bindingContext, template, placement);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n","// hrmFormFieldComplexControl\r\n(() => {\r\n    let nextId = 0;\r\n\r\n    class HrmFormFieldComplexControlViewModel {\r\n        constructor(element, disabled) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._disabled = null;\r\n            this._disabledSubscription = null;\r\n\r\n            this.element = element;\r\n            this.id = 'hrm-form-field-complex-control-' + nextId++;\r\n            this.focused = null;\r\n            this.disabled = null;\r\n            this.shouldLabelFloat = null;\r\n            this.errorState = null;\r\n\r\n            this._init(disabled);\r\n        }\r\n\r\n        _init(disabled) {\r\n            this._$element.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_complex']);\r\n\r\n            this.focused = ko.observable(false);\r\n            this.disabled = ko.observable(false);\r\n            this.shouldLabelFloat = ko.observable(true);\r\n            this.errorState = ko.observable(false);\r\n\r\n            this._setDisabled(disabled);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n\r\n        onBasisClick() {}\r\n\r\n        onBasisMousedown() {}\r\n\r\n        _setDisabled(disabled) {\r\n            if (this._disabledSubscription !== null) {\r\n                this._disabledSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(disabled)) {\r\n                this._disabledSubscription = disabled.subscribe(disabled => {\r\n                    this._disabled = disabled;\r\n                    this._updateDisabled();\r\n                });\r\n\r\n                this._disabled = disabled();\r\n            } else {\r\n                this._disabled = disabled;\r\n            }\r\n\r\n            this._updateDisabled();\r\n        }\r\n\r\n        _updateDisabled() {\r\n            this.disabled(this._disabled === true);\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmFormFieldComplexControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const disabled = allBindings.get('hrmFormFieldComplexControlDisabled');\r\n            const viewModel = new HrmFormFieldComplexControlViewModel(element, disabled);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmFormFieldComplexControlDisabled'] !== allBindings.get('hrmFormFieldComplexControlDisabled')) {\r\n                    instance._setDisabled(allBindings.get('hrmFormFieldComplexControlDisabled'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","// hrmFormFieldDatepickerControl\r\n(() => {\r\n    let nextId = 0;\r\n\r\n    class HrmFormFieldDatepickerControlViewModel {\r\n        constructor(element, value, textInput, errorStateMatcher) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._focusChangeHandler = null;\r\n            this._valueChangeHandler = null;\r\n            this._mutationObserver = null;\r\n            this._errorStateMatcher = ko.observable(errorStateMatcher);\r\n            this._value = ko.observable(value);\r\n            this._textInput = ko.observable(textInput);\r\n            this._control = null;\r\n            this._daterangepickerInstance = null;\r\n\r\n            this.element = element;\r\n            this.id = 'hrm-form-field-input-control-' + nextId++;\r\n            this.focused = null;\r\n            this.disabled = null;\r\n            this.shouldLabelFloat = null;\r\n            this.errorState = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_input']);\r\n            this._$element.attr('id', this.id);\r\n\r\n            this._daterangepickerInstance = this._$element.data('daterangepicker');\r\n            this._daterangepickerInstance.container.addClass('hrm-form-field__dropdown');\r\n\r\n            this._control = ko.pureComputed(() => {\r\n                if (this._value() !== undefined) {\r\n                    return this._value();\r\n                } else if (this._textInput() !== undefined) {\r\n                    return this._textInput();\r\n                } else {\r\n                    return null;\r\n                }\r\n            });\r\n\r\n            this.focused = ko.observable(this._hasFocus());\r\n            this.disabled = ko.observable(this._isDisabled());\r\n            const hasValue = ko.observable(this._hasValue());\r\n            const hasPlaceholder = ko.observable(this._hasPlaceholder());\r\n\r\n            this._focusChangeHandler = () => this.focused(this._hasFocus());\r\n            this._valueChangeHandler = () => hasValue(this._hasValue());\r\n\r\n            this._mutationObserver = new MutationObserver(mutations => {\r\n                mutations.forEach(mutation => {\r\n                    if (mutation.type === 'attributes') {\r\n                        hasPlaceholder(this._hasPlaceholder());\r\n                        this.disabled(this._isDisabled());\r\n                    }\r\n                });\r\n            });\r\n\r\n            this._mutationObserver.observe(this.element, {\r\n                attributes: true\r\n            });\r\n\r\n            this.shouldLabelFloat = ko.pureComputed(() => {\r\n                return this.focused() || hasValue() || hasPlaceholder();\r\n            });\r\n\r\n            this.errorState = ko.pureComputed(() => {\r\n                const errorStateMatcher = this._errorStateMatcher();\r\n                const control = this._control();\r\n\r\n                return errorStateMatcher !== undefined ? errorStateMatcher(control)() : false;\r\n            });\r\n\r\n            this._$element.on('focus blur', this._focusChangeHandler);\r\n            this._$element.on('input change', this._valueChangeHandler);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._$element.off('focus blur', this._focusChangeHandler);\r\n            this._$element.off('input change', this._valueChangeHandler);\r\n            this._mutationObserver.disconnect();\r\n        }\r\n\r\n        onBasisClick() {\r\n            this._$element.focus();\r\n        }\r\n\r\n        onBasisMousedown() {}\r\n\r\n        _setValue(value) {\r\n            if (!ko.isObservable(value)) {\r\n                throw Error('\\'value\\' binding have to be observable.');\r\n            }\r\n\r\n            this._value(value);\r\n        }\r\n\r\n        _setTextInput(textInput) {\r\n            if (!ko.isObservable(textInput)) {\r\n                throw Error('\\'textInput\\' binding have to be observable.');\r\n            }\r\n\r\n            this._textInput(textInput);\r\n        }\r\n\r\n        _setErrorStateMatcher(errorStateMatcher) {\r\n            this._errorStateMatcher(errorStateMatcher);\r\n        }\r\n\r\n        _hasFocus() {\r\n            return this._$element.is(':focus');\r\n        }\r\n\r\n        _hasValue() {\r\n            return this._$element.val() !== '';\r\n        }\r\n\r\n        _hasPlaceholder() {\r\n            return this._$element.attr('placeholder') !== undefined;\r\n        }\r\n\r\n        _isDisabled() {\r\n            return this._$element.attr('disabled') !== undefined;\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmFormFieldDatepickerControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const value = allBindings.get('value');\r\n            const textInput = allBindings.get('textInput');\r\n            const errorStateMatcher = allBindings.get('hrmFormFieldDatepickerControlErrorStateMatcher');\r\n            const viewModel = new HrmFormFieldDatepickerControlViewModel(element, value, textInput, errorStateMatcher);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['value'] !== allBindings.get('value')) {\r\n                    instance._setValue(allBindings.get('value'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['textInput'] !== allBindings.get('textInput')) {\r\n                    instance._setTextInput(allBindings.get('textInput'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmFormFieldDatepickerControlErrorStateMatcher'] !== allBindings.get('hrmFormFieldDatepickerControlErrorStateMatcher')) {\r\n                    instance._setErrorStateMatcher(allBindings.get('hrmFormFieldDatepickerControlErrorStateMatcher'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","// hrmFormFieldInputControl\r\n(() => {\r\n    let nextId = 0;\r\n\r\n    class HrmFormFieldInputControlViewModel {\r\n        constructor(element, value, textInput, errorStateMatcher) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._focusChangeHandler = null;\r\n            this._valueChangeHandler = null;\r\n            this._mutationObserver = null;\r\n            this._errorStateMatcher = ko.observable(errorStateMatcher);\r\n            this._value = ko.observable(value);\r\n            this._textInput = ko.observable(textInput);\r\n            this._control = null;\r\n\r\n            this.element = element;\r\n            this.id = 'hrm-form-field-input-control-' + nextId++;\r\n            this.focused = null;\r\n            this.disabled = null;\r\n            this.shouldLabelFloat = null;\r\n            this.errorState = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_input']);\r\n            this._$element.attr('autocomplete', false);\r\n            this._$element.attr('id', this.id);\r\n\r\n            this._control = ko.pureComputed(() => {\r\n                if (this._value() !== undefined) {\r\n                    return this._value();\r\n                } else if (this._textInput() !== undefined) {\r\n                    return this._textInput();\r\n                } else {\r\n                    return null;\r\n                }\r\n            });\r\n\r\n            this.focused = ko.observable(this._hasFocus());\r\n            this.disabled = ko.observable(this._isDisabled());\r\n            const hasValue = ko.observable(this._hasValue());\r\n            const hasPlaceholder = ko.observable(this._hasPlaceholder());\r\n\r\n            this._focusChangeHandler = () => this.focused(this._hasFocus());\r\n            this._valueChangeHandler = () => hasValue(this._hasValue());\r\n\r\n            this._mutationObserver = new MutationObserver(mutations => {\r\n                mutations.forEach(mutation => {\r\n                    if (mutation.type === 'attributes') {\r\n                        hasPlaceholder(this._hasPlaceholder());\r\n                        this.disabled(this._isDisabled());\r\n                    }\r\n                });\r\n            });\r\n\r\n            this._mutationObserver.observe(this.element, {\r\n                attributes: true\r\n            });\r\n\r\n            this.shouldLabelFloat = ko.pureComputed(() => {\r\n                return this.focused() || hasValue() || hasPlaceholder();\r\n            });\r\n\r\n            this.errorState = ko.pureComputed(() => {\r\n                const errorStateMatcher = this._errorStateMatcher();\r\n                const control = this._control();\r\n\r\n                return errorStateMatcher !== undefined ? errorStateMatcher(control)() : false;\r\n            });\r\n\r\n            this._$element.on('focus blur', this._focusChangeHandler);\r\n            this._$element.on('input change', this._valueChangeHandler);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._$element.off('focus blur', this._focusChangeHandler);\r\n            this._$element.off('input change', this._valueChangeHandler);\r\n            this._mutationObserver.disconnect();\r\n        }\r\n\r\n        onBasisClick() {\r\n            this._$element.focus();\r\n        }\r\n\r\n        onBasisMousedown() {}\r\n\r\n        _setValue(value) {\r\n            if (!ko.isObservable(value)) {\r\n                throw Error('\\'value\\' binding have to be observable.');\r\n            }\r\n\r\n            this._value(value);\r\n        }\r\n\r\n        _setTextInput(textInput) {\r\n            if (!ko.isObservable(textInput)) {\r\n                throw Error('\\'textInput\\' binding have to be observable.');\r\n            }\r\n\r\n            this._textInput(textInput);\r\n        }\r\n\r\n        _setErrorStateMatcher(errorStateMatcher) {\r\n            this._errorStateMatcher(errorStateMatcher);\r\n        }\r\n\r\n        _hasFocus() {\r\n            return this._$element.is(':focus');\r\n        }\r\n\r\n        _hasValue() {\r\n            return this._$element.val() !== '';\r\n        }\r\n\r\n        _hasPlaceholder() {\r\n            return this._$element.attr('placeholder') !== undefined;\r\n        }\r\n\r\n        _isDisabled() {\r\n            return this._$element.attr('disabled') !== undefined;\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmFormFieldInputControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const value = allBindings.get('value');\r\n            const textInput = allBindings.get('textInput');\r\n            const errorStateMatcher = allBindings.get('hrmFormFieldInputControlErrorStateMatcher');\r\n            const viewModel = new HrmFormFieldInputControlViewModel(element, value, textInput, errorStateMatcher);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['value'] !== allBindings.get('value')) {\r\n                    instance._setValue(allBindings.get('value'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['textInput'] !== allBindings.get('textInput')) {\r\n                    instance._setTextInput(allBindings.get('textInput'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmFormFieldInputControlErrorStateMatcher'] !== allBindings.get('hrmFormFieldInputControlErrorStateMatcher')) {\r\n                    instance._setErrorStateMatcher(allBindings.get('hrmFormFieldInputControlErrorStateMatcher'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","// hrmFormFieldSelectControl\r\n(() => {\r\n    let nextId = 0;\r\n\r\n    class HrmFormFieldSelectControlViewModel {\r\n        constructor(element, value, selectedOptions, errorStateMatcher) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._focusChangeHandler = null;\r\n            this._valueChangeHandler = null;\r\n            this._selectionFocusHandler = null;\r\n            this._selectionBlurHandler = null;\r\n            this._searchFocusHandler = null;\r\n            this._searchBlurHandler = null;\r\n            this._openingHandler = null;\r\n            this._closeHandler = null;\r\n            this._searchUpdateHandler = null;\r\n            this._mutationObserver = null;\r\n            this._errorStateMatcher = ko.observable(errorStateMatcher);\r\n            this._value = ko.observable(value);\r\n            this._selectedOptions = ko.observable(selectedOptions);\r\n            this._control = null;\r\n            this._isMultiple = null;\r\n            this._select2Instance = null;\r\n\r\n            this.element = element;\r\n            this.id = 'hrm-form-field-select-control-' + nextId++;\r\n            this.focused = null;\r\n            this.disabled = null;\r\n            this.shouldLabelFloat = null;\r\n            this.errorState = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.attr('id', this.id);\r\n            this._select2Instance = this._$element.data('select2');\r\n            this._select2Instance.$container.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_select']);\r\n            this._select2Instance.$dropdown.children().first().addClass(['hrm-form-field__dropdown']);\r\n            this._isMultiple = this._$element.prop('multiple');\r\n\r\n            this._control = ko.pureComputed(() => {\r\n                if (this._value() !== undefined) {\r\n                    return this._value();\r\n                } else if (this._selectedOptions() !== undefined) {\r\n                    return this._selectedOptions();\r\n                } else {\r\n                    return null;\r\n                }\r\n            });\r\n\r\n            const selectionFocused = ko.observable(this._select2Instance.$selection.is(':focus'));\r\n            const searchFocused = this._isMultiple ? ko.observable(this._select2Instance.selection.$search.is(':focus')) : null;\r\n            const dropdownOpened = ko.observable(false);\r\n            const hasValue = ko.observable(this._hasValue());\r\n            const hasPlaceholder = ko.observable(this._hasPlaceholder());\r\n\r\n            this._selectionFocusHandler = () => selectionFocused(true);\r\n            this._selectionBlurHandler = () => selectionFocused(false);\r\n            this._searchFocusHandler = () => searchFocused(true);\r\n            this._searchBlurHandler = () => searchFocused(false);\r\n            this._openingHandler = () => dropdownOpened(true);\r\n            this._closeHandler = () => dropdownOpened(false);\r\n            this._valueChangeHandler = () => hasValue(this._hasValue());\r\n            this._searchUpdateHandler = () => {\r\n                if (this._isMultiple) {\r\n                    this._select2Instance.selection.$search.off('focus', this._searchFocusHandler);\r\n                    this._select2Instance.selection.$search.off('blur', this._searchBlurHandler);\r\n\r\n                    this._select2Instance.selection.$search.on('focus', this._searchFocusHandler);\r\n                    this._select2Instance.selection.$search.on('blur', this._searchBlurHandler);\r\n                }\r\n            };\r\n\r\n            this.focused = ko.pureComputed(() => {\r\n                return selectionFocused() || dropdownOpened() || (searchFocused !== null && searchFocused());\r\n            });\r\n\r\n            this.disabled = ko.observable(this._isDisabled());\r\n\r\n            this.shouldLabelFloat = ko.pureComputed(() => {\r\n                return this.focused() || hasValue() || hasPlaceholder();\r\n            });\r\n\r\n            this.errorState = ko.pureComputed(() => {\r\n                const errorStateMatcher = this._errorStateMatcher();\r\n                const control = this._control();\r\n\r\n                return errorStateMatcher !== undefined ? errorStateMatcher(control)() : false;\r\n            });\r\n\r\n            this._$element.on('focus blur', this._focusChangeHandler);\r\n            this._$element.on('input change', this._valueChangeHandler);\r\n            this._select2Instance.$selection.on('focus', this._selectionFocusHandler);\r\n            this._select2Instance.$selection.on('blur', this._selectionBlurHandler);\r\n            if (this._isMultiple) {\r\n                this._select2Instance.selection.$search.on('focus', this._searchFocusHandler);\r\n                this._select2Instance.selection.$search.on('blur', this._searchBlurHandler);\r\n            }\r\n            this._$element.on('change.select2', this._changeHandler);\r\n            this._$element.on('select2:opening', this._openingHandler);\r\n            this._$element.on('select2:close', this._closeHandler);\r\n            this._$element.on('hrm-select:search-update', this._searchUpdateHandler);\r\n\r\n            this._mutationObserver = new MutationObserver(mutations => {\r\n                mutations.forEach(mutation => {\r\n                    if (mutation.type === 'attributes') {\r\n                        this.disabled(this._isDisabled());\r\n                    }\r\n                });\r\n            });\r\n\r\n            this._mutationObserver.observe(this.element, {\r\n                attributes: true\r\n            });\r\n\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._select2Instance.$selection.off('focus', this._selectionFocusHandler);\r\n            this._select2Instance.$selection.off('blur', this._selectionBlurHandler);\r\n            if (this._isMultiple) {\r\n                this._select2Instance.selection.$search.off('focus', this._searchFocusHandler);\r\n                this._select2Instance.selection.$search.off('blur', this._searchBlurHandler);\r\n            }\r\n            this._$element.off('change.select2', this._valueChangeHandler);\r\n            this._$element.off('select2:opening', this._openingHandler);\r\n            this._$element.off('select2:close', this._closeHandler);\r\n            this._$element.off('hrm-select:search-update', this._searchUpdateHandler);\r\n            this._mutationObserver.disconnect();\r\n        }\r\n\r\n        onBasisClick() {}\r\n\r\n        onBasisMousedown(event) {\r\n            if (!this.disabled()) {\r\n                if (event.target !== this.element &&\r\n                    this._select2Instance.$container.get()[0] !== event.target &&\r\n                    this._select2Instance.$container.has(event.target).length === 0) {\r\n                    const isOpen = this._select2Instance.isOpen();\r\n\r\n                    setTimeout(() => {\r\n                        this._select2Instance.$selection.focus();\r\n\r\n                        if (!isOpen) {\r\n                            this._select2Instance.open();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        _setValue(value) {\r\n            if (!ko.isObservable(value)) {\r\n                throw Error('\\'value\\' binding have to be observable.');\r\n            }\r\n\r\n            this._value(value);\r\n        }\r\n\r\n        _setSelectedOptions(selectedOptions) {\r\n            if (!ko.isObservable(selectedOptions)) {\r\n                throw Error('\\'selectedOptions\\' binding have to be observable.');\r\n            }\r\n\r\n            this._selectedOptions(selectedOptions);\r\n        }\r\n\r\n        _setErrorStateMatcher(errorStateMatcher) {\r\n            this._errorStateMatcher(errorStateMatcher);\r\n        }\r\n\r\n        _hasValue() {\r\n            const value = this._$element.val();\r\n            return value !== '' && value !== undefined && (!(value instanceof Array) || value.length !== 0);\r\n        }\r\n\r\n        _hasPlaceholder() {\r\n            return this._select2Instance.options.options.placeholder !== ' ';\r\n        }\r\n\r\n        _isDisabled() {\r\n            return this._$element.attr('disabled') !== undefined;\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmFormFieldSelectControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const value = allBindings.get('value');\r\n            const selectedOptions = allBindings.get('selectedOptions');\r\n            const errorStateMatcher = allBindings.get('hrmFormFieldSelectControlErrorStateMatcher');\r\n            const viewModel = new HrmFormFieldSelectControlViewModel(element, value, selectedOptions, errorStateMatcher);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['value'] !== allBindings.get('value')) {\r\n                    instance._setValue(allBindings.get('value'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['selectedOptions'] !== allBindings.get('selectedOptions')) {\r\n                    instance._setTextInput(allBindings.get('selectedOptions'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmFormFieldSelectControlErrorStateMatcher'] !== allBindings.get('hrmFormFieldSelectControlErrorStateMatcher')) {\r\n                    instance._setErrorStateMatcher(allBindings.get('hrmFormFieldSelectControlErrorStateMatcher'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","// hrmFormField\r\n(() => {\r\n    class HrmFormFieldViewModel {\r\n        constructor(element, control, label) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._control = control;\r\n            this._label = label;\r\n\r\n            this.element = element;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass(['hrm-form-field', 'hrm-notransition']);\r\n\r\n            this._subscriptions.push(ko.bindingEvent.subscribe(this.element, 'childrenComplete', () => {\r\n                this._$element.toggleClass('hrm-form-field--has-label', this._label !== undefined);\r\n\r\n                this._$element.toggleClass('hrm-form-field--focused', this._control().focused());\r\n                this._subscriptions.push(this._control().focused.subscribe(focused => {\r\n                    this._$element.toggleClass('hrm-form-field--focused', focused);\r\n                }));\r\n\r\n                this._$element.toggleClass('hrm-form-field--disabled', this._control().disabled());\r\n                this._subscriptions.push(this._control().disabled.subscribe(disabled => {\r\n                    this._$element.toggleClass('hrm-form-field--disabled', disabled);\r\n                }));\r\n\r\n                this._$element.toggleClass('hrm-form-field--should-label-float', this._control().shouldLabelFloat());\r\n                this._subscriptions.push(this._control().shouldLabelFloat.subscribe(shouldLabelFloat => {\r\n                    this._$element.toggleClass('hrm-form-field--should-label-float', shouldLabelFloat);\r\n                }));\r\n\r\n                setTimeout(() => {\r\n                    this._$element.removeClass('hrm-notransition');\r\n                })\r\n            }));\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmFormField = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const control = allBindings.get('hrmFormFieldControlRef');\r\n            const label = allBindings.get('hrmFormFieldLabelRef');\r\n            const viewModel = new HrmFormFieldViewModel(element, control, label);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel.dispose();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmFormFieldLabel\r\n(() => {\r\n    class HrmFormFieldLabelViewModel {\r\n        constructor(element) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n\r\n            this.element = element;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass('hrm-form-field__label');\r\n        }\r\n\r\n        setFor(id) {\r\n            this._$element.attr('for', id);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmFormFieldLabel = {\r\n        init: function (element, valueAccessor) {\r\n            const viewModel = new HrmFormFieldLabelViewModel(element);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmFormFieldBasis\r\n(() => {\r\n    class HrmFormFieldBasisViewModel {\r\n        constructor(element, control) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._control = control;\r\n            this._clickHandler = null;\r\n            this._mousedownHandler = null;\r\n\r\n            this.element = element;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass('hrm-form-field__basis');\r\n\r\n            this._subscriptions.push(ko.bindingEvent.subscribe(this.element, 'childrenComplete', () => {\r\n                this._$element.toggleClass('hrm-form-field__basis--focused', this._control().focused());\r\n                this._subscriptions.push(this._control().focused.subscribe(focused => {\r\n                    this._$element.toggleClass('hrm-form-field__basis--focused', focused);\r\n                }));\r\n\r\n                this._$element.toggleClass('hrm-form-field__basis--invalid', this._control().errorState());\r\n                this._subscriptions.push(this._control().errorState.subscribe(errorState => {\r\n                    this._$element.toggleClass('hrm-form-field__basis--invalid', errorState);\r\n                }));\r\n            }));\r\n\r\n            this._clickHandler = event => {\r\n                this._control().onBasisClick(event);\r\n            };\r\n\r\n            this._mousedownHandler = event => {\r\n                this._control().onBasisMousedown(event);\r\n            };\r\n\r\n            this._$element.on('click', this._clickHandler);\r\n            this._$element.on('mousedown', this._mousedownHandler);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._$element.off('click', this._clickHandler);\r\n            this._$element.off('mousedown', this._mousedownHandler);\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmFormFieldBasis = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const control = allBindings.get('hrmFormFieldBasisControl');\r\n            const viewModel = new HrmFormFieldBasisViewModel(element, control);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel.dispose();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\nko.components.register('hrm-form-field-error', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-form-field__error']);\r\n\r\n            return new (function () {\r\n                this.templateNodes = hrmSplitComponentTemplateNodes(componentInfo.templateNodes);\r\n            });\r\n        }\r\n    },\r\n    template: `\r\n        <span class=\"hrm-form-field__error-text\">\r\n            <!-- ko template: {nodes: templateNodes.main} --><!-- /ko -->\r\n        </span>\r\n    `\r\n});\r\n","(() => {\r\n    ko.components.register('hrm-main-sidebar', {\r\n        viewModel: {\r\n            createViewModel: function (params, componentInfo) {\r\n                const $element = $(componentInfo.element);\r\n                $element.addClass(['hrm-main-sidebar']);\r\n\r\n                return new (class {\r\n                    constructor() {\r\n                        this._isCollapsed = hrmExtractComponentParam(params, 'collapsed', false);\r\n                        this._isUserSelected = false;\r\n                        this._isNotificationsSelected = false;\r\n                        this._selectedMenuItemIndex = null;\r\n                        this._selectedDrawerContentName = null;\r\n                        this._$element = $element;\r\n                        this._$collapseToggleElement = this._$element.find('.hrm-main-sidebar__collapse-toggle');\r\n                        this._$user = this._$element.find('.hrm-main-sidebar__user');\r\n                        this._$notifications = this._$element.find('.hrm-main-sidebar__notifications');\r\n                        this._$menuItems = this._$element.find('.hrm-main-sidebar__menu-item');\r\n                        this._$drawer = this._$element.find('.hrm-main-sidebar__drawer');\r\n                        this._$backdrop = this._$element.find('.hrm-main-sidebar__backdrop');\r\n\r\n                        this._drawerContents = new Map(\r\n                            this._$element.find('.hrm-main-sidebar__drawer-content')\r\n                                .toArray()\r\n                                .map(element => {\r\n                                    const $element = $(element);\r\n                                    return [$element.data('hrm-main-sidebar-drawer-content-name'), $element];\r\n                                })\r\n                        );\r\n\r\n                        this.viewportSize = ko.observable({width: $(window).width(), height: $(window).height()});\r\n\r\n                        this._init();\r\n                    }\r\n\r\n                    _init() {\r\n                        this._$element.addClass('hrm-notransition');\r\n\r\n                        this._$element.find('.hrm-main-sidebar__user').on('click', async () => {\r\n                            if (this._isUserSelected) {\r\n                                this.clearSelection();\r\n                            } else {\r\n                                this.selectUser();\r\n                            }\r\n                        });\r\n\r\n                        this._$element.find('.hrm-main-sidebar__notifications').on('click', async () => {\r\n                            if (this._isNotificationsSelected) {\r\n                                this.clearSelection();\r\n                            } else {\r\n                                this.selectNotifications();\r\n                            }\r\n                        });\r\n                        \r\n                        this._$backdrop.on('click', async () => {\r\n                            this.clearSelection();\r\n                        });\r\n\r\n                        this._$menuItems.each((index, menuItem) => {\r\n                            $(menuItem).on('click', () => {\r\n                                if (this._selectedMenuItemIndex === index) {\r\n                                    this.clearSelection();\r\n                                } else {\r\n                                    this.selectMenuItem(index);\r\n                                }\r\n                            });\r\n                        });\r\n\r\n                        $(window).on('resize', () => {\r\n                            this.viewportSize({width: $(window).width(), height: $(window).height()});\r\n                        });\r\n\r\n                        this._$element.toggleClass('hrm-main-sidebar--collapsed', this._isCollapsed());\r\n                        this._isCollapsed.subscribe(collapsed => {\r\n                            this._$element.toggleClass('hrm-main-sidebar--collapsed', collapsed);\r\n                        });\r\n\r\n                        setTimeout(() => {\r\n                            this._$element.removeClass('hrm-notransition');\r\n                        }, 0);\r\n\r\n                        this.viewportSize.subscribe(() => {\r\n                            this._$element.addClass('hrm-notransition');\r\n\r\n                            setTimeout(() => {\r\n                                this._$element.removeClass('hrm-notransition');\r\n                            }, 0);\r\n                        })\r\n                    }\r\n\r\n                    async selectUser() {\r\n                        if (!this._isUserSelected) {\r\n                            await this.clearSelection();\r\n\r\n                            this._$user.addClass('hrm-main-sidebar__user--active');\r\n                            this._isUserSelected = true;\r\n                            await this._openDrawer('user');\r\n                        }\r\n                    }\r\n\r\n                    async selectNotifications() {\r\n                        if (!this._isNotificationsSelected) {\r\n                            await this.clearSelection();\r\n\r\n                            this._$notifications.addClass('hrm-main-sidebar__notifications--active');\r\n                            this._isNotificationsSelected = true;\r\n                            await this._openDrawer('notifications');\r\n                        }\r\n                    }\r\n\r\n                    async selectMenuItem(index) {\r\n                        if (this._selectedMenuItemIndex !== index) {\r\n                            await this.clearSelection();\r\n\r\n                            this._$menuItems.eq(index).addClass('hrm-main-sidebar__menu-item--active');\r\n                            this._selectedMenuItemIndex = index;\r\n                            this._isUserSelected = false;\r\n                            await this._openDrawer(this._$menuItems.eq(index).data('hrm-main-sidebar-drawer-content-name'));\r\n                        }\r\n                    }\r\n\r\n                    async clearSelection() {\r\n                        if (this._selectedMenuItemIndex !== null) {\r\n                            this._$menuItems.eq(this._selectedMenuItemIndex).removeClass('hrm-main-sidebar__menu-item--active');\r\n                            this._selectedMenuItemIndex = null;\r\n                        } else if (this._isUserSelected) {\r\n                            this._$user.removeClass('hrm-main-sidebar__user--active');\r\n                            this._isUserSelected = false;\r\n                        } else if (this._isNotificationsSelected) {\r\n                            this._$notifications.removeClass('hrm-main-sidebar__notifications--active');\r\n                            this._isNotificationsSelected = false;\r\n                        }\r\n\r\n                        await this._closeDrawer();\r\n                    }\r\n\r\n                    async _openDrawer(contentName) {\r\n                        if (this._selectedDrawerContentName !== contentName) {\r\n                            await this._closeDrawer();\r\n\r\n                            const $drawerContent = this._drawerContents.get(contentName);\r\n\r\n                            $drawerContent.addClass('hrm-main-sidebar__drawer-content--active');\r\n                            this._$drawer.addClass('hrm-main-sidebar__drawer--open');\r\n                            this._$backdrop.addClass('hrm-main-sidebar__backdrop--visible');\r\n\r\n                            if ($drawerContent.data('hrm-main-sidebar-drawer-class') !== undefined) {\r\n                                this._$drawer.addClass($drawerContent.data('hrm-main-sidebar-drawer-class'));\r\n                            }\r\n\r\n                            this._selectedDrawerContentName = contentName;\r\n                        }\r\n                    }\r\n\r\n                    async _closeDrawer() {\r\n                        if (this._selectedDrawerContentName !== null) {\r\n                            this._$drawer.removeClass('hrm-main-sidebar__drawer--open');\r\n                            this._$backdrop.removeClass('hrm-main-sidebar__backdrop--visible');\r\n\r\n                            await new Promise(resolve => setTimeout(resolve, 200));\r\n\r\n                            const $drawerContent = this._drawerContents.get(this._selectedDrawerContentName);\r\n\r\n                            this._$drawer.removeClass($drawerContent.data('hrm-main-sidebar-drawer-class'));\r\n\r\n                            $drawerContent.removeClass('hrm-main-sidebar__drawer-content--active');\r\n\r\n                            this._selectedDrawerContentName = null;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        template: `\r\n            <div class=\"hrm-main-sidebar__content-wrapper\">\r\n                <div class=\"hrm-main-sidebar__content\">\r\n                    <div class=\"hrm-main-sidebar__header\">\r\n                        <div class=\"hrm-main-sidebar__user\">\r\n                            <!--<img class=\"hrm-main-sidebar__avatar\" src=\"assets/examples/avatar.jpg\">-->\r\n                            <img class=\"hrm-main-sidebar__avatar\" src=\"assets/img/avatar-placeholder.png\">\r\n        \r\n                            <div class=\"hrm-main-sidebar__user-name\">\r\n                                Пётр Петров\r\n                            </div>\r\n                        </div>\r\n        \r\n                        <div class=\"hrm-main-sidebar__notifications\">\r\n                            <div class=\"hrm-main-sidebar__notifications-icon\">\r\n                                <div class=\"hrm-main-sidebar__notifications-icon-counter\">28</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n        \r\n                    <ul class=\"nav hrm-main-sidebar__menu\">\r\n                        <li class=\"hrm-main-sidebar__menu-item hrm-main-sidebar__menu-calculations-item\"\r\n                            data-hrm-main-sidebar-drawer-content-name=\"calculations\">\r\n                            <span class=\"hrm-main-sidebar__menu-item-name\">Расчёты</span>\r\n                        </li>\r\n        \r\n                        <li class=\"hrm-main-sidebar__menu-item hrm-main-sidebar__menu-hr-item\"\r\n                            data-hrm-main-sidebar-drawer-content-name=\"hr\">\r\n                            <span class=\"hrm-main-sidebar__menu-item-name\">Кадры</span>\r\n                        </li>\r\n        \r\n                        <li class=\"hrm-main-sidebar__menu-item hrm-main-sidebar__menu-documents-item\"\r\n                            data-hrm-main-sidebar-drawer-content-name=\"documents\">\r\n                            <span class=\"hrm-main-sidebar__menu-item-name\">Отчёты</span>\r\n                        </li>\r\n        \r\n                        <li class=\"hrm-main-sidebar__menu-item hrm-main-sidebar__menu-reference-item\"\r\n                            data-hrm-main-sidebar-drawer-content-name=\"reference\">\r\n                            <span class=\"hrm-main-sidebar__menu-item-name\">Справочники</span>\r\n                        </li>\r\n        \r\n                        <li class=\"hrm-main-sidebar__menu-item hrm-main-sidebar__menu-contents-item\"\r\n                            data-hrm-main-sidebar-drawer-content-name=\"contents\">\r\n                            <span class=\"hrm-main-sidebar__menu-item-name\">Все разделы</span>\r\n                        </li>\r\n                    </ul>\r\n        \r\n                    <div class=\"hrm-spacer\"></div>\r\n                    \r\n                    <div class=\"hrm-main-sidebar__actions\">\r\n                        <a class=\"hrm-main-sidebar__settings-link\" href=\"#\" title=\"Настройки\"></a>\r\n        \r\n                        <a class=\"hrm-main-sidebar__support-link\" href=\"#\" title=\"Помощь\"></a>\r\n            \r\n                        <button class=\"hrm-button hrm-main-sidebar__collapse-toggle\"\r\n                                data-bind=\"click: function() {_isCollapsed(!_isCollapsed());}\">\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n            <div class=\"hrm-main-sidebar__drawer\">\r\n                <div class=\"hrm-main-sidebar__drawer-content-wrapper\" \r\n                     data-bind=\"hrmScrollable, hrmScrollableDisabled: viewportSize().width <= HRM_BREAKPOINTS.tabletMaxWidth\">\r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"calculations\"\r\n                         data-hrm-main-sidebar-drawer-class=\"hrm-main-sidebar__menu-base-drawer\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                    </div>\r\n        \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"hr\"\r\n                         data-hrm-main-sidebar-drawer-class=\"hrm-main-sidebar__menu-base-drawer\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-hr-content'} --><!-- /ko -->\r\n                    </div >\r\n        \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"documents\"\r\n                         data-hrm-main-sidebar-drawer-class=\"hrm-main-sidebar__menu-base-drawer\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-documents-content'} --><!-- /ko -->\r\n                    </div>\r\n        \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"reference\"\r\n                         data-hrm-main-sidebar-drawer-class=\"hrm-main-sidebar__menu-base-drawer\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-reference-content'} --><!-- /ko -->\r\n                    </div>\r\n                    \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"contents\"\r\n                         data-hrm-main-sidebar-drawer-class=\"hrm-main-sidebar__contents-drawer\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-contents-content'} --><!-- /ko -->\r\n                    </div>\r\n                    \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"user\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-user-content'} --><!-- /ko -->\r\n                    </div>\r\n                    \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"notifications\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-notifications-content'} --><!-- /ko -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n            <div class=\"hrm-main-sidebar__backdrop\"></div>\r\n            \r\n            <script id=\"hrm-main-sidebar-calculations-content\" type=\"text/html\">\r\n                <div class=\"hrm-main-sidebar__submenu\">\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Сотрудники</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Штатная численность</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Потребность в персонале</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Кандидаты</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item hrm-main-sidebar__submenu-item--active\" href=\"#\">Жалобы и предложения</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Приказы/инструкции</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Анкеты водителей</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Праздничные надбавки</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Надбавки за лучшие показатели</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Договоры</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Управление уведомлениями</a>\r\n                </div>\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-hr-content\" type=\"text/html\">\r\n                <div class=\"hrm-main-sidebar__submenu\">\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Сотрудники</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Штатная численность</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Потребность в персонале</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Кандидаты</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item hrm-main-sidebar__submenu-item--active\" href=\"#\">Жалобы и предложения</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Приказы/инструкции</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Анкеты водителей</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Праздничные надбавки</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Надбавки за лучшие показатели</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Договоры</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Управление уведомлениями</a>\r\n                </div>\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-documents-content\" type=\"text/html\">\r\n                <div class=\"hrm-main-sidebar__submenu\">\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Сотрудники</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Штатная численность</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Потребность в персонале</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Кандидаты</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item hrm-main-sidebar__submenu-item--active\" href=\"#\">Жалобы и предложения</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Приказы/инструкции</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Анкеты водителей</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Праздничные надбавки</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Надбавки за лучшие показатели</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Договоры</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Управление уведомлениями</a>\r\n                </div>\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-reference-content\" type=\"text/html\">\r\n                <div class=\"hrm-main-sidebar__submenu\">\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Сотрудники</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Штатная численность</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Потребность в персонале</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Кандидаты</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item hrm-main-sidebar__submenu-item--active\" href=\"#\">Жалобы и предложения</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Приказы/инструкции</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Анкеты водителей</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Праздничные надбавки</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Надбавки за лучшие показатели</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Договоры</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Управление уведомлениями</a>\r\n                </div>\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-user-content\" type=\"text/html\">\r\n                Пользователь\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-notifications-content\" type=\"text/html\">\r\n                Уведомления\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-contents-content\" type=\"text/html\">\r\n                <!-- ko if: viewportSize().width > HRM_BREAKPOINTS.mobileMaxWidth -->\r\n                    Все разделы\r\n                <!-- /ko -->\r\n                \r\n                <!-- ko if: viewportSize().width <= HRM_BREAKPOINTS.mobileMaxWidth -->\r\n                    <div class=\"hrm-main-sidebar__contents\">\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Расчеты\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Кадры\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-hr-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Документы\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-documents-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Справочники\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-reference-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Графики\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Листовки\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Маркетинг\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Штрафы/Премии\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Нарушения\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Плохие отзывы\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Жалобы и предложения\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Зоны доставки\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Инструкции\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Календарь событий\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                    </div>\r\n                <!-- /ko -->\r\n            </script>\r\n        `\r\n    });\r\n})();\r\n","// hrmScrollable\r\n(() => {\r\n    class HrmScrollableViewModel {\r\n        constructor(element, disabled) {\r\n            this._subscriptions = [];\r\n            this._disabledSubscription = null;\r\n            this._disabled = null;\r\n            this._overlayScrollbarsInstance = null;\r\n            this._overlayScrollbarsOptions = {\r\n                className: 'hrm-scrollable'\r\n            };\r\n            this.element = element;\r\n\r\n            this._init(disabled);\r\n        }\r\n\r\n        _init(disabled) {\r\n            this._setDisabled(disabled);\r\n            this._update();\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._disabledSubscription.dispose();\r\n        }\r\n\r\n        _setDisabled(disabled) {\r\n            if (disabled === undefined) {\r\n                disabled = false;\r\n            }\r\n\r\n            if (this._disabledSubscription !== null) {\r\n                this._disabledSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(disabled)) {\r\n                this._disabledSubscription = disabled.subscribe(disabled => {\r\n                    this._disabled = disabled;\r\n                    this._update();\r\n                });\r\n\r\n                this._disabled = disabled();\r\n            } else {\r\n                this._disabled = disabled;\r\n                this._update();\r\n            }\r\n        }\r\n\r\n        _update() {\r\n            const $element = $(this.element);\r\n\r\n            if (!this._disabled) {\r\n                if (this._overlayScrollbarsInstance === null) {\r\n                    $element.overlayScrollbars(this._overlayScrollbarsOptions);\r\n                    this._overlayScrollbarsInstance = $element.overlayScrollbars();\r\n                }\r\n            } else {\r\n                if (this._overlayScrollbarsInstance !== null) {\r\n                    this._overlayScrollbarsInstance.destroy();\r\n                    this._overlayScrollbarsInstance = null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmScrollable = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const disabled = allBindings.get('hrmScrollableDisabled');\r\n            const viewModel = new HrmScrollableViewModel(element, disabled);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmScrollableDisabled'] !== allBindings.get('hrmScrollableDisabled')) {\r\n                    instance._setDisabled(allBindings.get('hrmScrollableDisabled'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","ko.bindingHandlers.hrmSelect = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const $element = $(element);\r\n        const isMultiple = $element.prop('multiple');\r\n        const value = !isMultiple ? allBindings.get('value') : allBindings.get('selectedOptions');\r\n        const wrapperClass = allBindings.get('hrmSelectClass');\r\n        const customValuesAllowed = allBindings.has('hrmSelectCustomValuesAllowed') ? allBindings.get('hrmSelectCustomValuesAllowed') : false;\r\n        const searchEnabled = allBindings.has('hrmSelectSearchEnabled') ? allBindings.get('hrmSelectSearchEnabled') : false;\r\n        const placeholder = allBindings.has('hrmSelectPlaceholder') ? allBindings.get('hrmSelectPlaceholder') : ' ';\r\n        const allowClear = allBindings.has('hrmSelectAllowClear') ? allBindings.get('hrmSelectAllowClear') : false;\r\n\r\n        if (customValuesAllowed && (!isMultiple && !searchEnabled)) {\r\n            throw Error('You have to enable both options \"hrmSelectCustomValuesAllowed\" and \"hrmSelectSearchEnabled\"');\r\n        }\r\n\r\n        const options = {\r\n            minimumResultsForSearch: searchEnabled ? 0 : Infinity,\r\n            language: 'ru',\r\n            width: '100%',\r\n            dropdownAutoWidth: true,\r\n            dropdownCssClass: 'hrm-select__dropdown',\r\n            placeholder,\r\n            allowClear,\r\n            templateSelection: state => $('<span>').addClass('hrm-select__rendered-text').text(state.text),\r\n            tags: customValuesAllowed\r\n        };\r\n\r\n        const Select = $.fn.select2.amd.require('jquery.select2');\r\n        const Search = $.fn.select2.amd.require('select2/selection/search');\r\n\r\n        const originalSelectRenderFn = Select.prototype.render;\r\n        const originalSearchUpdateFn = Search.prototype.update;\r\n\r\n        Select.prototype.render = function () {\r\n            const $container = originalSelectRenderFn.call(this, ...arguments);\r\n            $container.addClass('hrm-select');\r\n\r\n            if (wrapperClass !== undefined) {\r\n                $container.addClass(wrapperClass.split(' '));\r\n            }\r\n\r\n            return $container;\r\n        };\r\n\r\n        Search.prototype.update = function () {\r\n            originalSearchUpdateFn.call(this, ...arguments);\r\n            $element.trigger('hrm-select:search-update');\r\n        };\r\n\r\n        $element.select2(options);\r\n\r\n        Select.prototype.render = originalSelectRenderFn;\r\n        Search.prototype.update = originalSearchUpdateFn;\r\n\r\n        const select2Instance = $element.data('select2');\r\n\r\n        select2Instance.$results.unbind('mousewheel');\r\n\r\n        const $dropdownResultsContainer = $element.data('select2').$results.parent();\r\n        $dropdownResultsContainer.overlayScrollbars({\r\n            callbacks: {\r\n                    onUpdated: () => {\r\n                    if (select2Instance.$dropdown.is(':visible')) {\r\n                        select2Instance.dropdown._positionDropdown();\r\n\r\n                        // Правка бага в Chrome с неправильным синхронным вычислением положения выпадающего списка\r\n                        setTimeout(() => {\r\n                            select2Instance.dropdown._positionDropdown();\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        const openHandler = () => {\r\n            $dropdownResultsContainer.overlayScrollbars().scroll(0);\r\n        };\r\n\r\n        const openingHandler = () => {\r\n            select2Instance.$dropdown.hide().fadeIn(150);\r\n        };\r\n\r\n        let isClosingAnimated = false;\r\n        const closingHandler = () => {\r\n            if (!isClosingAnimated) {\r\n                select2Instance.$dropdown.fadeOut(150, () => {\r\n                    isClosingAnimated = true;\r\n                    select2Instance.close();\r\n                });\r\n\r\n                return false;\r\n            } else {\r\n                isClosingAnimated = false;\r\n                return true;\r\n            }\r\n        };\r\n\r\n        $element.on('select2:open', openHandler);\r\n        $element.on('select2:opening', openingHandler);\r\n        $element.on('select2:closing', closingHandler);\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $element.off('select2:open', openHandler);\r\n            $element.off('select2:opening', openingHandler);\r\n            $element.off('select2:closing', closingHandler);\r\n        });\r\n    },\r\n    update: function (element, valueAccessor, allBindings) {\r\n        const $element = $(element);\r\n        const isMultiple = $element.prop('multiple');\r\n        const value = !isMultiple ? allBindings.get('value') : allBindings.get('selectedOptions');\r\n\r\n        if (value !== undefined && ko.isObservable(value)) {\r\n            value.subscribe(v => {\r\n                $element.trigger('change.select2');\r\n            });\r\n        }\r\n    }\r\n};\r\n","// hrmSwitch\r\n(() => {\r\n    let nextId = 0;\r\n\r\n    class HrmSwitchViewModel {\r\n        constructor(params, componentInfo) {\r\n            this._subscriptions = [];\r\n            this._$element = $(componentInfo.element);\r\n            this._exportAs = params !== undefined ? params.exportAs : undefined;\r\n\r\n            this.element = componentInfo.element;\r\n            this.id = 'hrm-switch-' + nextId++;\r\n            this.checked = hrmExtractComponentParam(params, 'checked', false);\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass(['hrm-switch']);\r\n\r\n            this._$element.toggleClass('hrm-switch--checked', this.checked());\r\n\r\n            this._subscriptions.push(this.checked.subscribe(checked => {\r\n                this._$element.toggleClass('hrm-switch--checked', checked);\r\n            }));\r\n\r\n            if (this._exportAs !== undefined) {\r\n                if (ko.isObservableArray(this._exportAs)) {\r\n                    this._exportAs.push(this);\r\n                } else {\r\n                    this._exportAs(this);\r\n                }\r\n            }\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.components.register('hrm-switch', {\r\n        viewModel: {\r\n            createViewModel: function (params, componentInfo) {\r\n                return new HrmSwitchViewModel(params, componentInfo);\r\n            }\r\n        },\r\n        template: `\r\n            <label class=\"hrm-switch__layout\">\r\n                <input data-bind=\"checked: checked, attr: {id: id}\" type=\"checkbox\" hidden>\r\n            </label>\r\n        `\r\n    });\r\n})();\r\n\r\n// hrmSwitchGroup\r\n(() => {\r\n    class HrmSwitchGroupViewModel {\r\n        constructor(element, control, label) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._control = control;\r\n            this._label = label;\r\n\r\n            this.element = element;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass('hrm-switch-group');\r\n\r\n            this._subscriptions.push(ko.bindingEvent.subscribe(this.element, 'descendantsComplete', () => {\r\n                this._label().setFor(this._control().id);\r\n            }));\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmSwitchGroup = {\r\n        init: function (element, valueAccessor, allBindings, _, bindingContext) {\r\n            const control = allBindings.get('hrmSwitchGroupControlRef');\r\n            const label = allBindings.get('hrmSwitchGroupLabelRef');\r\n            const viewModel = new HrmSwitchGroupViewModel(element, control, label);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel.dispose();\r\n            });\r\n\r\n            const innerBindingContext = ko.bindingEvent.startPossiblyAsyncContentBinding(element, bindingContext);\r\n\r\n            ko.applyBindingsToDescendants(innerBindingContext, element);\r\n\r\n            return { controlsDescendantBindings: true };\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmSwitchGroupLabel\r\n(() => {\r\n    class HrmSwitchGroupLabelViewModel {\r\n        constructor(element) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n\r\n            this.element = element;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass('hrm-switch-group__label');\r\n        }\r\n\r\n        setFor(id) {\r\n            this._$element.attr('for', id);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmSwitchGroupLabel = {\r\n        init: function (element, valueAccessor) {\r\n            const viewModel = new HrmSwitchGroupLabelViewModel(element);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        }\r\n    };\r\n})();\r\n","class HrmTabGroupItem {\r\n    constructor(text, disabled = false) {\r\n        this.text = text;\r\n        this.disabled = ko.observable(disabled);\r\n    }\r\n}\r\n\r\nko.components.register('hrm-tab-group', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n            $element.addClass(['hrm-tab-group']);\r\n\r\n            const HrmTabGroupViewModel = function () {\r\n                this.moreButtonElementWidth = 33.5;\r\n                this.itemMargin = 30;\r\n\r\n                this.subscriptions = [];\r\n                this.element = componentInfo.element;\r\n\r\n                this.windowResizeHandler = () => {\r\n                    this.viewportSize({width: $(window).width(), height: $(window).height()});\r\n                    this.updateWidth();\r\n                };\r\n                this.viewportSize = ko.observable({width: $(window).width(), height: $(window).height()});\r\n\r\n                this.items = params.items;\r\n                this.activeItem = hrmExtractComponentParam(params, 'activeItem', 0);\r\n                this.width = ko.observable($element.width());\r\n                this.itemWidths = ko.pureComputed(() => {\r\n                    const $itemMirror = $('<span>').css({\r\n                        'font-weight': 500,\r\n                        'font-size': '13px',\r\n                        'white-space': 'nowrap'\r\n                    });\r\n\r\n                    const $container = $('<div>').css({\r\n                        position: 'absolute',\r\n                        left: '0',\r\n                        top: '0',\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        visibility: 'hidden'\r\n                    });\r\n\r\n                    $container.appendTo(document.body);\r\n                    $container.append($itemMirror);\r\n\r\n                    const result = ko.unwrap(this.items).map(item => {\r\n                        $itemMirror.text(item.text);\r\n                        return $itemMirror.width();\r\n                    });\r\n\r\n                    $container.remove();\r\n\r\n                    return result;\r\n                });\r\n                this.maxFitItem = ko.pureComputed(() => {\r\n                    const itemWidths = this.itemWidths();\r\n                    const width = this.width();\r\n\r\n                    let w = 0;\r\n                    for (let i = 0; i < itemWidths.length; i++) {\r\n                        if (i > 0) {\r\n                            w += (itemWidths[i] + this.itemMargin);\r\n                        } else {\r\n                            w += itemWidths[i];\r\n                        }\r\n\r\n                        if (w >= width - this.moreButtonElementWidth - this.itemMargin) {\r\n                            return i !== 0 ? i - 1 : null;\r\n                        }\r\n                    }\r\n\r\n                    return itemWidths.length > 0 ? itemWidths.length - 1 : null;\r\n                });\r\n\r\n                this.updateWidth = function () {\r\n                    this.width($element.width());\r\n                };\r\n\r\n                this.timer = ko.observable(0);\r\n\r\n                setInterval(() => {\r\n                    this.timer(this.timer() + 1);\r\n                }, 1000);\r\n\r\n                (() => {\r\n                    $(window).on('resize', this.windowResizeHandler);\r\n                })();\r\n            };\r\n\r\n            HrmTabGroupViewModel.prototype.dispose = function() {\r\n                this.subscriptions.forEach(s => s.dispose());\r\n                $(window).off('resize', this.windowResizeHandler);\r\n            };\r\n\r\n            return new HrmTabGroupViewModel();\r\n        }\r\n    },\r\n    template: `\r\n        <div class=\"hrm-tab-group__content-wrapper\">\r\n            <div class=\"hrm-tab-group__content\">\r\n                <!-- ko if: items.length > 0 -->\r\n                    <!-- ko foreach: viewportSize().width > HRM_BREAKPOINTS.tabletMaxWidth ? items.slice(0, maxFitItem() + 1) : items -->\r\n                        <div class=\"hrm-tab-group__item\"\r\n                             data-bind=\"\r\n                                click: function() {if (!disabled()) {$component.activeItem($index());}},\r\n                                css: {\r\n                                    'hrm-tab-group__item--active': $component.activeItem() === $index(),\r\n                                    'hrm-tab-group__item--disabled': disabled\r\n                                },\r\n                                text: text\r\n                             \">\r\n                        </div>\r\n                    <!-- /ko -->\r\n                    \r\n                    <!-- ko if: viewportSize().width > HRM_BREAKPOINTS.tabletMaxWidth -->\r\n                        <!-- ko if: maxFitItem() < items.length - 1 -->\r\n                            <button class=\"hrm-button hrm-tab-group__more-button\"\r\n                                    data-bind=\"\r\n                                        hrmDropdownMenu,\r\n                                        hrmDropdownMenuTemplate: 'hrm-tab-group-more-button-dropdown-menu-template',\r\n                                        hrmDropdownMenuPlacement: 'bottom-end'\r\n                                    \">\r\n                                Еще...\r\n                            </button>\r\n                            \r\n                            <script id=\"hrm-tab-group-more-button-dropdown-menu-template\" type=\"text/html\">\r\n                                <!-- ko foreach: items.slice(maxFitItem() + 1) -->\r\n                                    <div class=\"hrm-dropdown-menu__item\"\r\n                                         data-bind=\"\r\n                                            text: text,\r\n                                            click: function() {if (!disabled()) {$component.activeItem($index() + $component.maxFitItem() + 1);}},\r\n                                            css: {'hrm-dropdown-menu__item--disabled': disabled}\r\n                                         \">\r\n                                    </div>\r\n                                <!-- /ko -->\r\n                            </script>   \r\n                        <!-- /ko -->\r\n                    <!-- /ko -->\r\n                <!-- /ko -->\r\n            </div>\r\n        </div>\r\n    `\r\n});\r\n","ko.bindingHandlers.hrmTable = {\r\n    init: function (element) {\r\n        const $element = $(element);\r\n        $element.addClass('hrm-table');\r\n    }\r\n};\r\n\r\n// hrmEditableTableCell\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, error) {\r\n            this._subscriptions = [];\r\n            this._windowResizeHandler = null;\r\n            this._clickHandler = null;\r\n            this._errorSubscription = null;\r\n            this._error = error;\r\n            this._isTabletOrMobile = null;\r\n            this._errorTippyInstance = null;\r\n            this._errorTippyClickHandler = null;\r\n            this.element = element;\r\n            this.focused = ko.observable(false);\r\n            this.click = new ko.subscribable();\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            const $content = $element.find('.hrm-table__editable-cell-content');\r\n            $element.addClass('hrm-table__editable-cell');\r\n\r\n            this._clickHandler = event => {\r\n                if (event.target === $element[0] || ($content.length > 0 && event.target === $content[0])) {\r\n                    this.click.notifySubscribers();\r\n                }\r\n            };\r\n\r\n            $element.on('click', this._clickHandler);\r\n\r\n            this._subscriptions.push(this.focused.subscribe(focused => {\r\n                $element.toggleClass('hrm-table__editable-cell--focused', focused);\r\n            }));\r\n\r\n            this._windowResizeHandler = () => {\r\n                this._onWindowResize($(window).width(), $(window).height());\r\n            };\r\n\r\n            $(window).on('resize', this._windowResizeHandler);\r\n\r\n            this._errorTippyClickHandler = event => {\r\n                const $target = $(event.target);\r\n                if ($target.hasClass('hrm-table__editable-cell-error-tooltip-close-button')) {\r\n                    this._errorTippyInstance.hide();\r\n                }\r\n            };\r\n\r\n            this._errorTippyInstance = tippy(this.element, {\r\n                arrow: false,\r\n                distance: 7,\r\n                placement: 'bottom',\r\n                onCreate: instance => {\r\n                    $(instance.popperChildren.tooltip).addClass('hrm-table__editable-cell-error-tooltip');\r\n                    $(instance.popperChildren.tooltip).on('click', this._errorTippyClickHandler);\r\n                    instance.disable();\r\n                }\r\n            });\r\n\r\n            this._windowResizeHandler();\r\n\r\n            this._setError(this._error);\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            $(window).off('resize', this._windowResizeHandler);\r\n            $(this._errorTippyInstance.popperChildren.tooltip).on('click', this._errorTippyClickHandler);\r\n            this._errorTippyInstance.destroy();\r\n        }\r\n\r\n        _setError(error) {\r\n            if (this._errorSubscription !== null) {\r\n                this._errorSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(error)) {\r\n                this._errorSubscription = error.subscribe(error => {\r\n                    this._error = error;\r\n                    this._updateErrorView();\r\n                });\r\n\r\n                this._error = error();\r\n            } else {\r\n                this._error = error;\r\n            }\r\n\r\n            this._updateErrorView();\r\n        }\r\n\r\n        _updateErrorView() {\r\n            $(this.element).toggleClass('hrm-table__editable-cell--has-error', !!this._error);\r\n\r\n            if (!!this._error && this._error.message !== null) {\r\n                this._errorTippyInstance.enable();\r\n                this._errorTippyInstance.setContent(this._createErrorTooltipContent(this._error.message));\r\n\r\n                if (this._isTabletOrMobile) {\r\n                    this._errorTippyInstance.show(0);\r\n                    this._errorTippyInstance.setProps({\r\n                        interactive: true,\r\n                        appendTo: document.body,\r\n                        boundary: 'viewport',\r\n                        hideOnClick: false,\r\n                        trigger: 'manual'\r\n                    });\r\n                } else {\r\n                    this._errorTippyInstance.setProps({\r\n                        interactive: false,\r\n                        hideOnClick: true,\r\n                        trigger: 'mouseenter'\r\n                    });\r\n                }\r\n            } else {\r\n                this._errorTippyInstance.disable();\r\n            }\r\n        }\r\n\r\n        _onWindowResize(width, height) {\r\n            const isTabletOrMobile = width <= HRM_BREAKPOINTS.tabletMaxWidth;\r\n\r\n            if (this._isTabletOrMobile !== isTabletOrMobile) {\r\n                this._isTabletOrMobile = isTabletOrMobile;\r\n                this._updateErrorView();\r\n            }\r\n        }\r\n\r\n        _createErrorTooltipContent(message) {\r\n            return `\r\n                <span class=\"hrm-table__editable-cell-error-tooltip-text\">${message}</span>\r\n                <button class=\"hrm-button hrm-table__editable-cell-error-tooltip-close-button\">\r\n                </button>\r\n            `;\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmTableEditableCell = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const error = allBindings.get('hrmTableEditableCellError');\r\n            const viewModel = new ViewModel(element, error);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmTableEditableCellError'] !== allBindings.get('hrmTableEditableCellError')) {\r\n                    instance._setError(allBindings.get('hrmTableEditableCellError'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmEditableTableCellInputControl\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, owner) {\r\n            this._subscriptions = [];\r\n            this._focusHandler = null;\r\n            this._blurHandler = null;\r\n            this.element = element;\r\n            this._owner = owner;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass(['hrm-table__editable-cell-control', 'hrm-table__editable-cell-control--type_input']);\r\n\r\n            this._focusHandler = () => ko.unwrap(this._owner).focused(true);\r\n            this._blurHandler = () => ko.unwrap(this._owner).focused(false);\r\n\r\n            $element.on('focus', this._focusHandler);\r\n            $element.on('blur', this._blurHandler);\r\n\r\n            this._subscriptions.push(ko.unwrap(this._owner).click.subscribe(() => {\r\n                $element.focus();\r\n            }));\r\n\r\n            ko.unwrap(this._owner).focused($element.is(':focus'));\r\n        }\r\n\r\n        _destroy() {\r\n            const $element = $(this.element);\r\n            $element.off('focus', this._focusHandler);\r\n            $element.off('blur', this._blurHandler);\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableEditableCellInputControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const owner = allBindings.get('hrmTableEditableCellInputControlOwner');\r\n            const viewModel = new ViewModel(element, owner);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmEditableTableCellSelectControl\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, owner) {\r\n            this._subscriptions = [];\r\n            this._selectionFocusHandler = null;\r\n            this._selectionBlurHandler = null;\r\n            this._openingHandler = null;\r\n            this._closeHandler = null;\r\n            this.element = element;\r\n            this._owner = owner;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            const select2Instance = $element.data('select2');\r\n\r\n            select2Instance.$container.addClass(['hrm-table__editable-cell-control', 'hrm-table__editable-cell-control--type_select']);\r\n            select2Instance.$dropdown.children().first().addClass(['hrm-table__editable-cell-dropdown']);\r\n\r\n            const selectionFocused = ko.observable(select2Instance.$selection.is(':focus'));\r\n            const dropdownOpened = ko.observable(false);\r\n\r\n            this._subscriptions.push(\r\n                ko.computed(() => selectionFocused() || dropdownOpened())\r\n                    .subscribe(value => ko.unwrap(this._owner).focused(value))\r\n            );\r\n\r\n            this._selectionFocusHandler = () => selectionFocused(true);\r\n            this._selectionBlurHandler = () => selectionFocused(false);\r\n            this._openingHandler = () => dropdownOpened(true);\r\n            this._closeHandler = () => dropdownOpened(false);\r\n\r\n            select2Instance.$selection.on('focus', this._selectionFocusHandler);\r\n            select2Instance.$selection.on('blur', this._selectionBlurHandler);\r\n            $element.on('select2:opening', this._openingHandler);\r\n            $element.on('select2:close', this._closeHandler);\r\n\r\n            selectionFocused(select2Instance.$selection.is(':focus'));\r\n\r\n            this._subscriptions.push(ko.unwrap(this._owner).click.subscribe(() => {\r\n                select2Instance.open();\r\n            }));\r\n        }\r\n\r\n        _destroy() {\r\n            const $element = $(this.element);\r\n            const select2Instance = $element.data('select2');\r\n            select2Instance.$selection.off('focus', this._selectionFocusHandler);\r\n            select2Instance.$selection.off('blur', this._selectionBlurHandler);\r\n            $element.off('select2:opening', this._openingHandler);\r\n            $element.off('select2:close', this._closeHandler);\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableEditableCellSelectControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const owner = allBindings.get('hrmTableEditableCellSelectControlOwner');\r\n            const viewModel = new ViewModel(element, owner);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmTableStickySectionContainer\r\n(() => {\r\n    const StickyEvents = window['stickyEvents'];\r\n\r\n    class ViewModel {\r\n        constructor(element, sectionWrappers) {\r\n            this._subscriptions = [];\r\n            this._sectionWrappers = sectionWrappers;\r\n            this._sectionWrapperElementStuckHandler = null;\r\n            this._sectionWrapperElementUnstuckHandler = null;\r\n            this.element = element;\r\n            this._stickyEvents = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass('hrm-table__sticky-section-container');\r\n\r\n            const scrollableContainer = $('.hrm-scaffold__body').length > 0 ? $('.hrm-scaffold__body')[0] : $('body')[0];\r\n\r\n            this._stickyEvents = new StickyEvents({\r\n                container: scrollableContainer\r\n            });\r\n\r\n            this._stickyEvents.addStickies(this._sectionWrappers());\r\n\r\n            this._sectionWrapperElementStuckHandler = event => {\r\n                const wrapper = this._sectionWrappers().find(wrapper => wrapper.element === event.target);\r\n                wrapper.stuck(true);\r\n            };\r\n\r\n            this._sectionWrapperElementUnstuckHandler = event => {\r\n                const wrapper = this._sectionWrappers().find(wrapper => wrapper.element === event.target);\r\n                wrapper.stuck(false);\r\n            };\r\n\r\n            this._sectionWrappers().forEach(wrapper => {\r\n                wrapper.element.addEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                wrapper.element.addEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n            });\r\n\r\n            let lastSectionWrappers = [...this._sectionWrappers()];\r\n\r\n            this._subscriptions.push(this._sectionWrappers.subscribe(addedWrapper => {\r\n                _.difference(lastSectionWrappers, addedWrapper).forEach(removedElement => {\r\n                    removedElement.element.removeEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                    removedElement.element.removeEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n                });\r\n\r\n                _.difference(addedWrapper, lastSectionWrappers).forEach(addedWrapper => {\r\n                    addedWrapper.element.addEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                    addedWrapper.element.addEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n\r\n                    this._stickyEvents.addSticky(addedWrapper.element);\r\n                    $(addedWrapper.element).addClass('sticky-events');\r\n                });\r\n\r\n                lastSectionWrappers = [...addedWrapper];\r\n            }))\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._sectionWrappers().forEach(wrapper => {\r\n                wrapper.element.removeEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                wrapper.element.removeEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n            });\r\n\r\n            this._stickyEvents.disableEvents();\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableStickySectionContainer = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const sectionWrappers = allBindings.get('hrmTableStickySectionContainerSectionWrappers');\r\n            const viewModel = new ViewModel(element, sectionWrappers);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmTableStickySectionWrapper\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, sectionWrappers) {\r\n            this._subscriptions = [];\r\n            this.element = element;\r\n            this.stuck = ko.observable(false);\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass('hrm-table__sticky-section-wrapper');\r\n            $element.toggleClass('hrm-table__sticky-section-wrapper--stuck', this.stuck());\r\n\r\n            this._subscriptions.push(this.stuck.subscribe(stuck => {\r\n                $element.toggleClass('hrm-table__sticky-section-wrapper--stuck', stuck);\r\n            }));\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableStickySectionWrapper = {\r\n        init: function (element, valueAccessor) {\r\n            const viewModel = new ViewModel(element);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n","// hrmTooltip\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, text, mode = 'basic') {\r\n            this._subscriptions = [];\r\n            this._textSubscription = null;\r\n            this._clickHandler = null;\r\n            this._text = null;\r\n            this._mode = mode;\r\n            this.element = element;\r\n            this._tippyInstance = null;\r\n\r\n            this._init(text);\r\n        }\r\n\r\n        _init(text) {\r\n            if (this._mode === 'large') {\r\n                this._clickHandler = () => {\r\n                    this._tippyInstance.show();\r\n                };\r\n\r\n                $(this.element).on('click', this._clickHandler);\r\n\r\n                this._tooltipClickHandler = event => {\r\n                    const $target = $(event.target);\r\n                    if ($target.hasClass('hrm-tooltip__close-button')) {\r\n                        this._tippyInstance.hide();\r\n                    }\r\n                };\r\n            }\r\n\r\n            this._tippyInstance = tippy(this.element, {\r\n                arrow: false,\r\n                distance: 7,\r\n                placement: 'bottom',\r\n                interactive: true,\r\n                appendTo: document.body,\r\n                boundary: 'viewport',\r\n                hideOnClick: this._mode === 'basic',\r\n                trigger: this._mode === 'basic' ? 'mouseenter click' : 'manual',\r\n                onCreate: instance => {\r\n                    $(instance.popperChildren.tooltip).addClass('hrm-tooltip');\r\n                    $(instance.popperChildren.tooltip).addClass(this._mode === 'basic' ? 'hrm-tooltip--mode_basic' : 'hrm-tooltip--mode_large');\r\n\r\n                    if (this._mode === 'large') {\r\n                        $(instance.popperChildren.tooltip).on('click', this._tooltipClickHandler);\r\n                    }\r\n                }\r\n            });\r\n\r\n            this._setText(text);\r\n        }\r\n\r\n        _setText(text) {\r\n            if (this._textSubscription !== null) {\r\n                this._textSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(text)) {\r\n                this._textSubscription = text.subscribe(text => {\r\n                    this._text = text;\r\n                    this._update();\r\n                });\r\n\r\n                this._text = text();\r\n            } else {\r\n                this._text = text;\r\n            }\r\n\r\n            this._update();\r\n        }\r\n\r\n        _update() {\r\n            this._tippyInstance.setContent(this._createContent(this._text, this._mode));\r\n        }\r\n\r\n        _createContent(text, mode) {\r\n            let result = `<div class=\"hrm-tooltip__text\">${text}</div>`;\r\n\r\n            if (mode === 'large') {\r\n                result += '<button class=\"hrm-button hrm-tooltip__close-button\">Ок</button>';\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n\r\n            if (this._mode === 'large') {\r\n                $(this.element).off('click', this._clickHandler);\r\n            }\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmTooltip = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const text = allBindings.get('hrmTooltipText');\r\n            const mode = allBindings.get('hrmTooltipMode');\r\n            const viewModel = new ViewModel(element, text, mode);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmTooltipText'] !== allBindings.get('hrmTooltipText')) {\r\n                    instance._setText(allBindings.get('hrmTooltipText'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n"]}