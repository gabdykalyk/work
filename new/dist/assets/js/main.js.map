{"version":3,"sources":["base/main.js","base/utils.js","components/footer/footer.js","components/form-field/form-field.js","components/scrollable/scrollable.js","components/select/select.js","components/table/table.js"],"names":["HRM_BREAKPOINTS","tableMaxWidth","mobileMaxWidth","ko","validation","init","insertMessages","bindingHandlers","hrmSlide","element","valueAccessor","allBindings","value","unwrap","get","$","slideDown","slideUp","data","utils","domNodeDisposal","addDisposeCallback","removeData","update","duration","hrmFade","fadeIn","fadeOut","inDelay","outDelay","delay","hrmElement","isObservableArray","push","remove","hrmMask","pattern","inputmask","jitMasking","hrmSplitComponentTemplateNodes","nodes","result","main","slots","filter","each","index","slotElement","$slot","attr","contents","node","nodeType","tagName","hrmSlideBeforeRemoveFactory","hrmSlideAfterAddFactory","hide","rules","validator","val","moment","isValid","message","registerExtenders","components","register","viewModel","createViewModel","params","componentInfo","$element","addClass","template","hrmFormFieldNextId","noLabel","ViewModel","subscriptions","templateNodes","controlWrapperElement","observable","controlId","hasError","undefined","focused","hasValue","afterRender","toggleClass","subscribe","isObservable","exportAs","prototype","dispose","forEach","s","hrmFormFieldInputControl","formField","$wrapper","wrapperClickHandler","focus","focusHandler","blurHandler","valueHandler","event","target","on","is","off","hrmFormFieldSelectControl","select2Instance","$container","$dropdown","children","first","wrapperMousedownHandler","has","length","isOpen","setTimeout","$selection","open","hrmFormFieldLabel","hrmScrollable","overlayScrollbars","className","hrmSelect","wrapperClass","options","minimumResultsForSearch","Infinity","language","width","dropdownAutoWidth","dropdownCssClass","placeholder","unwrapObservable","Select","fn","select2","amd","require","originalSelectRenderFn","render","call","arguments","split","$results","unbind","$dropdownResultsContainer","parent","callbacks","onUpdated","dropdown","_positionDropdown","openingHandler","changeHandler","v","trigger","hrmTable","error","_subscriptions","_windowResizeHandler","_errorSubscription","_error","_isTabletOrMobile","_errorTippyInstance","_errorTippyClickHandler","_init","_onWindowResize","window","height","$target","hasClass","tippy","arrow","distance","placement","onCreate","instance","popperChildren","tooltip","disable","_setError","destroy","_updateErrorView","enable","setContent","_createErrorTooltipContent","show","setProps","interactive","appendTo","document","body","boundary","hideOnClick","isTableOrMobile","instances","Map","previousBindingsList","hrmTableEditableCell","set","_destroy","previousBindings","owner","_focusHandler","_blurHandler","_owner","hrmTableEditableCellInputControl","hrmTableEditableCellSelectControl"],"mappings":"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","file":"main.js","sourcesContent":["const HRM_BREAKPOINTS = {\r\n    tableMaxWidth: 1219,\r\n    mobileMaxWidth: 767\r\n};\r\n\r\nko.validation.init({insertMessages: false});","ko.bindingHandlers.hrmSlide = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmSlideValue'));\r\n\r\n        if (value) {\r\n            $(element).slideDown(0);\r\n        } else {\r\n            $(element).slideUp(0);\r\n        }\r\n\r\n        $(element).data('hrmSlide', value);\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $(element).removeData('hrmSlide');\r\n        });\r\n    },\r\n    update: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmSlideValue'));\r\n        const duration = allBindings.get('hrmSlideDuration') || 200;\r\n\r\n        if ($(element).data('hrmSlide') !== value) {\r\n            if (value) {\r\n                $(element).slideDown(duration);\r\n            } else {\r\n                $(element).slideUp(duration);\r\n            }\r\n\r\n            $(element).data('hrmSlide', value);\r\n        }\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmFade = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmFadeValue'));\r\n\r\n        if (value) {\r\n            $(element).fadeIn(0);\r\n        } else {\r\n            $(element).fadeOut(0);\r\n        }\r\n\r\n        $(element).data('hrmFade', value);\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $(element).removeData('hrmFade');\r\n        });\r\n    },\r\n    update: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmFadeValue'));\r\n        const duration = allBindings.get('hrmFadeDuration') || 200;\r\n        const inDelay = allBindings.get('hrmFadeInDelay') || 0;\r\n        const outDelay = allBindings.get('hrmFadeOutDelay') || 0;\r\n\r\n        if ($(element).data('hrmFade') !== value) {\r\n            if (value) {\r\n                $(element).delay(inDelay).fadeIn(duration);\r\n            } else {\r\n                $(element).delay(outDelay).fadeOut(duration);\r\n            }\r\n\r\n            $(element).data('hrmFade', value);\r\n        }\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmElement = {\r\n    init: function (element, valueAccessor) {\r\n        if (ko.isObservableArray(valueAccessor())) {\r\n            valueAccessor().push(element);\r\n        } else {\r\n            valueAccessor()(element);\r\n        }\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            if (ko.isObservableArray(valueAccessor())) {\r\n                valueAccessor().remove(element);\r\n            } else {\r\n                valueAccessor()(null);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmMask = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const pattern = allBindings()['hrmMaskPattern'];\r\n\r\n        $(element).inputmask(pattern, {\r\n            jitMasking: true\r\n        });\r\n    }\r\n};\r\n\r\nfunction hrmSplitComponentTemplateNodes (nodes) {\r\n    const result = {\r\n        main: [],\r\n        slots: {}\r\n    };\r\n\r\n    $(nodes).filter('hrm-slot').each((index, slotElement) => {\r\n        const $slot = $(slotElement);\r\n        result.slots[$slot.attr('name')] = $slot.contents();\r\n    });\r\n\r\n    result.main = nodes.filter(node => {\r\n        return !(node.nodeType === 1 && node.tagName === 'HRM-SLOT');\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\nfunction hrmSlideBeforeRemoveFactory (duration = 200) {\r\n    return element => $(element).slideUp(duration, () => $(element).remove());\r\n}\r\n\r\nfunction hrmSlideAfterAddFactory (duration = 200) {\r\n    return element => $(element).hide().slideDown(duration);\r\n}\r\n\r\nko.validation.rules['hrmTime'] = {\r\n    validator: function (val) {\r\n        return moment(val, 'HH:mm').isValid();\r\n    },\r\n    message: 'Неверный формат времени'\r\n};\r\n\r\nko.validation.registerExtenders();\r\n","ko.components.register('hrm-footer', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-footer']);\r\n\r\n            return new (function () {});\r\n        }\r\n    },\r\n    template: `\r\n        <div class=\"hrm-footer__branding\">\r\n            <div class=\"hrm-footer__logo\"></div>\r\n            <span class=\"hrm-footer__copyright\">© Lookin, 2020</span>\r\n        </div>\r\n        <a class=\"hrm-footer__support-link\" href=\"#\">Техническая поддержка</a>\r\n    `\r\n});","let hrmFormFieldNextId = 0;\r\n\r\nko.components.register('hrm-form-field', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-form-field']);\r\n\r\n            if ('noLabel' in params && params.noLabel) {\r\n                $element.addClass(['hrm-form-field--no-label']);\r\n            }\r\n\r\n            const ViewModel = function () {\r\n                this.subscriptions = [];\r\n                this.templateNodes = hrmSplitComponentTemplateNodes(componentInfo.templateNodes);\r\n                this.element = componentInfo.element;\r\n                this.controlWrapperElement = ko.observable(null);\r\n                this.controlId = 'hrm-form-field-control-' + hrmFormFieldNextId++;\r\n\r\n                this.hasError = (params !== undefined && 'hasError' in params) ? params.hasError : false;\r\n                this.focused = ko.observable(false);\r\n                this.hasValue = ko.observable(false);\r\n\r\n                this.afterRender = function () {\r\n                    $element.toggleClass('hrm-form-field--focused', this.focused());\r\n                    this.subscriptions.push(this.focused.subscribe(focused => {\r\n                        $element.toggleClass('hrm-form-field--focused', focused);\r\n                    }));\r\n\r\n                    $element.toggleClass('hrm-form-field--has-value', this.hasValue());\r\n                    this.subscriptions.push(this.hasValue.subscribe(hasValue => {\r\n                        $element.toggleClass('hrm-form-field--has-value', hasValue);\r\n                    }));\r\n\r\n                    if (!ko.isObservable(this.hasError)) {\r\n                        $element.toggleClass('hrm-form-field--has-error', this.hasError);\r\n                    } else {\r\n                        $element.toggleClass('hrm-form-field--has-error', this.hasError());\r\n                        this.subscriptions.push(this.hasError.subscribe(hasError => {\r\n                            $element.toggleClass('hrm-form-field--has-error', hasError);\r\n                        }));\r\n                    }\r\n                };\r\n\r\n                if (params !== undefined && 'exportAs' in params) {\r\n                    if (ko.isObservableArray(params.exportAs)) {\r\n                        params.exportAs.push(this);\r\n                    } else {\r\n                        params.exportAs(this);\r\n                    }\r\n                }\r\n            };\r\n\r\n            ViewModel.prototype.dispose = function() {\r\n                this.subscriptions.forEach(s => s.dispose());\r\n\r\n                if (params !== undefined && 'exportAs' in params) {\r\n                    if (ko.isObservableArray(params.exportAs)) {\r\n                        params.exportAs.remove(this);\r\n                    } else {\r\n                        params.exportAs(null);\r\n                    }\r\n                }\r\n            };\r\n\r\n            return new ViewModel();\r\n        }\r\n    },\r\n    template: `\r\n        <!-- ko template: {afterRender: function () {afterRender();}} -->\r\n            <!-- ko template: {nodes: templateNodes.slots['label']} --><!-- /ko -->\r\n            <div class=\"hrm-form-field__control-wrapper\" data-bind=\"hrmElement: controlWrapperElement\">\r\n                <!-- ko template: {nodes: templateNodes.main} --><!-- /ko -->\r\n            </div>\r\n            <!-- ko template: {nodes: templateNodes.slots['error']} --><!-- /ko -->\r\n        <!-- /ko -->\r\n    `\r\n});\r\n\r\nko.components.register('hrm-form-field-error', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-form-field__error']);\r\n\r\n            return new (function () {\r\n                this.templateNodes = hrmSplitComponentTemplateNodes(componentInfo.templateNodes);\r\n            });\r\n        }\r\n    },\r\n    template: `\r\n        <span class=\"hrm-form-field__error-text\">\r\n            <!-- ko template: {nodes: templateNodes.main} --><!-- /ko -->\r\n        </span>\r\n    `\r\n});\r\n\r\nko.bindingHandlers.hrmFormFieldInputControl = {\r\n    init: function(element, valueAccessor, allBindings) {\r\n        const formField = allBindings.get('hrmFormFieldInputControlOwner');\r\n        const $wrapper = $(formField().controlWrapperElement());\r\n\r\n        const $element = $(element);\r\n        $element.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_input']);\r\n        $element.attr('id', formField().controlId);\r\n\r\n        const wrapperClickHandler = () => $element.focus();\r\n        const focusHandler = () => formField().focused(true);\r\n        const blurHandler = () => formField().focused(false);\r\n        const valueHandler = event => {\r\n            const value = event.target.value;\r\n            formField().hasValue(value !== '');\r\n        };\r\n\r\n        $wrapper.on('click', wrapperClickHandler);\r\n        $element.on('focus', focusHandler);\r\n        $element.on('blur', blurHandler);\r\n        $element.on('input change', valueHandler);\r\n\r\n        formField().focused($element.is(':focus'));\r\n        formField().hasValue($element.val() !== '');\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $wrapper.off('click', wrapperClickHandler);\r\n            $element.off('focus', focusHandler);\r\n            $element.off('blur', blurHandler);\r\n            $element.off('input change', valueHandler);\r\n        });\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmFormFieldSelectControl = {\r\n    init: function(element, valueAccessor, allBindings) {\r\n        const formField = allBindings.get('hrmFormFieldSelectControlOwner');\r\n        const $wrapper = $(formField().controlWrapperElement());\r\n\r\n        const $element = $(element);\r\n        const select2Instance = $element.data('select2');\r\n\r\n        $element.attr('id', formField().controlId);\r\n\r\n        select2Instance.$container.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_select']);\r\n        select2Instance.$dropdown.children().first().addClass(['hrm-form-field__dropdown']);\r\n\r\n        const wrapperMousedownHandler = event => {\r\n            if (event.target !== element &&\r\n                select2Instance.$container.get()[0] !== event.target &&\r\n                select2Instance.$container.has(event.target).length === 0) {\r\n                const isOpen = select2Instance.isOpen();\r\n\r\n                setTimeout(() => {\r\n                    select2Instance.$selection.focus();\r\n\r\n                    if (!isOpen) {\r\n                        select2Instance.open();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        const focusHandler = () => formField().focused(true);\r\n        const blurHandler = () => formField().focused(false);\r\n        const valueHandler = event => {\r\n            const value = event.target.value;\r\n            formField().hasValue(value !== '');\r\n        };\r\n\r\n        select2Instance.$selection.on('focus', focusHandler);\r\n        select2Instance.$selection.on('blur', blurHandler);\r\n        $wrapper.on('mousedown', wrapperMousedownHandler);\r\n        $element.on('input change', valueHandler);\r\n\r\n        formField().focused(select2Instance.$selection.is(':focus'));\r\n        formField().hasValue($element.val() !== '');\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $wrapper.off('mousedown', wrapperMousedownHandler);\r\n            select2Instance.$selection.off('focus', focusHandler);\r\n            select2Instance.$selection.off('blur', blurHandler);\r\n            $(element).off('input change', valueHandler);\r\n        });\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmFormFieldLabel = {\r\n    init: function(element, valueAccessor, allBindings) {\r\n        const formField = allBindings.get('hrmFormFieldLabelOwner');\r\n\r\n        const $element = $(element);\r\n        $element.addClass('hrm-form-field__label');\r\n        $element.attr('for', formField().controlId);\r\n    }\r\n};","ko.bindingHandlers.hrmScrollable = {\r\n    init: function (element) {\r\n        const $element = $(element);\r\n        $element.addClass('hrm-scrollable__content');\r\n        $element.overlayScrollbars({\r\n            className: 'hrm-scrollable'\r\n        });\r\n    }\r\n};","ko.bindingHandlers.hrmSelect = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const $element = $(element);\r\n        const value = allBindings.get('value');\r\n        const wrapperClass = allBindings.get('hrmSelectClass');\r\n\r\n        const options = {\r\n            minimumResultsForSearch: Infinity,\r\n            language: 'ru',\r\n            width: '100%',\r\n            dropdownAutoWidth: true,\r\n            dropdownCssClass: 'hrm-select__dropdown',\r\n            placeholder: ' '\r\n        };\r\n\r\n        if (value) {\r\n            $element.val(ko.utils.unwrapObservable(value));\r\n        }\r\n\r\n        const Select = $.fn.select2.amd.require('jquery.select2');\r\n\r\n        const originalSelectRenderFn = Select.prototype.render;\r\n\r\n        Select.prototype.render = function () {\r\n            const $container = originalSelectRenderFn.call(this, ...arguments);\r\n            $container.addClass('hrm-select');\r\n\r\n            if (wrapperClass !== undefined) {\r\n                $container.addClass(wrapperClass.split(' '));\r\n            }\r\n\r\n            return $container;\r\n        };\r\n\r\n        $element.select2(options);\r\n\r\n        Select.prototype.render = originalSelectRenderFn;\r\n\r\n        const select2Instance = $element.data('select2');\r\n\r\n        select2Instance.$results.unbind('mousewheel');\r\n\r\n        const $dropdownResultsContainer = $element.data('select2').$results.parent();\r\n        $dropdownResultsContainer.overlayScrollbars({\r\n            callbacks: {\r\n                onUpdated: () => {\r\n                    select2Instance.dropdown._positionDropdown();\r\n                }\r\n            }\r\n        });\r\n\r\n        const openingHandler = () => {\r\n            $dropdownResultsContainer.overlayScrollbars().update(true);\r\n        };\r\n\r\n        $element.on('select2:opening', openingHandler);\r\n\r\n        const changeHandler = () => {\r\n            if (value !== undefined && ko.isObservable(value)) {\r\n                const value = $element.val();\r\n                value(value);\r\n            }\r\n        };\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $element.off('change', changeHandler);\r\n            $element.off('select2:opening', openingHandler);\r\n        });\r\n    },\r\n    update: function (element, valueAccessor, allBindings) {\r\n        const $element = $(element);\r\n        const value = allBindings.get('value');\r\n\r\n        if (value !== undefined && ko.isObservable(value)) {\r\n            value.subscribe(v => {\r\n                $element.val(v).trigger('change');\r\n            });\r\n        }\r\n    }\r\n};","ko.bindingHandlers.hrmTable = {\r\n    init: function (element) {\r\n        const $element = $(element);\r\n        $element.addClass('hrm-table');\r\n    }\r\n};\r\n\r\n// hrmEditableTableCell\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, error) {\r\n            this._subscriptions = [];\r\n            this._windowResizeHandler = null;\r\n            this._errorSubscription = null;\r\n            this._error = error;\r\n            this._isTabletOrMobile = null;\r\n            this.element = element;\r\n            this.focused = ko.observable(false);\r\n            this._errorTippyInstance = null;\r\n            this._errorTippyClickHandler = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass('hrm-table__editable-cell');\r\n\r\n            this._subscriptions.push(this.focused.subscribe(focused => {\r\n                $element.toggleClass('hrm-table__editable-cell--focused', focused);\r\n            }));\r\n\r\n            this._windowResizeHandler = () => {\r\n                this._onWindowResize($(window).width(), $(window).height());\r\n            };\r\n\r\n            $(window).on('resize', this._windowResizeHandler);\r\n\r\n            this._errorTippyClickHandler = event => {\r\n                const $target = $(event.target);\r\n                if ($target.hasClass('hrm-table__editable-cell-error-tooltip-close-button')) {\r\n                    this._errorTippyInstance.hide();\r\n                }\r\n            };\r\n\r\n            this._errorTippyInstance = tippy(this.element, {\r\n                arrow: false,\r\n                distance: 7,\r\n                placement: 'bottom',\r\n                onCreate: instance => {\r\n                    $(instance.popperChildren.tooltip).addClass('hrm-table__editable-cell-error-tooltip');\r\n                    $(instance.popperChildren.tooltip).on('click', this._errorTippyClickHandler);\r\n                    instance.disable();\r\n                }\r\n            });\r\n\r\n            this._windowResizeHandler();\r\n\r\n            this._setError(this._error);\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            $(window).off('resize', this._windowResizeHandler);\r\n            $(this._errorTippyInstance.popperChildren.tooltip).on('click', this._errorTippyClickHandler);\r\n            this._errorTippyInstance.destroy();\r\n        }\r\n\r\n        _setError(error) {\r\n            if (this._errorSubscription !== null) {\r\n                this._errorSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(error)) {\r\n                this._errorSubscription = error.subscribe(error => {\r\n                    this._error = error;\r\n                    this._updateErrorView();\r\n                });\r\n\r\n                this._error = error();\r\n            } else {\r\n                this._error = error;\r\n            }\r\n\r\n            this._updateErrorView();\r\n        }\r\n\r\n        _updateErrorView() {\r\n            $(this.element).toggleClass('hrm-table__editable-cell--has-error', !!this._error);\r\n\r\n            if (!!this._error && this._error.message !== null) {\r\n                this._errorTippyInstance.enable();\r\n                this._errorTippyInstance.setContent(this._createErrorTooltipContent(this._error.message));\r\n\r\n                if (this._isTabletOrMobile) {\r\n                    this._errorTippyInstance.show(0);\r\n                    this._errorTippyInstance.setProps({\r\n                        interactive: true,\r\n                        appendTo: document.body,\r\n                        boundary: 'viewport',\r\n                        hideOnClick: false,\r\n                        trigger: 'manual'\r\n                    });\r\n                } else {\r\n                    this._errorTippyInstance.setProps({\r\n                        interactive: false,\r\n                        hideOnClick: true,\r\n                        trigger: 'mouseenter'\r\n                    });\r\n                }\r\n            } else {\r\n                this._errorTippyInstance.disable();\r\n            }\r\n        }\r\n\r\n        _onWindowResize(width, height) {\r\n            const isTableOrMobile = width <= HRM_BREAKPOINTS.tableMaxWidth;\r\n\r\n            if (this._isTabletOrMobile !== isTableOrMobile) {\r\n                this._isTabletOrMobile = isTableOrMobile;\r\n                this._updateErrorView();\r\n            }\r\n        }\r\n\r\n        _createErrorTooltipContent(message) {\r\n            return `\r\n                <span class=\"hrm-table__editable-cell-error-tooltip-text\">${message}</span>\r\n                <button class=\"hrm-button hrm-table__editable-cell-error-tooltip-close-button\">\r\n                </button>\r\n            `;\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmTableEditableCell = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const error = allBindings.get('hrmTableEditableCellError');\r\n            const viewModel = new ViewModel(element, error);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmTableEditableCellError'] !== allBindings.get('hrmTableEditableCellError')) {\r\n                    instance._setError(allBindings.get('hrmTableEditableCellError'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmEditableTableCellInputControl\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, owner) {\r\n            this._focusHandler = null;\r\n            this._blurHandler = null;\r\n            this.element = element;\r\n            this._owner = owner;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass(['hrm-table__editable-cell-control', 'hrm-table__editable-cell-control--type_input']);\r\n\r\n            this._focusHandler = () => ko.unwrap(this._owner).focused(true);\r\n            this._blurHandler = () => ko.unwrap(this._owner).focused(false);\r\n\r\n            $element.on('focus', this._focusHandler);\r\n            $element.on('blur', this._blurHandler);\r\n\r\n            ko.unwrap(this._owner).focused($element.is(':focus'));\r\n        }\r\n\r\n        _destroy() {\r\n            const $element = $(this.element);\r\n            $element.off('focus', this._focusHandler);\r\n            $element.off('blur', this._blurHandler);\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableEditableCellInputControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const owner = allBindings.get('hrmTableEditableCellInputControlOwner');\r\n            const viewModel = new ViewModel(element, owner);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmEditableTableCellSelectControl\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, owner) {\r\n            this._focusHandler = null;\r\n            this._blurHandler = null;\r\n            this.element = element;\r\n            this._owner = owner;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            const select2Instance = $element.data('select2');\r\n\r\n            select2Instance.$container.addClass(['hrm-table__editable-cell-control', 'hrm-table__editable-cell-control--type_select']);\r\n            select2Instance.$dropdown.children().first().addClass(['hrm-table__editable-cell-dropdown']);\r\n\r\n            this._focusHandler = () => ko.unwrap(this._owner).focused(true);\r\n            this._blurHandler = () => ko.unwrap(this._owner).focused(false);\r\n\r\n            $element.on('focus', this._focusHandler);\r\n            $element.on('blur', this._blurHandler);\r\n\r\n            ko.unwrap(this._owner).focused($element.is(':focus'));\r\n        }\r\n\r\n        _destroy() {\r\n            const $element = $(this.element);\r\n            $element.off('focus', this._focusHandler);\r\n            $element.off('blur', this._blurHandler);\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableEditableCellSelectControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const owner = allBindings.get('hrmTableEditableCellSelectControlOwner');\r\n            const viewModel = new ViewModel(element, owner);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n"]}