{"version":3,"sources":["base/main.js","base/utils.js","components/basic-footer/basic-footer.js","components/basic-sidebar/basic-sidebar.js","components/checkbox/checkbox.js","components/datepicker/datepicker.js","components/dishes-select/dishes-select.js","components/dropdown-menu/dropdown-menu.js","components/form-field/form-field-complex-control.js","components/form-field/form-field-datepicker-control.js","components/form-field/form-field-input-control.js","components/form-field/form-field-select-control.js","components/form-field/form-field.js","components/main-sidebar/main-sidebar.js","components/modal/modal-container.js","components/scrollable/scrollable.js","components/scrollable-wrapper/scrollable-wrapper.js","components/search-form-field/search-form-field.js","components/select/select.js","components/switch/switch.js","components/tab-group/tab-group.js","components/table/table.js","components/tooltip/tooltip.js","pages/filial-report-page/datepicker.js","pages/filial-report-page/filial-report-page.js"],"names":["HRM_BREAKPOINTS","tabletMaxWidth","mobileMaxWidth","ko","validation","init","insertMessages","moment","locale","HRM_SIDEBAR_COLLAPSED_LOCAL_STORAGE_KEY","$","document","on","event","length","addClass","last","focus","bindingHandlers","hrmSlide","element","valueAccessor","allBindings","value","unwrap","get","slideDown","slideUp","data","utils","domNodeDisposal","addDisposeCallback","removeData","update","duration","hrmFade","fadeIn","fadeOut","inDelay","outDelay","delay","hrmElement","isObservableArray","has","splice","push","remove","hrmMask","pattern","options","undefined","alias","inputmask","jitMasking","showMaskOnFocus","showMaskOnHover","hrmTimeAutocompleter","val","regExpExecuteResult","exec","trigger","hrmSplitComponentTemplateNodes","nodes","result","main","slots","filter","each","index","slotElement","$slot","attr","contents","node","nodeType","tagName","hrmSlideBeforeRemoveFactory","hrmSlideAfterAddFactory","hide","hrmFadeBeforeRemoveFactory","hrmFadeAfterAddFactory","rules","validator","params","isValid","message","registerExtenders","hrmTemplateIf","condition","hrmExtractComponentParam","name","defaultValue","isObservable","observable","hrmLog","viewModel","bindingContext","console","group","info","groupEnd","hrmAutoResize","autoResizeInstance","autoResize","height","hrmColoredSign","parseInt","toggleClass","stopEvents","e","stopPropagation","components","register","createViewModel","componentInfo","$element","template","ViewModel","_subscriptions","checked","disabled","subscribe","v","checkboxGroup","owner","prototype","dispose","forEach","s","hrmCheckboxGroupNextId","id","exportAs","hrmCheckboxGroupLabel","HrmDatepickerViewModel","constructor","config","_valueSubscription","_value","_daterangepicker","_applyHandler","_init","singleDatePicker","showDropdown","autoUpdateInput","autoApply","format","monthNames","daysOfWeek","firstDay","daterangepicker","newValue","startDate","container","_setValue","elementChanged","_destroy","off","instances","Map","previousBindingsList","hrmDatepicker","set","instance","previousBindings","_toConsumableArray","arr","Array","isArray","i","arr2","from","window","DishesSelect","loaded","loading","loadPromise","dishes","load","Promise","res","setTimeout","noCategory","render","html","createElement","rendered","resolve","then","renderTemplate","categories","matcher","term","toLowerCase","categoryId","dataset","category","find","c","categoryName","dishText","text","match","includes","slice","some","d","templateSelection","state","$result","templateResult","onChange","target","selectedCategories","selectedOptions","option","optionValue","isCategory","indexOf","concat","hrmLoadDishes","applyBindingsToDescendants","selectClone","cloneNode","append","children","currentVal","newVal","toString","controlsDescendantBindings","HrmDropdownMenuViewModel","context","placement","_template","_placement","_context","_tippyInstance","_tooltipClickHandler","hidingFlag","$target","is","parents","tippy","content","_createContent","getElementById","innerHTML","arrow","distance","interactive","appendTo","body","boundary","hideOnClick","onCreate","popperChildren","tooltip","onShow","onMount","overlayScrollbars","popperInstance","onHide","onHidden","setContent","destroy","hrmDropdownMenu","_","nextId","HrmFormFieldComplexControlViewModel","_$element","_disabled","_disabledSubscription","focused","shouldLabelFloat","errorState","_setDisabled","onBasisClick","onBasisMousedown","_updateDisabled","hrmFormFieldComplexControl","HrmFormFieldDatepickerControlViewModel","textInput","errorStateMatcher","_focusChangeHandler","_valueChangeHandler","_mutationObserver","formControl","pureComputed","_errorStateMatcher","_textInput","_control","_daterangepickerInstance","_hasFocus","_isDisabled","hasValue","_hasValue","hasPlaceholder","_hasPlaceholder","MutationObserver","mutations","mutation","type","observe","attributes","control","disconnect","Error","_setTextInput","_setErrorStateMatcher","hrmFormFieldDatepickerControl","HrmFormFieldInputControlViewModel","onBasicReset","hrmFormFieldInputControl","HrmFormFieldSelectControlViewModel","_selectionFocusHandler","_selectionBlurHandler","_searchFocusHandler","_searchBlurHandler","_openingHandler","_closeHandler","_searchUpdateHandler","_selectedOptions","_isMultiple","_select2Instance","$container","$dropdown","first","prop","selectionFocused","$selection","searchFocused","selection","$search","dropdownOpened","isOpen","open","_setSelectedOptions","placeholder","hrmFormFieldSelectControl","HrmFormFieldViewModel","label","fixedLabel","_label","_fixedLabel","bindingEvent","removeClass","hrmFormField","HrmFormFieldLabelViewModel","setFor","hrmFormFieldLabel","HrmFormFieldBasisViewModel","withReset","_clickHandler","_mousedownHandler","_changeHandler","_withReset","_reset","click","hrmFormFieldBasis","templateNodes","_isCollapsed","_isUserSelected","_isNotificationsSelected","_selectedMenuItemIndex","_selectedDrawerContentName","_$collapseToggleElement","_$user","_$notifications","_$menuItems","_$drawer","_$backdrop","_drawerContents","toArray","map","viewportSize","width","clearSelection","selectUser","selectNotifications","menuItem","selectMenuItem","collapsed","_openDrawer","eq","_closeDrawer","contentName","$drawerContent","hrmModalContainerModalWrapper","extend","closeOnBackdropClick","escapePress","close","$modal","modal","backdrop","keyboard","modalClass","keyup","keyCode","call","Function","innerBindingContext","startPossiblyAsyncContentBinding","applyBindings","opens","initializing","onInit","HrmScrollableViewModel","_overlayScrollbarsInstance","_overlayScrollbarsOptions","className","_update","hrmScrollable","HrmScrollableWrapperViewModel","_$contentElement","_contentScrollHandler","_windowResizeHandler","_childData","contextFor","$data","_contentElement","_scrolledHorizontalStart","_scrolledHorizontalEnd","_scrolledVerticalStart","_scrolledVerticalEnd","top","right","bottom","left","check","scrollbars","clickScrolling","nativeScrollbarsOverlaid","initialize","callbacks","onScroll","bind","scrollLeft","scrollTop","offsetWidth","scrollWidth","offsetHeight","scrollHeight","termModel","clear","empty","hrmSelect","isMultiple","wrapperClass","customValuesAllowed","searchEnabled","allowClear","dropdownParent","dropdownClass","minimumResultsForSearch","Infinity","language","dropdownAutoWidth","dropdownCssClass","tags","Select","fn","select2","amd","require","Search","originalSelectRenderFn","originalSearchUpdateFn","arguments","split","select2Instance","$results","unbind","$dropdownResultsContainer","parent","onUpdated","dropdown","_positionDropdown","openHandler","scroll","openingHandler","changeHandler","isClosingAnimated","closingHandler","bindInner","HrmSwitchViewModel","_exportAs","HrmSwitchGroupViewModel","hrmSwitchGroup","HrmSwitchGroupLabelViewModel","hrmSwitchGroupLabel","HrmTabGroupItem","HrmTabGroupViewModel","moreButtonElementWidth","itemMargin","subscriptions","windowResizeHandler","updateWidth","items","activeItem","itemWidths","$itemMirror","css","position","visibility","item","maxFitItem","w","hrmTable","error","_errorSubscription","_error","_isTabletOrMobile","_errorTippyInstance","_errorTippyClickHandler","subscribable","$content","notifySubscribers","_onWindowResize","hasClass","hideError","disable","_setError","_updateErrorView","enable","_createErrorTooltipContent","show","setProps","isTabletOrMobile","hrmTableEditableCell","_focusHandler","_blurHandler","_owner","hrmTableEditableCellInputControl","computed","hrmTableEditableCellSelectControl","StickyEvents","sectionWrappers","_sectionWrappers","_sectionWrapperElementStuckHandler","_sectionWrapperElementUnstuckHandler","_stickyEvents","scrollableContainer","addStickies","wrapper","stuck","addEventListener","STUCK","UNSTUCK","lastSectionWrappers","addedWrapper","difference","removedElement","removeEventListener","addSticky","disableEvents","hrmTableStickySectionContainer","hrmTableStickySectionWrapper","mode","_textSubscription","_text","_mode","_hideOnClick","triggers","join","_setText","hrmTooltip","root","factory","define","jquery","hasOwnProperty","module","exports","jQuery","DateRangePicker","cb","parentEl","startOf","endDate","endOf","minDate","maxDate","maxSpan","showDropdowns","minYear","subtract","maxYear","add","showWeekNumbers","showISOWeekNumbers","showCustomRangeLabel","timePicker","timePicker24Hour","timePickerIncrement","timePickerSeconds","linkedCalendars","alwaysShowCalendars","ranges","drops","buttonClasses","applyButtonClasses","cancelButtonClasses","direction","localeData","longDateFormat","separator","applyLabel","cancelLabel","weekLabel","customRangeLabel","weekdaysMin","monthsShort","firstDayOfWeek","callback","isShowing","leftCalendar","rightCalendar","elem","rangeHtml","isBefore","clone","isAfter","applyClass","cancelClass","dateLimit","isInvalidDate","isCustomDate","iterator","shift","start","end","range","setStartDate","setEndDate","timepicker","list","prepend","proxy","clickPrev","clickNext","clickDate","hoverDate","monthOrYearChanged","timeChanged","clickRange","clickApply","clickCancel","keydown","toggle","updateElement","minute","Math","round","floor","updateMonthsInView","previousRightTime","updateView","renderTimePicker","updateCalendars","updateFormInputs","month","date","year","hour","second","isNaN","ampm","renderCalendar","calculateChosenLabel","side","calendar","daysInMonth","lastDay","lastMonth","lastYear","daysInLastMonth","dayOfWeek","day","startDay","curDate","col","row","selected","dateHtml","currentMonth","currentYear","inMinYear","inMaxYear","monthHtml","m","yearHtml","y","maxLimit","week","isoWeek","classes","isSame","Date","isoWeekday","isCustom","apply","cname","replace","timeSelector","i_in_24","time","padded","am_html","pm_html","move","parentOffset","containerTop","parentRightEdge","offset","clientWidth","outerHeight","containerWidth","outerWidth","containerRight","containerLeft","_outsideClickProxy","outsideClick","oldStartDate","oldEndDate","chosenLabel","closest","showCalendars","hideCalendars","getAttribute","dates","cal","title","substr","el","dt","customRange","isLeft","leftOrRight","dateString","preventDefault","implementOptions","defaultOptions"],"mappings":"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","file":"main.js","sourcesContent":["const HRM_BREAKPOINTS = {\r\n    tabletMaxWidth: 1200,\r\n    mobileMaxWidth: 767\r\n};\r\n\r\nko.validation.init({insertMessages: false});\r\n\r\nmoment.locale('ru');\r\n\r\nconst HRM_SIDEBAR_COLLAPSED_LOCAL_STORAGE_KEY = 'hrmSidebarCollapsed';\r\n\r\n// Fix stacking modals\r\n$(document).on('hidden.bs.modal', function (event) {\r\n    //const scrollbarWidth = $(event.target).data(\"bs.modal\")._scrollbarWidth;\r\n\r\n    if ($('.modal:visible').length) {\r\n        $('body').addClass('modal-open');\r\n        //$('body').css('padding-right', scrollbarWidth);\r\n    }\r\n\r\n    $('.modal:visible').last().focus();\r\n});\r\n","ko.bindingHandlers.hrmSlide = {\r\n  init: function (element, valueAccessor, allBindings) {\r\n    const value = ko.unwrap(allBindings.get('hrmSlideValue'));\r\n\r\n    if (value) {\r\n      $(element).slideDown(0);\r\n    } else {\r\n      $(element).slideUp(0);\r\n    }\r\n\r\n    $(element).data('hrmSlide', value);\r\n\r\n    ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n      $(element).removeData('hrmSlide');\r\n    });\r\n  },\r\n  update: function (element, valueAccessor, allBindings) {\r\n    const value = ko.unwrap(allBindings.get('hrmSlideValue'));\r\n    const duration = allBindings.get('hrmSlideDuration') || 200;\r\n\r\n    if ($(element).data('hrmSlide') !== value) {\r\n      if (value) {\r\n        $(element).slideDown(duration);\r\n      } else {\r\n        $(element).slideUp(duration);\r\n      }\r\n\r\n      $(element).data('hrmSlide', value);\r\n    }\r\n  },\r\n};\r\n\r\nko.bindingHandlers.hrmFade = {\r\n  init: function (element, valueAccessor, allBindings) {\r\n    const value = ko.unwrap(allBindings.get('hrmFadeValue'));\r\n\r\n    if (value) {\r\n      $(element).fadeIn(0);\r\n    } else {\r\n      $(element).fadeOut(0);\r\n    }\r\n\r\n    $(element).data('hrmFade', value);\r\n\r\n    ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n      $(element).removeData('hrmFade');\r\n    });\r\n  },\r\n  update: function (element, valueAccessor, allBindings) {\r\n    const value = ko.unwrap(allBindings.get('hrmFadeValue'));\r\n    const duration = allBindings.get('hrmFadeDuration') || 200;\r\n    const inDelay = allBindings.get('hrmFadeInDelay') || 0;\r\n    const outDelay = allBindings.get('hrmFadeOutDelay') || 0;\r\n\r\n    if ($(element).data('hrmFade') !== value) {\r\n      if (value) {\r\n        $(element).delay(inDelay).fadeIn(duration);\r\n      } else {\r\n        $(element).delay(outDelay).fadeOut(duration);\r\n      }\r\n\r\n      $(element).data('hrmFade', value);\r\n    }\r\n  },\r\n};\r\n\r\nko.bindingHandlers.hrmElement = {\r\n  init: function (element, valueAccessor, allBindings) {\r\n    if (ko.isObservableArray(valueAccessor())) {\r\n      if (allBindings.has('hrmElementIndex')) {\r\n        valueAccessor().splice(allBindings.get('hrmElementIndex'), 0, element);\r\n      } else {\r\n        valueAccessor().push(element);\r\n      }\r\n    } else {\r\n      valueAccessor()(element);\r\n    }\r\n\r\n    ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n      if (ko.isObservableArray(valueAccessor())) {\r\n        valueAccessor().remove(element);\r\n      } else {\r\n        valueAccessor()(null);\r\n      }\r\n    });\r\n  },\r\n};\r\n\r\nko.bindingHandlers.hrmMask = {\r\n  init: function (element, valueAccessor, allBindings) {\r\n    // DEPRECATED! Use options.alias instead.\r\n    const pattern = allBindings.get('hrmMaskPattern');\r\n\r\n    let options = allBindings.get('hrmMaskOptions');\r\n\r\n    if (pattern !== undefined) {\r\n      if (options !== undefined) {\r\n        options = { alias: pattern, ...options };\r\n      } else {\r\n        options = { alias: pattern };\r\n      }\r\n    }\r\n\r\n    $(element).inputmask({\r\n      jitMasking: true,\r\n      showMaskOnFocus: false,\r\n      showMaskOnHover: false,\r\n      ...options,\r\n    });\r\n  },\r\n};\r\n\r\nko.bindingHandlers.hrmTimeAutocompleter = {\r\n  init: function (element) {\r\n    $(element).on('blur', () => {\r\n      const value = $(element).val();\r\n\r\n      const regExpExecuteResult = /^([0-9]{2}):\\s$/.exec(value);\r\n\r\n      if (regExpExecuteResult !== null && +regExpExecuteResult[1] < 24) {\r\n        $(element)\r\n          .val(regExpExecuteResult[1] + ':00')\r\n          .trigger('change');\r\n      }\r\n    });\r\n  },\r\n};\r\n\r\nfunction hrmSplitComponentTemplateNodes(nodes) {\r\n  const result = {\r\n    main: [],\r\n    slots: {},\r\n  };\r\n\r\n  $(nodes)\r\n    .filter('hrm-slot')\r\n    .each((index, slotElement) => {\r\n      const $slot = $(slotElement);\r\n      result.slots[$slot.attr('name')] = $slot.contents();\r\n    });\r\n\r\n  result.main = nodes.filter((node) => {\r\n    return !(node.nodeType === 1 && node.tagName === 'HRM-SLOT');\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\nfunction hrmSlideBeforeRemoveFactory(duration = 200, delay = 0) {\r\n  return (element) =>\r\n    $(element)\r\n      .delay(delay)\r\n      .slideUp(duration, () => $(element).remove());\r\n}\r\n\r\nfunction hrmSlideAfterAddFactory(duration = 200, delay = 0) {\r\n  return (element) => $(element).hide().delay(delay).slideDown(duration);\r\n}\r\n\r\nfunction hrmFadeBeforeRemoveFactory(duration = 200, delay = 0) {\r\n  return (element) =>\r\n    $(element)\r\n      .delay(delay)\r\n      .fadeOut(duration, () => $(element).remove());\r\n}\r\n\r\nfunction hrmFadeAfterAddFactory(duration = 200, delay = 0) {\r\n  return (element) => $(element).hide().delay(delay).fadeIn(duration);\r\n}\r\n\r\nko.validation.rules['hrmDate'] = {\r\n  validator: function (val, params) {\r\n    return moment(val, params, true).isValid();\r\n  },\r\n  message: 'Неверный формат даты и времени',\r\n};\r\n\r\nko.validation.registerExtenders();\r\n\r\nfunction hrmTemplateIf(condition, data) {\r\n  return condition ? [data] : undefined;\r\n}\r\n\r\nfunction hrmExtractComponentParam(params, name, defaultValue) {\r\n  if (params !== undefined && name in params) {\r\n    if (ko.isObservable(params[name])) {\r\n      return params[name];\r\n    } else {\r\n      return ko.observable(params[name]);\r\n    }\r\n  } else {\r\n    return ko.observable(defaultValue);\r\n  }\r\n}\r\n\r\nko.bindingHandlers.hrmLog = {\r\n  update: function (\r\n    element,\r\n    valueAccessor,\r\n    allBindings,\r\n    viewModel,\r\n    bindingContext,\r\n  ) {\r\n    console.group('hrmLog');\r\n    console.info('element', element);\r\n    console.info('valueAccessor', valueAccessor());\r\n    console.info('allBindings', allBindings());\r\n    console.info('viewModel', viewModel);\r\n    console.info('bindingContext', bindingContext);\r\n    console.groupEnd('hrmLog');\r\n  },\r\n};\r\n\r\nko.bindingHandlers.hrmAutoResize = {\r\n  init: function (element) {\r\n    const autoResizeInstance = $(element).addClass('hrm-auto-resize').autoResize();\r\n    $(element).data('resizeInstance', autoResizeInstance);\r\n    $(element).on('reset', () => {\r\n      $(element).height('');\r\n    });\r\n  },\r\n};\r\n\r\nko.bindingHandlers.hrmColoredSign = {\r\n  init: function (element, valueAccessor) {\r\n    let value = parseInt(ko.unwrap(valueAccessor()));\r\n    $(element).toggleClass('color--positive', value && value > 0);\r\n    $(element).toggleClass('color--negative', value && value < 0);\r\n    $(element).toggleClass('color--secondary', value === 0);\r\n  },\r\n  update: function (element, valueAccessor) {\r\n    let value = parseInt(ko.unwrap(valueAccessor()));\r\n    $(element).toggleClass('color--positive', value && value > 0);\r\n    $(element).toggleClass('color--negative', value && value < 0);\r\n    $(element).toggleClass('color--secondary', value === 0);\r\n  },\r\n};\r\n\r\nko.bindingHandlers.stopEvents = {\r\n  init: function(element) {\r\n    $(element).on('click input change mousedown', e => {\r\n      e.stopPropagation();\r\n    })\r\n  }\r\n}\r\n","ko.components.register('hrm-basic-footer', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-basic-footer']);\r\n\r\n            return new (function () {});\r\n        }\r\n    },\r\n    template: `\r\n        <div class=\"hrm-basic-footer__branding\">\r\n            <div class=\"hrm-basic-footer__logo\"></div>\r\n            <span class=\"hrm-basic-footer__copyright\">© Lookin, 2020</span>\r\n        </div>\r\n        <a class=\"hrm-basic-footer__support-link\" href=\"#\">Техническая поддержка</a>\r\n    `\r\n});","ko.components.register('hrm-basic-sidebar', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-basic-sidebar']);\r\n\r\n            return new (function () {});\r\n        }\r\n    },\r\n    template: `\r\n        <button class=\"hrm-button hrm-circle-icon-button hrm-circle-logout-icon-button hrm-basic-sidebar__logout-button\"\r\n                title=\"Войти/зарегистрироваться\">\r\n        </button>\r\n        <a class=\"hrm-basic-sidebar__support-link\" href=\"#\" title=\"Помощь\"></a>\r\n    `\r\n});\r\n","ko.components.register('hrm-checkbox', {\r\n  viewModel: {\r\n    createViewModel: function (params, componentInfo) {\r\n      const $element = $(componentInfo.element);\r\n\r\n      $element.addClass(['hrm-checkbox']);\r\n\r\n      const ViewModel = function () {\r\n        this._subscriptions = [];\r\n\r\n        if (params !== undefined && 'checked' in params) {\r\n          this.checked = ko.isObservable(params.checked)\r\n            ? params.checked\r\n            : ko.observable(params.checked);\r\n        } else {\r\n          this.checked = ko.observable(false);\r\n        }\r\n\r\n        if (params !== undefined && 'disabled' in params) {\r\n          this.disabled = ko.isObservable(params.disabled)\r\n            ? params.disabled\r\n            : ko.observable(params.disabled);\r\n        } else {\r\n          this.disabled = ko.observable(false);\r\n        }\r\n\r\n        $element.toggleClass('disabled', this.disabled());\r\n        this.disabled.subscribe((v) => {\r\n          $element.toggleClass('disabled', v);\r\n        });\r\n\r\n        this.checkboxGroup =\r\n          params !== undefined && 'owner' in params ? params.owner : null;\r\n\r\n        (() => {\r\n          $element.toggleClass('hrm-checkbox--checked', this.checked());\r\n\r\n          this._subscriptions.push(\r\n            this.checked.subscribe((checked) => {\r\n              $element.toggleClass('hrm-checkbox--checked', checked);\r\n            }),\r\n          );\r\n        })();\r\n      };\r\n\r\n      ViewModel.prototype.dispose = function () {\r\n        this._subscriptions.forEach((s) => s.dispose());\r\n      };\r\n\r\n      return new ViewModel();\r\n    },\r\n  },\r\n  template: `\r\n        <label class=\"hrm-checkbox__layout\">\r\n            <input data-bind=\"checked: checked, disable: disabled, attr: {id: checkboxGroup !== null && checkboxGroup() !== null ? checkboxGroup().id : undefined}\"\r\n                   type=\"checkbox\" hidden>\r\n        </label>\r\n    `,\r\n});\r\n\r\nlet hrmCheckboxGroupNextId = 0;\r\n\r\nko.components.register('hrm-checkbox-group', {\r\n  viewModel: {\r\n    createViewModel: function (params, componentInfo) {\r\n      const $element = $(componentInfo.element);\r\n\r\n      $element.addClass(['hrm-checkbox-group']);\r\n\r\n      const ViewModel = function () {\r\n        this.id = 'hrm-checkbox-group-' + hrmCheckboxGroupNextId++;\r\n\r\n        (() => {\r\n          if (params !== undefined && 'exportAs' in params) {\r\n            if (ko.isObservableArray(params.exportAs)) {\r\n              params.exportAs.push(this);\r\n            } else {\r\n              params.exportAs(this);\r\n            }\r\n          }\r\n        })();\r\n      };\r\n\r\n      ViewModel.prototype.dispose = function () {\r\n        if (params !== undefined && 'exportAs' in params) {\r\n          if (ko.isObservableArray(params.exportAs)) {\r\n            params.exportAs.remove(this);\r\n          } else {\r\n            params.exportAs(null);\r\n          }\r\n        }\r\n      };\r\n\r\n      return new ViewModel();\r\n    },\r\n  },\r\n  template: `\r\n        <!-- ko template: {nodes: $componentTemplateNodes} --><!-- /ko -->\r\n    `,\r\n});\r\n\r\nko.bindingHandlers.hrmCheckboxGroupLabel = {\r\n  init: function (element, valueAccessor, allBindings) {\r\n    const checkboxGroup = allBindings.get('hrmCheckboxGroupLabelOwner');\r\n\r\n    const $element = $(element);\r\n    $element.addClass('hrm-checkbox-group__label');\r\n    $element.attr('for', checkboxGroup().id);\r\n  },\r\n};\r\n","(() => {\r\n    class HrmDatepickerViewModel {\r\n        constructor(element, value, config) {\r\n            this._subscriptions = [];\r\n            this._valueSubscription = null;\r\n            this._value = null;\r\n            this._daterangepicker = null;\r\n            this._applyHandler = null;\r\n            this.element = element;\r\n\r\n            this.config = config || {};\r\n\r\n            this._init(value);\r\n        }\r\n\r\n        _init(value) {\r\n            const $element = $(this.element);\r\n\r\n            $element.attr('autocomplete', 'off');\r\n\r\n            const params = {\r\n                singleDatePicker: true,\r\n                showDropdown: false,\r\n                autoUpdateInput: this.config.autoUpdateInput,\r\n                autoApply: true,\r\n                locale: {\r\n                    format: this.config.format || 'DD.MM.YYYY, dddd',\r\n                    monthNames: [\r\n                        'Январь',\r\n                        'Февраль',\r\n                        'Март',\r\n                        'Апрель',\r\n                        'Май',\r\n                        'Июнь',\r\n                        'Июль',\r\n                        'Август',\r\n                        'Сентябрь',\r\n                        'Октябрь',\r\n                        'Ноябрь',\r\n                        'Декабрь'\r\n                    ],\r\n                    daysOfWeek: [\r\n                        'Вс',\r\n                        'Пн',\r\n                        'Вт',\r\n                        'Ср',\r\n                        'Чт',\r\n                        'Пт',\r\n                        'Сб'\r\n                    ],\r\n                    firstDay: 1\r\n                }\r\n            };\r\n\r\n            $element.daterangepicker(params);\r\n\r\n            this._applyHandler = () => {\r\n                let newValue = this._daterangepicker.startDate.format(this._daterangepicker.locale.format);\r\n\r\n                if (newValue !== $element.val()) {\r\n                    $element.val(newValue).trigger('change');\r\n                }\r\n            };\r\n\r\n            $element.on('apply.daterangepicker', this._applyHandler);\r\n\r\n            this._daterangepicker = $element.data('daterangepicker');\r\n\r\n            this._daterangepicker.container.addClass('hrm-datepicker');\r\n\r\n            this._setValue(value);\r\n        }\r\n\r\n        _setValue(value) {\r\n            if (this._valueSubscription !== null) {\r\n                this._valueSubscription.dispose();\r\n                this._valueSubscription = null;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                if (ko.isObservable(value)) {\r\n                    this._valueSubscription = value.subscribe(v => {\r\n                        this._daterangepicker.elementChanged();\r\n                    });\r\n                } else {\r\n                    this._daterangepicker.elementChanged();\r\n                }\r\n            }\r\n\r\n            this._value = value;\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n\r\n            if (this._valueSubscription !== null) {\r\n                this._valueSubscription.dispose();\r\n            }\r\n\r\n            $element.off('apply.daterangepicker', this._applyHandler);\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmDatepicker = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const value = allBindings.get('value');\r\n            const config = allBindings.get('hrmDatepickerConfig');\r\n            const viewModel = new HrmDatepickerViewModel(element, value, config);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['value'] !== allBindings.get('value')) {\r\n                    instance._setValue(allBindings.get('value'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\r\n\r\nwindow.DishesSelect = {\r\n  loaded: ko.observable(false),\r\n  loading: ko.observable(false),\r\n  loadPromise: null,\r\n  dishes: [],\r\n  load() {\r\n    this.loadPromise = new Promise((res) => {\r\n      if (this.loaded()) {\r\n        res();\r\n        return;\r\n      }\r\n      this.loading(true);\r\n      setTimeout(() => {\r\n        // Загрузить блюда\r\n        this.dishes = [\r\n          {\r\n            id: '1',\r\n            name: 'Напитки',\r\n            dishes: [\r\n              {\r\n                id: '373',\r\n                name: 'Кока кола',\r\n              },\r\n              {\r\n                id: '374',\r\n                name: 'Фанта',\r\n              },\r\n              {\r\n                id: '665',\r\n                name: 'Аква мин.',\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: '2',\r\n            name: 'Салаты',\r\n            dishes: [\r\n              {\r\n                id: '1373',\r\n                name: 'Морковь по-корейски',\r\n              },\r\n              {\r\n                id: '1374',\r\n                name: 'Армейский с квашеной капустой',\r\n              },\r\n              {\r\n                id: '1665',\r\n                name: 'Баклажаны имеретинские',\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: '3',\r\n            name: 'Вторые блюда',\r\n            dishes: [\r\n              {\r\n                id: '3373',\r\n                name: 'Рис с овощами+куриная грудка гриль',\r\n              },\r\n              {\r\n                id: '3374',\r\n                name: 'Паста с сыром и зеленью+свинина в соусе BBQ',\r\n              },\r\n              {\r\n                id: '3665',\r\n                name: 'Цветная капуста в яйце+рыбные тефтели терияки',\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            noCategory: true,\r\n            id: '',\r\n            name: '',\r\n            dishes: [\r\n              {\r\n                id: '5373',\r\n                name: 'Блюдо без категории 1',\r\n              },\r\n              {\r\n                id: '5374',\r\n                name: 'Блюдо без категории 2',\r\n              },\r\n              {\r\n                id: '5665',\r\n                name: 'Блюдо без категории 3',\r\n              },\r\n            ]\r\n          }\r\n        ];\r\n        this.render();\r\n        this.loading(false);\r\n        this.loaded(true);\r\n        res();\r\n      }, 1000);\r\n    });\r\n    return this.loadPromise;\r\n  },\r\n  html: document.createElement('div'),\r\n  rendered: ko.observable(false),\r\n  render() {\r\n    if (this.rendered()) return Promise.resolve();\r\n    if (this.loading()) return this.loadPromise.then(() => {\r\n      return this.render();\r\n    });\r\n\r\n    return new Promise(res => {\r\n      ko.renderTemplate(\r\n        'dishes-select-template',\r\n        {\r\n          categories: this.dishes,\r\n        },\r\n        {},\r\n        this.html,\r\n      );\r\n      this.rendered(true);\r\n      res();\r\n    })\r\n\r\n  },\r\n  matcher({ term }, data) {\r\n    if (!term) {\r\n      return data;\r\n    }\r\n\r\n    term = term.toLowerCase();\r\n\r\n    if (!data.id) {\r\n      return null;\r\n    }\r\n\r\n    if (data.id[0] != 'c') {\r\n      const categoryId = data.element.dataset.category;\r\n      const category = DishesSelect.dishes.find((c) => c.id === categoryId);\r\n      if (!category) return null;\r\n\r\n      const categoryName = category.name.toLowerCase();\r\n      const dishText = data.text.toLowerCase();\r\n\r\n      const match = categoryName.includes(term) || dishText.includes(term);\r\n      return match ? data : null;\r\n    } else {\r\n      const category = DishesSelect.dishes.find(\r\n        (c) => c.id === data.id.slice(1),\r\n      );\r\n      if (!category) return null;\r\n      if (!category.id) return null;\r\n\r\n      const categoryName = category.name.toLowerCase();\r\n\r\n      const match =\r\n        categoryName.includes(term) ||\r\n        category.dishes.some((d) => {\r\n          return d.name.toLowerCase().includes(term);\r\n        });\r\n      return match ? data : null;\r\n    }\r\n  },\r\n  templateSelection(state) {\r\n    if (!state.id) {\r\n      return state.text;\r\n    }\r\n    var $result = $('<span>').text(state.text);\r\n\r\n    if (state.id[0] == 'c') {\r\n      $result.addClass('dish-category-value');\r\n    }\r\n    return $result;\r\n  },\r\n  templateResult(state) {\r\n    if (!state.id) {\r\n      return state.text;\r\n    }\r\n\r\n    var $result = $('<span>').text(state.text);\r\n\r\n    if (state.id[0] == 'c') {\r\n      $result.addClass('dish-category-option');\r\n    } else {\r\n      $result.addClass('dish-option');\r\n    }\r\n\r\n    let category = state.element.dataset.category;\r\n    if (category) $result.attr('has-category', category);\r\n\r\n    return $result;\r\n  },\r\n  onChange(event) {\r\n    var options = $(event.target).find('option').get();\r\n    var value = $(event.target).val();\r\n\r\n    if (value) {\r\n      var selectedCategories = value.filter(function (v) {\r\n        return v[0] == 'c';\r\n      });\r\n      var selectedOptions = value.filter(function (v) {\r\n        return v[0] != 'c';\r\n      });\r\n\r\n      options.forEach(function (option) {\r\n        var optionValue = $(option).attr('value');\r\n        if (!optionValue) return;\r\n\r\n        var isCategory = optionValue[0] == 'c';\r\n\r\n        if (!isCategory) {\r\n          var categoryId = $(option).data('category');\r\n          if (selectedCategories.includes('c' + categoryId)) {\r\n            if (selectedOptions.includes(optionValue)) {\r\n              var index = selectedOptions.indexOf(optionValue);\r\n              selectedOptions.splice(index, 1);\r\n            }\r\n            $(option).attr('disabled', true);\r\n          } else {\r\n            $(option).attr('disabled', false);\r\n            if (selectedOptions.includes(optionValue)) {\r\n\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      var newValue = [].concat(\r\n        _toConsumableArray(selectedCategories),\r\n        _toConsumableArray(selectedOptions),\r\n      );\r\n\r\n      $(event.target).val(newValue).trigger('change.select2');\r\n    }\r\n  }\r\n};\r\n\r\nko.bindingHandlers.hrmLoadDishes = {\r\n  init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\r\n    const $element = $(element);\r\n\r\n    let value = allBindings.get('selectedOptions');\r\n\r\n    ko.applyBindingsToDescendants(bindingContext, element);\r\n\r\n    DishesSelect.load().then(() => {\r\n      DishesSelect.render().then(() => {\r\n        const selectClone = DishesSelect.html.cloneNode(true);\r\n        $element.append($(selectClone).children());\r\n        let options = allBindings.get('selectedOptions');\r\n        $element.val(options());\r\n      });\r\n    });\r\n\r\n    $element.on('change.select2', () => {\r\n      let currentVal = value();\r\n      let newVal = $element.val();\r\n      if (currentVal.toString() !== newVal.toString()) {\r\n        value(newVal);\r\n      }\r\n    })\r\n\r\n    return {\r\n      controlsDescendantBindings: true\r\n    };\r\n  }\r\n}\r\n","// hrmDropdownMenu\r\n(() => {\r\n    class HrmDropdownMenuViewModel {\r\n        constructor(element, context, template, placement) {\r\n            this._subscriptions = [];\r\n            this._template = template;\r\n            this._placement = placement;\r\n            this._context = context;\r\n            this.element = element;\r\n            this._tippyInstance = null;\r\n            this._tooltipClickHandler = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            let hidingFlag = false;\r\n\r\n            this._tooltipClickHandler = event => {\r\n                const $target = $(event.target);\r\n\r\n                if ($target.is('.hrm-dropdown-menu__item:not(.hrm-dropdown-menu__item--disabled)') || $target.parents('.hrm-dropdown-menu__item:not(.hrm-dropdown-menu__item--disabled)').length > 0) {\r\n                    this._tippyInstance.hide();\r\n                }\r\n            };\r\n\r\n            this._tippyInstance = tippy(this.element, {\r\n                content: this._createContent(document.getElementById(this._template).innerHTML),\r\n                arrow: false,\r\n                distance: 7,\r\n                interactive: true,\r\n                placement: this._placement !== undefined ? this._placement : 'bottom',\r\n                appendTo: document.body,\r\n                boundary: 'viewport',\r\n                hideOnClick: true,\r\n                trigger: 'click',\r\n                onCreate: instance => {\r\n                    $(instance.popperChildren.tooltip).addClass('hrm-dropdown-menu');\r\n                    $(instance.popperChildren.tooltip).on('click', this._tooltipClickHandler);\r\n                },\r\n                onShow: () => {\r\n                    return !hidingFlag;\r\n                },\r\n                onMount: instance => {\r\n                    $(instance.popperChildren.content).find('.hrm-dropdown-menu__content').overlayScrollbars({});\r\n                    ko.applyBindingsToDescendants(this._context, instance.popperChildren.content);\r\n\r\n                    setTimeout(() => {\r\n                        instance.popperInstance.update();\r\n                    });\r\n                },\r\n                onHide: () => {\r\n                    hidingFlag = true;\r\n                },\r\n                onHidden: instance => {\r\n                    // Хак, чтобы tippy пересоздал содержимое и можно было применить заново биндинги Knockout\r\n                    instance.setContent(this._createContent(document.getElementById(this._template).innerHTML));\r\n                    hidingFlag = false;\r\n                }\r\n            });\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._tippyInstance.destroy();\r\n        }\r\n\r\n        _createContent(template) {\r\n            return $('<div>').addClass('hrm-dropdown-menu__content').append(template).get()[0];\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmDropdownMenu = {\r\n        init: function (element, valueAccessor, allBindings, _, bindingContext) {\r\n            const template = allBindings.get('hrmDropdownMenuTemplate');\r\n            const placement = allBindings.get('hrmDropdownMenuPlacement');\r\n            const viewModel = new HrmDropdownMenuViewModel(element, bindingContext, template, placement);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n","// hrmFormFieldComplexControl\r\n(() => {\r\n    let nextId = 0;\r\n\r\n    class HrmFormFieldComplexControlViewModel {\r\n        constructor(element, disabled) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._disabled = null;\r\n            this._disabledSubscription = null;\r\n\r\n            this.element = element;\r\n            this.id = 'hrm-form-field-complex-control-' + nextId++;\r\n            this.focused = null;\r\n            this.disabled = null;\r\n            this.shouldLabelFloat = null;\r\n            this.errorState = null;\r\n\r\n            this._init(disabled);\r\n        }\r\n\r\n        _init(disabled) {\r\n            this._$element.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_complex']);\r\n\r\n            this.focused = ko.observable(false);\r\n            this.disabled = ko.observable(false);\r\n            this.shouldLabelFloat = ko.observable(true);\r\n            this.errorState = ko.observable(false);\r\n\r\n            this._setDisabled(disabled);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n\r\n        onBasisClick() {}\r\n\r\n        onBasisMousedown() {}\r\n\r\n        _setDisabled(disabled) {\r\n            if (this._disabledSubscription !== null) {\r\n                this._disabledSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(disabled)) {\r\n                this._disabledSubscription = disabled.subscribe(disabled => {\r\n                    this._disabled = disabled;\r\n                    this._updateDisabled();\r\n                });\r\n\r\n                this._disabled = disabled();\r\n            } else {\r\n                this._disabled = disabled;\r\n            }\r\n\r\n            this._updateDisabled();\r\n        }\r\n\r\n        _updateDisabled() {\r\n            this.disabled(this._disabled === true);\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmFormFieldComplexControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const disabled = allBindings.get('hrmFormFieldComplexControlDisabled');\r\n            const viewModel = new HrmFormFieldComplexControlViewModel(element, disabled);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmFormFieldComplexControlDisabled'] !== allBindings.get('hrmFormFieldComplexControlDisabled')) {\r\n                    instance._setDisabled(allBindings.get('hrmFormFieldComplexControlDisabled'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","// hrmFormFieldDatepickerControl\r\n(() => {\r\n    let nextId = 0;\r\n\r\n    class HrmFormFieldDatepickerControlViewModel {\r\n        constructor(element, value, textInput, errorStateMatcher) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._focusChangeHandler = null;\r\n            this._valueChangeHandler = null;\r\n            this._mutationObserver = null;\r\n\r\n            if (errorStateMatcher === undefined) {\r\n                errorStateMatcher = formControl => {\r\n                    return ko.pureComputed(() => {\r\n                        return 'isValid' in formControl && !formControl.isValid();\r\n                    });\r\n                }\r\n            }\r\n\r\n            this._errorStateMatcher = ko.observable(errorStateMatcher);\r\n            this._value = ko.observable(value);\r\n            this._textInput = ko.observable(textInput);\r\n            this._control = null;\r\n            this._daterangepickerInstance = null;\r\n\r\n            this.element = element;\r\n            this.id = 'hrm-form-field-datepicker-control-' + nextId++;\r\n            this.focused = null;\r\n            this.disabled = null;\r\n            this.shouldLabelFloat = null;\r\n            this.errorState = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_input']);\r\n            this._$element.attr('id', this.id);\r\n\r\n            this._daterangepickerInstance = this._$element.data('daterangepicker');\r\n            this._daterangepickerInstance.container.addClass('hrm-form-field__dropdown');\r\n\r\n            this._control = ko.pureComputed(() => {\r\n                if (this._value() !== undefined) {\r\n                    return this._value();\r\n                } else if (this._textInput() !== undefined) {\r\n                    return this._textInput();\r\n                } else {\r\n                    return null;\r\n                }\r\n            });\r\n\r\n            this._subscriptions.push(ko.pureComputed(() => {\r\n                if (this._control() !== null) {\r\n                    return this._control()();\r\n                } else {\r\n                    return null;\r\n                }\r\n            }).subscribe(() => {\r\n                this._$element.trigger('change.hrm-form-field-datepicker-control');\r\n            }));\r\n\r\n            this.focused = ko.observable(this._hasFocus());\r\n            this.disabled = ko.observable(this._isDisabled());\r\n            const hasValue = ko.observable(this._hasValue());\r\n            const hasPlaceholder = ko.observable(this._hasPlaceholder());\r\n\r\n            this._focusChangeHandler = () => this.focused(this._hasFocus());\r\n            this._valueChangeHandler = () => hasValue(this._hasValue());\r\n\r\n            this._mutationObserver = new MutationObserver(mutations => {\r\n                mutations.forEach(mutation => {\r\n                    if (mutation.type === 'attributes') {\r\n                        hasPlaceholder(this._hasPlaceholder());\r\n                        this.disabled(this._isDisabled());\r\n                    }\r\n                });\r\n            });\r\n\r\n            this._mutationObserver.observe(this.element, {\r\n                attributes: true\r\n            });\r\n\r\n            this.shouldLabelFloat = ko.pureComputed(() => {\r\n                return this.focused() || hasValue() || hasPlaceholder();\r\n            });\r\n\r\n            this.errorState = ko.pureComputed(() => {\r\n                const errorStateMatcher = this._errorStateMatcher();\r\n                const control = this._control();\r\n\r\n                return control !== null ? errorStateMatcher(control)() : false;\r\n            });\r\n\r\n            this._$element.on('focus blur', this._focusChangeHandler);\r\n            this._$element.on('input change', this._valueChangeHandler);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._$element.off('focus blur', this._focusChangeHandler);\r\n            this._$element.off('input change change.hrm-form-field-datepicker-control', this._valueChangeHandler);\r\n            this._mutationObserver.disconnect();\r\n        }\r\n\r\n        onBasisClick() {\r\n            this._$element.focus();\r\n        }\r\n\r\n        onBasisMousedown() {}\r\n\r\n        _setValue(value) {\r\n            if (!ko.isObservable(value)) {\r\n                throw Error('\\'value\\' binding have to be observable.');\r\n            }\r\n\r\n            this._value(value);\r\n        }\r\n\r\n        _setTextInput(textInput) {\r\n            if (!ko.isObservable(textInput)) {\r\n                throw Error('\\'textInput\\' binding have to be observable.');\r\n            }\r\n\r\n            this._textInput(textInput);\r\n        }\r\n\r\n        _setErrorStateMatcher(errorStateMatcher) {\r\n            this._errorStateMatcher(errorStateMatcher);\r\n        }\r\n\r\n        _hasFocus() {\r\n            return this._$element.is(':focus');\r\n        }\r\n\r\n        _hasValue() {\r\n            return this._$element.val() !== '';\r\n        }\r\n\r\n        _hasPlaceholder() {\r\n            return this._$element.attr('placeholder') !== undefined;\r\n        }\r\n\r\n        _isDisabled() {\r\n            return this._$element.attr('disabled') !== undefined;\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmFormFieldDatepickerControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const value = allBindings.get('value');\r\n            const textInput = allBindings.get('textInput');\r\n            const errorStateMatcher = allBindings.get('hrmFormFieldDatepickerControlErrorStateMatcher');\r\n            const viewModel = new HrmFormFieldDatepickerControlViewModel(element, value, textInput, errorStateMatcher);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['value'] !== allBindings.get('value')) {\r\n                    instance._setValue(allBindings.get('value'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['textInput'] !== allBindings.get('textInput')) {\r\n                    instance._setTextInput(allBindings.get('textInput'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmFormFieldDatepickerControlErrorStateMatcher'] !== allBindings.get('hrmFormFieldDatepickerControlErrorStateMatcher')) {\r\n                    instance._setErrorStateMatcher(allBindings.get('hrmFormFieldDatepickerControlErrorStateMatcher'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","// hrmFormFieldInputControl\r\n(() => {\r\n    let nextId = 0;\r\n\r\n    class HrmFormFieldInputControlViewModel {\r\n        constructor(element, value, textInput, errorStateMatcher) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._focusChangeHandler = null;\r\n            this._valueChangeHandler = null;\r\n            this._mutationObserver = null;\r\n\r\n            if (errorStateMatcher === undefined) {\r\n                errorStateMatcher = formControl => {\r\n                    return ko.pureComputed(() => {\r\n                        return 'isValid' in formControl && !formControl.isValid();\r\n                    });\r\n                }\r\n            }\r\n\r\n            this._errorStateMatcher = ko.observable(errorStateMatcher);\r\n            this._value = ko.observable(value);\r\n            this._textInput = ko.observable(textInput);\r\n            this._control = null;\r\n\r\n            this.element = element;\r\n            this.id = 'hrm-form-field-input-control-' + nextId++;\r\n            this.focused = null;\r\n            this.disabled = null;\r\n            this.shouldLabelFloat = null;\r\n            this.errorState = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_input']);\r\n            this._$element.attr('id', this.id);\r\n\r\n            this._control = ko.pureComputed(() => {\r\n                if (this._value() !== undefined) {\r\n                    return this._value();\r\n                } else if (this._textInput() !== undefined) {\r\n                    return this._textInput();\r\n                } else {\r\n                    return null;\r\n                }\r\n            });\r\n\r\n            this._subscriptions.push(ko.pureComputed(() => {\r\n                if (this._control() !== null) {\r\n                    return this._control()();\r\n                } else {\r\n                    return null;\r\n                }\r\n            }).subscribe(() => {\r\n                this._$element.trigger('change.hrm-form-field-input-control');\r\n            }));\r\n\r\n            this.focused = ko.observable(this._hasFocus());\r\n            this.disabled = ko.observable(this._isDisabled());\r\n            const hasValue = ko.observable(this._hasValue());\r\n            const hasPlaceholder = ko.observable(this._hasPlaceholder());\r\n\r\n            this._focusChangeHandler = () => this.focused(this._hasFocus());\r\n            this._valueChangeHandler = () => hasValue(this._hasValue());\r\n\r\n            this._mutationObserver = new MutationObserver(mutations => {\r\n                mutations.forEach(mutation => {\r\n                    if (mutation.type === 'attributes') {\r\n                        hasPlaceholder(this._hasPlaceholder());\r\n                        this.disabled(this._isDisabled());\r\n                    }\r\n                });\r\n            });\r\n\r\n            this._mutationObserver.observe(this.element, {\r\n                attributes: true\r\n            });\r\n\r\n            this.shouldLabelFloat = ko.pureComputed(() => {\r\n                return this.focused() || hasValue() || hasPlaceholder();\r\n            });\r\n\r\n            this.errorState = ko.pureComputed(() => {\r\n                const errorStateMatcher = this._errorStateMatcher();\r\n                const control = this._control();\r\n\r\n                return control !== null ? errorStateMatcher(control)() : false;\r\n            });\r\n\r\n            this._$element.on('focus blur', this._focusChangeHandler);\r\n            this._$element.on('input change change.hrm-form-field-input-control', this._valueChangeHandler);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._$element.off('focus blur', this._focusChangeHandler);\r\n            this._$element.off('input change', this._valueChangeHandler);\r\n            this._mutationObserver.disconnect();\r\n        }\r\n\r\n        onBasisClick() {\r\n            this._$element.focus();\r\n        }\r\n\r\n        onBasicReset() {\r\n            this._$element.val('').trigger('change').trigger('reset');\r\n        }\r\n\r\n        onBasisMousedown() {}\r\n\r\n        _setValue(value) {\r\n            if (!ko.isObservable(value)) {\r\n                throw Error('\\'value\\' binding have to be observable.');\r\n            }\r\n\r\n            this._value(value);\r\n        }\r\n\r\n        _setTextInput(textInput) {\r\n            if (!ko.isObservable(textInput)) {\r\n                throw Error('\\'textInput\\' binding have to be observable.');\r\n            }\r\n\r\n            this._textInput(textInput);\r\n        }\r\n\r\n        _setErrorStateMatcher(errorStateMatcher) {\r\n            this._errorStateMatcher(errorStateMatcher);\r\n        }\r\n\r\n        _hasFocus() {\r\n            return this._$element.is(':focus');\r\n        }\r\n\r\n        _hasValue() {\r\n            return this._$element.val() !== '';\r\n        }\r\n\r\n        _hasPlaceholder() {\r\n            return this._$element.attr('placeholder') !== undefined;\r\n        }\r\n\r\n        _isDisabled() {\r\n            return this._$element.attr('disabled') !== undefined;\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmFormFieldInputControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const value = allBindings.get('value');\r\n            const textInput = allBindings.get('textInput');\r\n            const errorStateMatcher = allBindings.get('hrmFormFieldInputControlErrorStateMatcher');\r\n            const viewModel = new HrmFormFieldInputControlViewModel(element, value, textInput, errorStateMatcher);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['value'] !== allBindings.get('value')) {\r\n                    instance._setValue(allBindings.get('value'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['textInput'] !== allBindings.get('textInput')) {\r\n                    instance._setTextInput(allBindings.get('textInput'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmFormFieldInputControlErrorStateMatcher'] !== allBindings.get('hrmFormFieldInputControlErrorStateMatcher')) {\r\n                    instance._setErrorStateMatcher(allBindings.get('hrmFormFieldInputControlErrorStateMatcher'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","// hrmFormFieldSelectControl\r\n(() => {\r\n    let nextId = 0;\r\n\r\n    class HrmFormFieldSelectControlViewModel {\r\n        constructor(element, value, selectedOptions, errorStateMatcher) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._valueChangeHandler = null;\r\n            this._selectionFocusHandler = null;\r\n            this._selectionBlurHandler = null;\r\n            this._searchFocusHandler = null;\r\n            this._searchBlurHandler = null;\r\n            this._openingHandler = null;\r\n            this._closeHandler = null;\r\n            this._searchUpdateHandler = null;\r\n            this._mutationObserver = null;\r\n\r\n            if (errorStateMatcher === undefined) {\r\n                errorStateMatcher = formControl => {\r\n                    return ko.pureComputed(() => {\r\n                        return typeof formControl == 'function' && 'isValid' in formControl && !formControl.isValid();\r\n                    });\r\n                }\r\n            }\r\n\r\n            this._errorStateMatcher = ko.observable(errorStateMatcher);\r\n            this._value = ko.observable(value);\r\n            this._selectedOptions = ko.observable(selectedOptions);\r\n            this._control = null;\r\n            this._isMultiple = null;\r\n            this._select2Instance = null;\r\n\r\n            this.element = element;\r\n            this.id = 'hrm-form-field-select-control-' + nextId++;\r\n            this.focused = null;\r\n            this.disabled = null;\r\n            this.shouldLabelFloat = null;\r\n            this.errorState = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.attr('id', this.id);\r\n            this._select2Instance = this._$element.data('select2');\r\n            this._select2Instance.$container.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_select']);\r\n            this._select2Instance.$dropdown.children().first().addClass(['hrm-form-field__dropdown']);\r\n            this._isMultiple = this._$element.prop('multiple');\r\n\r\n            this._control = ko.pureComputed(() => {\r\n                if (this._value() !== undefined) {\r\n                    return this._value();\r\n                } else if (this._selectedOptions() !== undefined) {\r\n                    return this._selectedOptions();\r\n                } else {\r\n                    return null;\r\n                }\r\n            });\r\n\r\n            const selectionFocused = ko.observable(this._select2Instance.$selection.is(':focus'));\r\n            const searchFocused = this._isMultiple ? ko.observable(this._select2Instance.selection.$search.is(':focus')) : null;\r\n            const dropdownOpened = ko.observable(false);\r\n            const hasValue = ko.observable(this._hasValue());\r\n            const hasPlaceholder = ko.observable(this._hasPlaceholder());\r\n\r\n            this._selectionFocusHandler = () => selectionFocused(true);\r\n            this._selectionBlurHandler = () => selectionFocused(false);\r\n            this._searchFocusHandler = () => searchFocused(true);\r\n            this._searchBlurHandler = () => searchFocused(false);\r\n            this._openingHandler = () => dropdownOpened(true);\r\n            this._closeHandler = () => dropdownOpened(false);\r\n            this._valueChangeHandler = () => hasValue(this._hasValue());\r\n            this._searchUpdateHandler = () => {\r\n                if (this._isMultiple) {\r\n                    this._select2Instance.selection.$search.off('focus', this._searchFocusHandler);\r\n                    this._select2Instance.selection.$search.off('blur', this._searchBlurHandler);\r\n\r\n                    this._select2Instance.selection.$search.on('focus', this._searchFocusHandler);\r\n                    this._select2Instance.selection.$search.on('blur', this._searchBlurHandler);\r\n                }\r\n            };\r\n\r\n            this.focused = ko.pureComputed(() => {\r\n                return selectionFocused() || dropdownOpened() || (searchFocused !== null && searchFocused());\r\n            });\r\n\r\n            this.disabled = ko.observable(this._isDisabled());\r\n\r\n            this.shouldLabelFloat = ko.pureComputed(() => {\r\n                return this.focused() || hasValue() || hasPlaceholder();\r\n            });\r\n\r\n            this.errorState = ko.pureComputed(() => {\r\n                const errorStateMatcher = this._errorStateMatcher();\r\n                const control = this._control();\r\n\r\n                return control !== null ? errorStateMatcher(control)() : false;\r\n            });\r\n\r\n            this._select2Instance.$selection.on('focus', this._selectionFocusHandler);\r\n            this._select2Instance.$selection.on('blur', this._selectionBlurHandler);\r\n            if (this._isMultiple) {\r\n                this._select2Instance.selection.$search.on('focus', this._searchFocusHandler);\r\n                this._select2Instance.selection.$search.on('blur', this._searchBlurHandler);\r\n            }\r\n            this._$element.on('change.select2', this._valueChangeHandler);\r\n            this._$element.on('select2:opening', this._openingHandler);\r\n            this._$element.on('select2:close', this._closeHandler);\r\n            this._$element.on('hrm-select:search-update', this._searchUpdateHandler);\r\n\r\n            this._mutationObserver = new MutationObserver(mutations => {\r\n                mutations.forEach(mutation => {\r\n                    if (mutation.type === 'attributes') {\r\n                        this.disabled(this._isDisabled());\r\n                    }\r\n                });\r\n            });\r\n\r\n            this._mutationObserver.observe(this.element, {\r\n                attributes: true\r\n            });\r\n\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._select2Instance.$selection.off('focus', this._selectionFocusHandler);\r\n            this._select2Instance.$selection.off('blur', this._selectionBlurHandler);\r\n            if (this._isMultiple) {\r\n                this._select2Instance.selection.$search.off('focus', this._searchFocusHandler);\r\n                this._select2Instance.selection.$search.off('blur', this._searchBlurHandler);\r\n            }\r\n            this._$element.off('change.select2', this._valueChangeHandler);\r\n            this._$element.off('select2:opening', this._openingHandler);\r\n            this._$element.off('select2:close', this._closeHandler);\r\n            this._$element.off('hrm-select:search-update', this._searchUpdateHandler);\r\n            this._mutationObserver.disconnect();\r\n        }\r\n\r\n        onBasisClick() {}\r\n\r\n        onBasisMousedown(event) {\r\n            if (!this.disabled()) {\r\n                if (event.target !== this.element &&\r\n                    this._select2Instance.$container.get()[0] !== event.target &&\r\n                    this._select2Instance.$container.has(event.target).length === 0) {\r\n                    const isOpen = this._select2Instance.isOpen();\r\n\r\n                    setTimeout(() => {\r\n                        this._select2Instance.$selection.focus();\r\n\r\n                        if (!isOpen) {\r\n                            this._select2Instance.open();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        _setValue(value) {\r\n            if (!ko.isObservable(value)) {\r\n                throw Error('\\'value\\' binding have to be observable.');\r\n            }\r\n\r\n            this._value(value);\r\n        }\r\n\r\n        _setSelectedOptions(selectedOptions) {\r\n            if (!ko.isObservable(selectedOptions)) {\r\n                throw Error('\\'selectedOptions\\' binding have to be observable.');\r\n            }\r\n\r\n            this._selectedOptions(selectedOptions);\r\n        }\r\n\r\n        _setErrorStateMatcher(errorStateMatcher) {\r\n            this._errorStateMatcher(errorStateMatcher);\r\n        }\r\n\r\n        _hasValue() {\r\n            const value = this._$element.val();\r\n            return value !== '' && value !== undefined && (!(value instanceof Array) || value.length !== 0);\r\n        }\r\n\r\n        _hasPlaceholder() {\r\n            return this._select2Instance.options.options.placeholder !== ' ';\r\n        }\r\n\r\n        _isDisabled() {\r\n            return this._$element.attr('disabled') !== undefined;\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmFormFieldSelectControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const value = allBindings.get('value');\r\n            const selectedOptions = allBindings.get('selectedOptions');\r\n            const errorStateMatcher = allBindings.get('hrmFormFieldSelectControlErrorStateMatcher');\r\n            const viewModel = new HrmFormFieldSelectControlViewModel(element, value, selectedOptions, errorStateMatcher);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['value'] !== allBindings.get('value')) {\r\n                    instance._setValue(allBindings.get('value'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['selectedOptions'] !== allBindings.get('selectedOptions')) {\r\n                    instance._setTextInput(allBindings.get('selectedOptions'));\r\n                }\r\n            }\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmFormFieldSelectControlErrorStateMatcher'] !== allBindings.get('hrmFormFieldSelectControlErrorStateMatcher')) {\r\n                    instance._setErrorStateMatcher(allBindings.get('hrmFormFieldSelectControlErrorStateMatcher'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","// hrmFormField\r\n(() => {\r\n  class HrmFormFieldViewModel {\r\n    constructor(element, control, label, fixedLabel) {\r\n      this._subscriptions = [];\r\n      this._$element = $(element);\r\n      this._control = control;\r\n      this._label = label;\r\n      this._fixedLabel = fixedLabel;\r\n\r\n      this.element = element;\r\n\r\n      this._init();\r\n    }\r\n\r\n    _init() {\r\n      this._$element.addClass(['hrm-form-field', 'hrm-notransition']);\r\n      this._$element.toggleClass(\r\n        'hrm-form-field--fixed-label',\r\n        this._fixedLabel !== undefined,\r\n      );\r\n\r\n      this._subscriptions.push(\r\n        ko.bindingEvent.subscribe(this.element, 'childrenComplete', () => {\r\n          this._$element.toggleClass(\r\n            'hrm-form-field--has-label',\r\n            this._label !== undefined,\r\n          );\r\n\r\n          this._$element.toggleClass(\r\n            'hrm-form-field--focused',\r\n            this._control().focused(),\r\n          );\r\n          this._subscriptions.push(\r\n            this._control().focused.subscribe((focused) => {\r\n              this._$element.toggleClass('hrm-form-field--focused', focused);\r\n            }),\r\n          );\r\n\r\n          this._$element.toggleClass(\r\n            'hrm-form-field--disabled',\r\n            this._control().disabled(),\r\n          );\r\n          this._subscriptions.push(\r\n            this._control().disabled.subscribe((disabled) => {\r\n              this._$element.toggleClass('hrm-form-field--disabled', disabled);\r\n            }),\r\n          );\r\n\r\n          this._$element.toggleClass(\r\n            'hrm-form-field--should-label-float',\r\n            this._control().shouldLabelFloat(),\r\n          );\r\n          this._subscriptions.push(\r\n            this._control().shouldLabelFloat.subscribe((shouldLabelFloat) => {\r\n              this._$element.toggleClass(\r\n                'hrm-form-field--should-label-float',\r\n                shouldLabelFloat,\r\n              );\r\n            }),\r\n          );\r\n\r\n          setTimeout(() => {\r\n            this._$element.removeClass('hrm-notransition');\r\n          });\r\n        }),\r\n      );\r\n    }\r\n\r\n    dispose() {\r\n      this._subscriptions.forEach((s) => s.dispose());\r\n    }\r\n  }\r\n\r\n  ko.bindingHandlers.hrmFormField = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n      const control = allBindings.get('hrmFormFieldControlRef');\r\n      const label = allBindings.get('hrmFormFieldLabelRef');\r\n      const fixedLabel = allBindings.get('hrmFormFieldFixedLabel');\r\n      const viewModel = new HrmFormFieldViewModel(\r\n        element,\r\n        control,\r\n        label,\r\n        fixedLabel,\r\n      );\r\n\r\n      ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n        viewModel.dispose();\r\n      });\r\n    },\r\n  };\r\n})();\r\n\r\n// hrmFormFieldLabel\r\n(() => {\r\n  class HrmFormFieldLabelViewModel {\r\n    constructor(element) {\r\n      this._subscriptions = [];\r\n      this._$element = $(element);\r\n\r\n      this.element = element;\r\n\r\n      this._init();\r\n    }\r\n\r\n    _init() {\r\n      this._$element.addClass('hrm-form-field__label');\r\n    }\r\n\r\n    setFor(id) {\r\n      this._$element.attr('for', id);\r\n    }\r\n\r\n    dispose() {\r\n      this._subscriptions.forEach((s) => s.dispose());\r\n    }\r\n  }\r\n\r\n  ko.bindingHandlers.hrmFormFieldLabel = {\r\n    init: function (element, valueAccessor) {\r\n      const viewModel = new HrmFormFieldLabelViewModel(element);\r\n\r\n      if (valueAccessor() !== undefined) {\r\n        if (ko.isObservableArray(valueAccessor())) {\r\n          valueAccessor().push(viewModel);\r\n        } else {\r\n          valueAccessor()(viewModel);\r\n        }\r\n      }\r\n\r\n      ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n        if (valueAccessor() !== undefined) {\r\n          if (ko.isObservableArray(valueAccessor())) {\r\n            valueAccessor().remove(this);\r\n          } else {\r\n            valueAccessor()(null);\r\n          }\r\n        }\r\n\r\n        viewModel.dispose();\r\n      });\r\n    },\r\n  };\r\n})();\r\n\r\n// hrmFormFieldBasis\r\n(() => {\r\n  class HrmFormFieldBasisViewModel {\r\n    constructor(element, control, withReset) {\r\n      this._subscriptions = [];\r\n      this._$element = $(element);\r\n      this._control = control;\r\n      this._clickHandler = null;\r\n      this._mousedownHandler = null;\r\n      this._changeHandler = null;\r\n\r\n      this._withReset = withReset;\r\n      this._reset = null;\r\n\r\n      this.element = element;\r\n\r\n      this._init();\r\n    }\r\n\r\n    _init() {\r\n      this._$element.addClass('hrm-form-field__basis');\r\n\r\n      if (this._withReset) {\r\n        this._reset = $(\r\n          '<i class=\"hrm-form-field-icon hrm-form-field-reset-icon\"></i>',\r\n        );\r\n        this._$element.append(this._reset);\r\n        this._reset.hide();\r\n        this._reset.click(() => {\r\n            if ('onBasicReset' in this._control()) {\r\n                this._control().onBasicReset();\r\n            }\r\n        });\r\n      }\r\n\r\n      this._subscriptions.push(\r\n        ko.bindingEvent.subscribe(this.element, 'childrenComplete', () => {\r\n          this._$element.toggleClass(\r\n            'hrm-form-field__basis--focused',\r\n            this._control().focused(),\r\n          );\r\n          this._subscriptions.push(\r\n            this._control().focused.subscribe((focused) => {\r\n              this._$element.toggleClass(\r\n                'hrm-form-field__basis--focused',\r\n                focused,\r\n              );\r\n            }),\r\n          );\r\n\r\n          this._$element.toggleClass(\r\n            'hrm-form-field__basis--invalid',\r\n            this._control().errorState(),\r\n          );\r\n          this._subscriptions.push(\r\n            this._control().errorState.subscribe((errorState) => {\r\n              this._$element.toggleClass(\r\n                'hrm-form-field__basis--invalid',\r\n                errorState,\r\n              );\r\n            }),\r\n          );\r\n        }),\r\n      );\r\n\r\n      this._clickHandler = (event) => {\r\n        this._control().onBasisClick(event);\r\n      };\r\n\r\n      this._mousedownHandler = (event) => {\r\n        this._control().onBasisMousedown(event);\r\n      };\r\n\r\n      this._changeHandler = (event) => {\r\n        if (this._reset) {\r\n            if (event.target.value.length) this._reset.fadeIn(250);\r\n            else this._reset.fadeOut(250);\r\n        }\r\n      }\r\n\r\n      this._$element.on('click', this._clickHandler);\r\n      this._$element.on('mousedown', this._mousedownHandler);\r\n      this._$element.on('input change', this._changeHandler);\r\n    }\r\n\r\n    dispose() {\r\n      this._subscriptions.forEach((s) => s.dispose());\r\n      this._$element.off('click', this._clickHandler);\r\n      this._$element.off('mousedown', this._mousedownHandler);\r\n      this._$element.off('input change', this._changeHandler);\r\n\r\n      if (this._reset) {\r\n        this._reset.off('click');\r\n      }\r\n    }\r\n  }\r\n\r\n  ko.bindingHandlers.hrmFormFieldBasis = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n      const control = allBindings.get('hrmFormFieldBasisControl');\r\n      const withReset = allBindings.has('hrmFormFieldBasisAllowClear');\r\n\r\n      const viewModel = new HrmFormFieldBasisViewModel(\r\n        element,\r\n        control,\r\n        withReset,\r\n      );\r\n\r\n      ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n        viewModel.dispose();\r\n      });\r\n    },\r\n  };\r\n})();\r\n\r\nko.components.register('hrm-form-field-error', {\r\n  viewModel: {\r\n    createViewModel: function (params, componentInfo) {\r\n      const $element = $(componentInfo.element);\r\n\r\n      $element.addClass(['hrm-form-field__error']);\r\n\r\n      return new (function () {\r\n        this.templateNodes = hrmSplitComponentTemplateNodes(\r\n          componentInfo.templateNodes,\r\n        );\r\n      })();\r\n    },\r\n  },\r\n  template: `\r\n        <span class=\"hrm-form-field__error-text\">\r\n            <!-- ko template: {nodes: templateNodes.main} --><!-- /ko -->\r\n        </span>\r\n    `,\r\n});\r\n","(() => {\r\n    ko.components.register('hrm-main-sidebar', {\r\n        viewModel: {\r\n            createViewModel: function (params, componentInfo) {\r\n                const $element = $(componentInfo.element);\r\n                $element.addClass(['hrm-main-sidebar']);\r\n\r\n                return new (class {\r\n                    constructor() {\r\n                        this._isCollapsed = hrmExtractComponentParam(params, 'collapsed', false);\r\n                        this._isUserSelected = false;\r\n                        this._isNotificationsSelected = false;\r\n                        this._selectedMenuItemIndex = null;\r\n                        this._selectedDrawerContentName = null;\r\n                        this._$element = $element;\r\n                        this._$collapseToggleElement = this._$element.find('.hrm-main-sidebar__collapse-toggle');\r\n                        this._$user = this._$element.find('.hrm-main-sidebar__user');\r\n                        this._$notifications = this._$element.find('.hrm-main-sidebar__notifications');\r\n                        this._$menuItems = this._$element.find('.hrm-main-sidebar__menu-item');\r\n                        this._$drawer = this._$element.find('.hrm-main-sidebar__drawer');\r\n                        this._$backdrop = this._$element.find('.hrm-main-sidebar__backdrop');\r\n\r\n                        this._drawerContents = new Map(\r\n                            this._$element.find('.hrm-main-sidebar__drawer-content')\r\n                                .toArray()\r\n                                .map(element => {\r\n                                    const $element = $(element);\r\n                                    return [$element.data('hrm-main-sidebar-drawer-content-name'), $element];\r\n                                })\r\n                        );\r\n\r\n                        this.viewportSize = ko.observable({width: $(window).width(), height: $(window).height()});\r\n\r\n                        this._init();\r\n                    }\r\n\r\n                    _init() {\r\n                        this._$element.addClass('hrm-notransition');\r\n\r\n                        this._$element.find('.hrm-main-sidebar__user').on('click', async () => {\r\n                            if (this._isUserSelected) {\r\n                                this.clearSelection();\r\n                            } else {\r\n                                this.selectUser();\r\n                            }\r\n                        });\r\n\r\n                        this._$element.find('.hrm-main-sidebar__notifications').on('click', async () => {\r\n                            if (this._isNotificationsSelected) {\r\n                                this.clearSelection();\r\n                            } else {\r\n                                this.selectNotifications();\r\n                            }\r\n                        });\r\n                        \r\n                        this._$backdrop.on('click', async () => {\r\n                            this.clearSelection();\r\n                        });\r\n\r\n                        this._$menuItems.each((index, menuItem) => {\r\n                            $(menuItem).on('click', () => {\r\n                                if (this._selectedMenuItemIndex === index) {\r\n                                    this.clearSelection();\r\n                                } else {\r\n                                    this.selectMenuItem(index);\r\n                                }\r\n                            });\r\n                        });\r\n\r\n                        $(window).on('resize', () => {\r\n                            this.viewportSize({width: $(window).width(), height: $(window).height()});\r\n                        });\r\n\r\n                        this._$element.toggleClass('hrm-main-sidebar--collapsed', this._isCollapsed());\r\n                        this._isCollapsed.subscribe(collapsed => {\r\n                            this._$element.toggleClass('hrm-main-sidebar--collapsed', collapsed);\r\n                        });\r\n\r\n                        setTimeout(() => {\r\n                            this._$element.removeClass('hrm-notransition');\r\n                        }, 0);\r\n\r\n                        this.viewportSize.subscribe(() => {\r\n                            this._$element.addClass('hrm-notransition');\r\n\r\n                            setTimeout(() => {\r\n                                this._$element.removeClass('hrm-notransition');\r\n                            }, 0);\r\n                        })\r\n                    }\r\n\r\n                    async selectUser() {\r\n                        if (!this._isUserSelected) {\r\n                            await this.clearSelection();\r\n\r\n                            this._$user.addClass('hrm-main-sidebar__user--active');\r\n                            this._isUserSelected = true;\r\n                            await this._openDrawer('user');\r\n                        }\r\n                    }\r\n\r\n                    async selectNotifications() {\r\n                        if (!this._isNotificationsSelected) {\r\n                            await this.clearSelection();\r\n\r\n                            this._$notifications.addClass('hrm-main-sidebar__notifications--active');\r\n                            this._isNotificationsSelected = true;\r\n                            await this._openDrawer('notifications');\r\n                        }\r\n                    }\r\n\r\n                    async selectMenuItem(index) {\r\n                        if (this._selectedMenuItemIndex !== index) {\r\n                            await this.clearSelection();\r\n\r\n                            this._$menuItems.eq(index).addClass('hrm-main-sidebar__menu-item--active');\r\n                            this._selectedMenuItemIndex = index;\r\n                            this._isUserSelected = false;\r\n                            await this._openDrawer(this._$menuItems.eq(index).data('hrm-main-sidebar-drawer-content-name'));\r\n                        }\r\n                    }\r\n\r\n                    async clearSelection() {\r\n                        if (this._selectedMenuItemIndex !== null) {\r\n                            this._$menuItems.eq(this._selectedMenuItemIndex).removeClass('hrm-main-sidebar__menu-item--active');\r\n                            this._selectedMenuItemIndex = null;\r\n                        } else if (this._isUserSelected) {\r\n                            this._$user.removeClass('hrm-main-sidebar__user--active');\r\n                            this._isUserSelected = false;\r\n                        } else if (this._isNotificationsSelected) {\r\n                            this._$notifications.removeClass('hrm-main-sidebar__notifications--active');\r\n                            this._isNotificationsSelected = false;\r\n                        }\r\n\r\n                        await this._closeDrawer();\r\n                    }\r\n\r\n                    async _openDrawer(contentName) {\r\n                        if (this._selectedDrawerContentName !== contentName) {\r\n                            await this._closeDrawer();\r\n\r\n                            const $drawerContent = this._drawerContents.get(contentName);\r\n\r\n                            $drawerContent.addClass('hrm-main-sidebar__drawer-content--active');\r\n                            this._$drawer.addClass('hrm-main-sidebar__drawer--open');\r\n                            this._$backdrop.addClass('hrm-main-sidebar__backdrop--visible');\r\n\r\n                            if ($drawerContent.data('hrm-main-sidebar-drawer-class') !== undefined) {\r\n                                this._$drawer.addClass($drawerContent.data('hrm-main-sidebar-drawer-class'));\r\n                            }\r\n\r\n                            this._selectedDrawerContentName = contentName;\r\n                        }\r\n                    }\r\n\r\n                    async _closeDrawer() {\r\n                        if (this._selectedDrawerContentName !== null) {\r\n                            this._$drawer.removeClass('hrm-main-sidebar__drawer--open');\r\n                            this._$backdrop.removeClass('hrm-main-sidebar__backdrop--visible');\r\n\r\n                            await new Promise(resolve => setTimeout(resolve, 200));\r\n\r\n                            const $drawerContent = this._drawerContents.get(this._selectedDrawerContentName);\r\n\r\n                            this._$drawer.removeClass($drawerContent.data('hrm-main-sidebar-drawer-class'));\r\n\r\n                            $drawerContent.removeClass('hrm-main-sidebar__drawer-content--active');\r\n\r\n                            this._selectedDrawerContentName = null;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        template: `\r\n            <div class=\"hrm-main-sidebar__content-wrapper\">\r\n                <div class=\"hrm-main-sidebar__content\">\r\n                    <div class=\"hrm-main-sidebar__header\">\r\n                        <div class=\"hrm-main-sidebar__user\">\r\n                            <!--<img class=\"hrm-main-sidebar__avatar\" src=\"assets/examples/avatar.jpg\">-->\r\n                            <img class=\"hrm-main-sidebar__avatar\" src=\"assets/img/avatar-placeholder.png\">\r\n        \r\n                            <div class=\"hrm-main-sidebar__user-name\">\r\n                                Пётр Петров\r\n                            </div>\r\n                        </div>\r\n        \r\n                        <div class=\"hrm-main-sidebar__notifications\">\r\n                            <div class=\"hrm-main-sidebar__notifications-icon\">\r\n                                <div class=\"hrm-main-sidebar__notifications-icon-counter\">28</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n        \r\n                    <ul class=\"nav hrm-main-sidebar__menu\">\r\n                        <li class=\"hrm-main-sidebar__menu-item hrm-main-sidebar__menu-calculations-item\"\r\n                            data-hrm-main-sidebar-drawer-content-name=\"calculations\">\r\n                            <span class=\"hrm-main-sidebar__menu-item-name\">Расчёты</span>\r\n                        </li>\r\n        \r\n                        <li class=\"hrm-main-sidebar__menu-item hrm-main-sidebar__menu-hr-item\"\r\n                            data-hrm-main-sidebar-drawer-content-name=\"hr\">\r\n                            <span class=\"hrm-main-sidebar__menu-item-name\">Кадры</span>\r\n                        </li>\r\n        \r\n                        <li class=\"hrm-main-sidebar__menu-item hrm-main-sidebar__menu-documents-item\"\r\n                            data-hrm-main-sidebar-drawer-content-name=\"documents\">\r\n                            <span class=\"hrm-main-sidebar__menu-item-name\">Отчёты</span>\r\n                        </li>\r\n        \r\n                        <li class=\"hrm-main-sidebar__menu-item hrm-main-sidebar__menu-reference-item\"\r\n                            data-hrm-main-sidebar-drawer-content-name=\"reference\">\r\n                            <span class=\"hrm-main-sidebar__menu-item-name\">Справочники</span>\r\n                        </li>\r\n        \r\n                        <li class=\"hrm-main-sidebar__menu-item hrm-main-sidebar__menu-contents-item\"\r\n                            data-hrm-main-sidebar-drawer-content-name=\"contents\">\r\n                            <span class=\"hrm-main-sidebar__menu-item-name\">Все разделы</span>\r\n                        </li>\r\n                    </ul>\r\n        \r\n                    <div class=\"hrm-spacer\"></div>\r\n                    \r\n                    <div class=\"hrm-main-sidebar__actions\">\r\n                        <a class=\"hrm-main-sidebar__settings-link\" href=\"#\" title=\"Настройки\"></a>\r\n        \r\n                        <a class=\"hrm-main-sidebar__support-link\" href=\"#\" title=\"Помощь\"></a>\r\n            \r\n                        <button class=\"hrm-button hrm-main-sidebar__collapse-toggle\"\r\n                                data-bind=\"click: function() {_isCollapsed(!_isCollapsed());}\">\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n            <div class=\"hrm-main-sidebar__drawer\">\r\n                <div class=\"hrm-main-sidebar__drawer-content-wrapper\" \r\n                     data-bind=\"hrmScrollable, hrmScrollableDisabled: viewportSize().width <= HRM_BREAKPOINTS.tabletMaxWidth\">\r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"calculations\"\r\n                         data-hrm-main-sidebar-drawer-class=\"hrm-main-sidebar__menu-base-drawer\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                    </div>\r\n        \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"hr\"\r\n                         data-hrm-main-sidebar-drawer-class=\"hrm-main-sidebar__menu-base-drawer\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-hr-content'} --><!-- /ko -->\r\n                    </div >\r\n        \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"documents\"\r\n                         data-hrm-main-sidebar-drawer-class=\"hrm-main-sidebar__menu-base-drawer\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-documents-content'} --><!-- /ko -->\r\n                    </div>\r\n        \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"reference\"\r\n                         data-hrm-main-sidebar-drawer-class=\"hrm-main-sidebar__menu-base-drawer\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-reference-content'} --><!-- /ko -->\r\n                    </div>\r\n                    \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"contents\"\r\n                         data-hrm-main-sidebar-drawer-class=\"hrm-main-sidebar__contents-drawer\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-contents-content'} --><!-- /ko -->\r\n                    </div>\r\n                    \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"user\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-user-content'} --><!-- /ko -->\r\n                    </div>\r\n                    \r\n                    <div class=\"hrm-main-sidebar__drawer-content\"\r\n                         data-hrm-main-sidebar-drawer-content-name=\"notifications\">\r\n                         <!-- ko template: {name: 'hrm-main-sidebar-notifications-content'} --><!-- /ko -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n            <div class=\"hrm-main-sidebar__backdrop\"></div>\r\n            \r\n            <script id=\"hrm-main-sidebar-calculations-content\" type=\"text/html\">\r\n                <div class=\"hrm-main-sidebar__submenu\">\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Сотрудники</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Штатная численность</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Потребность в персонале</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Кандидаты</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item hrm-main-sidebar__submenu-item--active\" href=\"#\">Жалобы и предложения</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Приказы/инструкции</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Анкеты водителей</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Праздничные надбавки</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Надбавки за лучшие показатели</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Договоры</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Управление уведомлениями</a>\r\n                </div>\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-hr-content\" type=\"text/html\">\r\n                <div class=\"hrm-main-sidebar__submenu\">\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Сотрудники</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Штатная численность</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Потребность в персонале</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Кандидаты</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item hrm-main-sidebar__submenu-item--active\" href=\"#\">Жалобы и предложения</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Приказы/инструкции</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Анкеты водителей</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Праздничные надбавки</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Надбавки за лучшие показатели</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Договоры</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Управление уведомлениями</a>\r\n                </div>\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-documents-content\" type=\"text/html\">\r\n                <div class=\"hrm-main-sidebar__submenu\">\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Сотрудники</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Штатная численность</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Потребность в персонале</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Кандидаты</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item hrm-main-sidebar__submenu-item--active\" href=\"#\">Жалобы и предложения</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Приказы/инструкции</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Анкеты водителей</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Праздничные надбавки</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Надбавки за лучшие показатели</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Договоры</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Управление уведомлениями</a>\r\n                </div>\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-reference-content\" type=\"text/html\">\r\n                <div class=\"hrm-main-sidebar__submenu\">\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Сотрудники</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Штатная численность</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Потребность в персонале</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Кандидаты</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item hrm-main-sidebar__submenu-item--active\" href=\"#\">Жалобы и предложения</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Приказы/инструкции</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Анкеты водителей</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Праздничные надбавки</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Надбавки за лучшие показатели</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Договоры</a>\r\n                    <a class=\"hrm-main-sidebar__submenu-item\" href=\"#\">Управление уведомлениями</a>\r\n                </div>\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-user-content\" type=\"text/html\">\r\n                Пользователь\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-notifications-content\" type=\"text/html\">\r\n                Уведомления\r\n            </script>\r\n            \r\n            <script id=\"hrm-main-sidebar-contents-content\" type=\"text/html\">\r\n                <!-- ko if: viewportSize().width > HRM_BREAKPOINTS.mobileMaxWidth -->\r\n                    Все разделы\r\n                <!-- /ko -->\r\n                \r\n                <!-- ko if: viewportSize().width <= HRM_BREAKPOINTS.mobileMaxWidth -->\r\n                    <div class=\"hrm-main-sidebar__contents\">\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Расчеты\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Кадры\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-hr-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Документы\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-documents-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Справочники\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-reference-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Графики\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Листовки\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Маркетинг\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Штрафы/Премии\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Нарушения\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Плохие отзывы\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Жалобы и предложения\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Зоны доставки\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Инструкции\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                        <!-- ko let: {isOpen: ko.observable(false)} -->\r\n                            <div class=\"hrm-main-sidebar__contents-section\"\r\n                                 data-bind=\"css: {'hrm-main-sidebar__contents-section--open': isOpen}\">\r\n                                <div class=\"hrm-main-sidebar__contents-section-header\"\r\n                                     data-bind=\"click: function() {isOpen(!isOpen());}\">\r\n                                    Календарь событий\r\n                                </div>\r\n                                <div class=\"hrm-main-sidebar__contents-section-body\"\r\n                                     data-bind=\"hrmSlide, hrmSlideValue: isOpen\">\r\n                                    <!-- ko template: {name: 'hrm-main-sidebar-calculations-content'} --><!-- /ko -->\r\n                                </div>\r\n                            </div>\r\n                        <!-- /ko -->\r\n                    </div>\r\n                <!-- /ko -->\r\n            </script>\r\n        `\r\n    });\r\n})();\r\n","ko.bindingHandlers.hrmModalContainerModalWrapper = {\r\n    init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\r\n        const options = $.extend(\r\n            {\r\n                closeOnBackdropClick: true,\r\n                escapePress: 'close'\r\n            },\r\n            allBindings()['hrmModalContainerModalWrapperOptions']\r\n        );\r\n\r\n        const close = allBindings()['hrmModalContainerModalWrapperClose'];\r\n\r\n        const $element = $(element);\r\n        const $modal = $element.find('.hrm-modal');\r\n\r\n        $modal.appendTo('body');\r\n\r\n        $modal.modal({\r\n            backdrop: false,\r\n            keyboard: false,\r\n            focus: true\r\n        });\r\n\r\n        if ('modalClass' in options) {\r\n            $modal.addClass(options.modalClass);\r\n        }\r\n\r\n        $modal.keyup(event => {\r\n            if (event.keyCode === 27) {\r\n                if (options.escapePress === 'close') {\r\n                    close.call(viewModel);\r\n                } else if (options.escapePress instanceof Function) {\r\n                    options.escapePress();\r\n                }\r\n            }\r\n        });\r\n\r\n        if (options.closeOnBackdropClick) {\r\n            $modal.on('click', event => {\r\n                if (event.target === $modal.get()[0]) {\r\n                    close.call(viewModel);\r\n                }\r\n            });\r\n        }\r\n\r\n        const innerBindingContext = ko.bindingEvent.startPossiblyAsyncContentBinding($modal.get()[0], bindingContext);\r\n        ko.applyBindings(innerBindingContext, $modal.get()[0]);\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $modal.modal('hide').remove();\r\n        });\r\n    }\r\n};\r\n\r\nko.components.register('hrm-modal-container', {\r\n    viewModel: {\r\n        createViewModel: function (params) {\r\n            const viewModel = new (function () {\r\n                this.opens = params.opens;\r\n\r\n                this.close = function (open, value) {\r\n                    this.opens.remove(open);\r\n\r\n                    if ('close' in open) {\r\n                        open.close(value);\r\n                    }\r\n                };\r\n            });\r\n\r\n            viewModel.initializing = ko.observable(true);\r\n\r\n            viewModel.onInit = function () {\r\n                viewModel.initializing(false);\r\n            };\r\n\r\n            return viewModel;\r\n        }\r\n    },\r\n    template: `\r\n        <!-- ko template: {afterRender: onInit} -->\r\n            <!-- ko foreach: opens -->\r\n                <!-- ko let: {modalElement: ko.observable()} -->\r\n                    <div data-bind=\"\r\n                         hrmModalContainerModalWrapper,\r\n                         hrmModalContainerModalWrapperOptions: $data.options,\r\n                         hrmModalContainerModalWrapperClose: function (value) {$component.close($data, value);}\r\n                    \">\r\n                        <div class=\"modal hrm-modal\" role=\"dialog\" tabindex=\"1\" data-bind=\"element: modalElement\">\r\n                            <!-- ko template: {\r\n                                name: dialogTemplateName,\r\n                                data: {\r\n                                    data: $data.data,\r\n                                    modalElement: modalElement(),\r\n                                    close: function (value) {$component.close($data, value);}\r\n                                }\r\n                            } -->\r\n                            <!-- /ko -->\r\n                        </div>\r\n                    </div>\r\n                <!-- /ko -->\r\n            <!-- /ko -->\r\n        <!-- /ko -->\r\n    `\r\n});\r\n","// hrmScrollable\r\n(() => {\r\n    class HrmScrollableViewModel {\r\n        constructor(element, disabled) {\r\n            this._subscriptions = [];\r\n            this._disabledSubscription = null;\r\n            this._disabled = null;\r\n            this._overlayScrollbarsInstance = null;\r\n            this._overlayScrollbarsOptions = {\r\n                className: 'hrm-scrollable'\r\n            };\r\n            this.element = element;\r\n\r\n            this._init(disabled);\r\n        }\r\n\r\n        _init(disabled) {\r\n            this._setDisabled(disabled);\r\n            this._update();\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            if (this._disabledSubscription !== null) {\r\n                this._disabledSubscription.dispose();\r\n            }\r\n        }\r\n\r\n        _setDisabled(disabled) {\r\n            if (disabled === undefined) {\r\n                disabled = false;\r\n            }\r\n\r\n            if (this._disabledSubscription !== null) {\r\n                this._disabledSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(disabled)) {\r\n                this._disabledSubscription = disabled.subscribe(disabled => {\r\n                    this._disabled = disabled;\r\n                    this._update();\r\n                });\r\n\r\n                this._disabled = disabled();\r\n            } else {\r\n                this._disabled = disabled;\r\n                this._update();\r\n            }\r\n        }\r\n\r\n        _update() {\r\n            const $element = $(this.element);\r\n\r\n            if (!this._disabled) {\r\n                if (this._overlayScrollbarsInstance === null) {\r\n\r\n                    $element.overlayScrollbars(this._overlayScrollbarsOptions);\r\n                    this._overlayScrollbarsInstance = $element.overlayScrollbars();\r\n                }\r\n            } else {\r\n                if (this._overlayScrollbarsInstance !== null) {\r\n                    this._overlayScrollbarsInstance.destroy();\r\n                    this._overlayScrollbarsInstance = null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmScrollable = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const disabled = allBindings.get('hrmScrollableDisabled');\r\n            const viewModel = new HrmScrollableViewModel(element, disabled);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmScrollableDisabled'] !== allBindings.get('hrmScrollableDisabled')) {\r\n                    instance._setDisabled(allBindings.get('hrmScrollableDisabled'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","// hrmScrollableWrapper\r\n(() => {\r\n    class HrmScrollableWrapperViewModel {\r\n        constructor(params, componentInfo) {\r\n            this._subscriptions = [];\r\n            this._$element = $(componentInfo.element);\r\n            this._$contentElement = null;\r\n            this._contentScrollHandler = null;\r\n            this._windowResizeHandler = null;\r\n            this._childData = ko.contextFor(componentInfo.element).$data;\r\n            this._contentElement = ko.observable(null);\r\n            this._scrolledHorizontalStart = ko.observable(true);\r\n            this._scrolledHorizontalEnd = ko.observable(true);\r\n            this._scrolledVerticalStart = ko.observable(true);\r\n            this._scrolledVerticalEnd = ko.observable(true);\r\n\r\n            this.element = componentInfo.element;\r\n\r\n            this.options = {\r\n                top: {\r\n                    disabled: false\r\n                },\r\n                right: {\r\n                    disabled: false\r\n                },\r\n                bottom: {\r\n                    disabled: false\r\n                },\r\n                left: {\r\n                    disabled: false\r\n                }\r\n            };\r\n\r\n            if ('options' in params) {\r\n                this.options = {\r\n                    ...this.options,\r\n                    top: {\r\n                        ...this.options.top,\r\n                        ...params.options.top\r\n                    },\r\n                    right: {\r\n                        ...this.options.right,\r\n                        ...params.options.right\r\n                    },\r\n                    bottom: {\r\n                        ...this.options.bottom,\r\n                        ...params.options.bottom\r\n                    },\r\n                    left: {\r\n                        ...this.options.left,\r\n                        ...params.options.left\r\n                    }\r\n                }\r\n            }\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass('hrm-scrollable-wrapper');\r\n\r\n            this._contentScrollHandler = function () {\r\n                this.check();\r\n            };\r\n\r\n            this._windowResizeHandler = function () {\r\n                this.check();\r\n            };\r\n\r\n            this._subscriptions.push(ko.bindingEvent.subscribe(this.element, 'childrenComplete', () => {\r\n                this._$contentElement = $(this._contentElement());\r\n                this._$contentElement.overlayScrollbars({\r\n                    scrollbars: {\r\n                        clickScrolling: true,\r\n                    },\r\n                    nativeScrollbarsOverlaid: {\r\n                        initialize: true,\r\n                    },\r\n                    callbacks: {\r\n                        onScroll: () => {\r\n                            this._contentScrollHandler();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                this.check();\r\n            }));\r\n\r\n            $(window).on('resize', this._windowResizeHandler.bind(this));\r\n        }\r\n\r\n        check() {\r\n            let container = this._$contentElement.find('.os-viewport').get(0);\r\n            let scrollLeft = container.scrollLeft;\r\n            let scrollTop = container.scrollTop;\r\n\r\n\r\n            this._scrolledHorizontalStart(scrollLeft === 0);\r\n            this._scrolledHorizontalEnd(container.offsetWidth + scrollLeft + 5 >= container.scrollWidth);\r\n            this._scrolledVerticalStart(scrollTop === 0);\r\n            this._scrolledVerticalEnd(container.offsetHeight + scrollTop + 5 >= container.scrollHeight);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._$contentElement.off('scroll', this._contentScrollHandler);\r\n            $(window).off('resize', this._windowResizeHandler);\r\n        }\r\n    }\r\n\r\n    ko.components.register('hrm-scrollable-wrapper', {\r\n        viewModel: {\r\n            createViewModel: function (params, componentInfo) {\r\n                return new HrmScrollableWrapperViewModel(params, componentInfo);\r\n            }\r\n        },\r\n        template: `\r\n            <div class=\"hrm-scrollable-wrapper__content\">\r\n                 <div class=\"hrm-scrollable-wrapper__wrapper\" data-bind=\"hrmElement: _contentElement\">\r\n                 <!-- ko template: {nodes: $componentTemplateNodes, data: _childData} --><!-- /ko -->\r\n                 </div>\r\n\r\n\r\n                <!-- ko template: {\r\n                    foreach: hrmTemplateIf(!_scrolledVerticalStart() && !options.top.disabled, $data),\r\n                    afterAdd: hrmFadeAfterAddFactory(200),\r\n                    beforeRemove: hrmFadeBeforeRemoveFactory(0)\r\n                } -->\r\n                    <div class=\"hrm-scrollable-wrapper__curtain hrm-scrollable-wrapper__top-curtain\"></div>\r\n                <!-- /ko -->\r\n\r\n                <!-- ko template: {\r\n                    foreach: hrmTemplateIf(!_scrolledHorizontalEnd() && !options.right.disabled, $data),\r\n                    afterAdd: hrmFadeAfterAddFactory(200),\r\n                    beforeRemove: hrmFadeBeforeRemoveFactory(200)\r\n                } -->\r\n                    <div class=\"hrm-scrollable-wrapper__curtain hrm-scrollable-wrapper__right-curtain\"></div>\r\n                <!-- /ko -->\r\n\r\n                <!-- ko template: {\r\n                    foreach: hrmTemplateIf(!_scrolledVerticalEnd() && !options.bottom.disabled, $data),\r\n                    afterAdd: hrmFadeAfterAddFactory(200),\r\n                    beforeRemove: hrmFadeBeforeRemoveFactory(200)\r\n                } -->\r\n                    <div class=\"hrm-scrollable-wrapper__curtain hrm-scrollable-wrapper__bottom-curtain\"></div>\r\n                <!-- /ko -->\r\n\r\n                <!-- ko template: {\r\n                    foreach: hrmTemplateIf(!_scrolledHorizontalStart() && !options.left.disabled, $data),\r\n                    afterAdd: hrmFadeAfterAddFactory(200),\r\n                    beforeRemove: hrmFadeBeforeRemoveFactory(200)\r\n                } -->\r\n                    <div class=\"hrm-scrollable-wrapper__curtain hrm-scrollable-wrapper__left-curtain\"></div>\r\n                <!-- /ko -->\r\n            </div>\r\n        `\r\n    });\r\n})();\r\n","ko.components.register('hrm-search-field', {\r\n  viewModel: {\r\n    createViewModel: function (params, componentInfo) {\r\n      params = params || {};\r\n      const $element = $(componentInfo.element);\r\n\r\n      const ViewModel = function () {\r\n        this._subscriptions = [];\r\n\r\n        this.term = params.termModel || ko.observable('');\r\n        this.placeholder = params.placeholder || 'Поиск';\r\n\r\n        this.clear = () => this.term('');\r\n\r\n        this.empty = ko.pureComputed(() => {\r\n          return !this.term() || this.term().length === 0;\r\n        })\r\n\r\n\r\n        // if (params !== undefined && 'checked' in params) {\r\n        //     this.checked = ko.isObservable(params.checked) ? params.checked : ko.observable(params.checked);\r\n        // } else {\r\n        //     this.checked = ko.observable(false);\r\n        // }\r\n\r\n        // this.checkboxGroup = params !== undefined && 'owner' in params ? params.owner : null;\r\n\r\n        // (() => {\r\n        //     $element.toggleClass('hrm-checkbox--checked', this.checked());\r\n\r\n        //     this._subscriptions.push(this.checked.subscribe(checked => {\r\n        //         $element.toggleClass('hrm-checkbox--checked', checked);\r\n        //     }));\r\n        // })();\r\n      };\r\n\r\n      ViewModel.prototype.dispose = function () {\r\n        this._subscriptions.forEach((s) => s.dispose());\r\n      };\r\n\r\n      return new ViewModel();\r\n    },\r\n  },\r\n  template: `\r\n    <!-- ko let: {control: ko.observable(null)} -->\r\n    <div class=\"hrm-search-form-field\"\r\n      data-bind=\"hrmFormField, hrmFormFieldControlRef: control\">\r\n      <div data-bind=\"hrmFormFieldBasis, hrmFormFieldBasisControl: control\">\r\n          <i class=\"hrm-form-field__basis-prefix hrm-form-field-icon hrm-form-field-search-icon\"></i>\r\n\r\n          <input data-bind=\"\r\n                  textInput: $component.term,\r\n                  hrmFormFieldInputControl: control,\r\n                  attr: {placeholder: placeholder}\r\n              \">\r\n\r\n          <!-- ko ifnot: empty -->\r\n          <i class=\"hrm-form-field__basis-prefix hrm-form-field-icon hrm-form-field-reset-icon\" data-bind=\"click: clear\"></i>\r\n          <!-- /ko -->\r\n      </div>\r\n    </div>\r\n    <!-- /ko -->\r\n  `,\r\n});\r\n","ko.bindingHandlers.hrmSelect = {\r\n  init: function (element, valueAccessor, allBindings) {\r\n    const $element = $(element);\r\n    const isMultiple = $element.prop('multiple');\r\n    const value = !isMultiple\r\n      ? allBindings.get('value')\r\n      : allBindings.get('selectedOptions');\r\n    const wrapperClass = allBindings.get('hrmSelectClass');\r\n    const customValuesAllowed = allBindings.has('hrmSelectCustomValuesAllowed')\r\n      ? allBindings.get('hrmSelectCustomValuesAllowed')\r\n      : false;\r\n    const searchEnabled = allBindings.has('hrmSelectSearchEnabled')\r\n      ? allBindings.get('hrmSelectSearchEnabled')\r\n      : false;\r\n    const placeholder = allBindings.has('hrmSelectPlaceholder')\r\n      ? allBindings.get('hrmSelectPlaceholder')\r\n      : ' ';\r\n    const allowClear = allBindings.has('hrmSelectAllowClear')\r\n      ? allBindings.get('hrmSelectAllowClear')\r\n      : false;\r\n    const dropdownParent = allBindings.has('hrmSelectDropdownParent')\r\n      ? allBindings.get('hrmSelectDropdownParent')\r\n      : $('body');\r\n\r\n    const templateSelection = allBindings.has('hrmSelectTemplateSelection')\r\n    ? allBindings.get('hrmSelectTemplateSelection')\r\n    : (state) => $('<span>').addClass('hrm-select__rendered-text').text(state.text);\r\n\r\n    const templateResult = allBindings.has('hrmSelectTemplateResult')\r\n    ? allBindings.get('hrmSelectTemplateResult')\r\n    : null;\r\n\r\n    const matcher = allBindings.has('hrmSelectMatcher')\r\n    ? allBindings.get('hrmSelectMatcher')\r\n    : null;\r\n\r\n    const dropdownClass = allBindings.has('hrmSelectDropdownCssClass')\r\n    ? allBindings.get('hrmSelectDropdownCssClass')\r\n    : '';\r\n\r\n    if (customValuesAllowed && !isMultiple && !searchEnabled) {\r\n      throw Error(\r\n        'You have to enable both options \"hrmSelectCustomValuesAllowed\" and \"hrmSelectSearchEnabled\"',\r\n      );\r\n    }\r\n\r\n    const options = {\r\n      minimumResultsForSearch: searchEnabled ? 0 : Infinity,\r\n      language: 'ru',\r\n      width: '100%',\r\n      dropdownAutoWidth: true,\r\n      dropdownCssClass: 'hrm-select__dropdown ' + dropdownClass,\r\n      dropdownParent,\r\n      placeholder,\r\n      allowClear,\r\n      tags: customValuesAllowed,\r\n    };\r\n\r\n    if (templateSelection) {\r\n      options.templateSelection = templateSelection;\r\n    }\r\n\r\n    if (templateResult) {\r\n      options.templateResult = templateResult;\r\n    }\r\n\r\n    if (matcher) {\r\n      options.matcher = matcher;\r\n    }\r\n\r\n    const Select = $.fn.select2.amd.require('jquery.select2');\r\n    const Search = $.fn.select2.amd.require('select2/selection/search');\r\n\r\n    const originalSelectRenderFn = Select.prototype.render;\r\n    const originalSearchUpdateFn = Search.prototype.update;\r\n\r\n    Select.prototype.render = function () {\r\n      const $container = originalSelectRenderFn.call(this, ...arguments);\r\n      $container.addClass('hrm-select');\r\n\r\n      if (wrapperClass !== undefined) {\r\n        $container.addClass(wrapperClass.split(' '));\r\n      }\r\n\r\n      return $container;\r\n    };\r\n\r\n    Search.prototype.update = function () {\r\n      originalSearchUpdateFn.call(this, ...arguments);\r\n      $element.trigger('hrm-select:search-update');\r\n    };\r\n\r\n    $element.select2(options);\r\n\r\n    Select.prototype.render = originalSelectRenderFn;\r\n    Search.prototype.update = originalSearchUpdateFn;\r\n\r\n    const select2Instance = $element.data('select2');\r\n\r\n    select2Instance.$results.unbind('mousewheel');\r\n\r\n    const $dropdownResultsContainer = $element\r\n      .data('select2')\r\n      .$results.parent();\r\n    $dropdownResultsContainer.overlayScrollbars({\r\n      callbacks: {\r\n        onUpdated: () => {\r\n          if (select2Instance.$dropdown.is(':visible')) {\r\n            select2Instance.dropdown._positionDropdown();\r\n\r\n            // Правка бага в Chrome с неправильным синхронным вычислением положения выпадающего списка\r\n            setTimeout(() => {\r\n              select2Instance.dropdown._positionDropdown();\r\n            });\r\n          }\r\n        },\r\n      },\r\n    });\r\n\r\n    function hasValue() {\r\n      const value = $element.val();\r\n      return (\r\n        value !== '' &&\r\n        value !== undefined &&\r\n        (!(value instanceof Array) || value.length !== 0)\r\n      );\r\n    }\r\n\r\n    select2Instance.$container.toggleClass('hrm-select--has-value', hasValue());\r\n\r\n    const openHandler = () => {\r\n      $dropdownResultsContainer.overlayScrollbars().scroll(0);\r\n    };\r\n\r\n    const openingHandler = () => {\r\n      select2Instance.$dropdown.hide().fadeIn(150);\r\n    };\r\n\r\n    const changeHandler = () => {\r\n      select2Instance.$container.toggleClass(\r\n        'hrm-select--has-value',\r\n        hasValue(),\r\n      );\r\n    };\r\n\r\n    let isClosingAnimated = false;\r\n    const closingHandler = () => {\r\n      if (!isClosingAnimated) {\r\n        select2Instance.$dropdown.fadeOut(150, () => {\r\n          isClosingAnimated = true;\r\n          select2Instance.close();\r\n        });\r\n\r\n        return false;\r\n      } else {\r\n        isClosingAnimated = false;\r\n        return true;\r\n      }\r\n    };\r\n\r\n    $element.on('select2:open', openHandler);\r\n    $element.on('select2:opening', openingHandler);\r\n    $element.on('select2:closing', closingHandler);\r\n    $element.on('change.select2', changeHandler);\r\n\r\n    ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n      $element.off('select2:open', openHandler);\r\n      $element.off('select2:opening', openingHandler);\r\n      $element.off('select2:closing', closingHandler);\r\n      $element.off('change.select2', changeHandler);\r\n\r\n      select2Instance.close();\r\n    });\r\n  },\r\n  update: function (element, valueAccessor, allBindings) {\r\n    const $element = $(element);\r\n    const isMultiple = $element.prop('multiple');\r\n    const value = !isMultiple\r\n      ? allBindings.get('value')\r\n      : allBindings.get('selectedOptions');\r\n\r\n    if (value !== undefined && ko.isObservable(value)) {\r\n      value.subscribe((v) => {\r\n        $element.trigger('change.select2');\r\n      });\r\n    }\r\n  },\r\n};\r\n\r\n\r\nko.bindingHandlers.bindInner = {\r\n    init: function(element, valueAccessor, allBindings, viewModel, bindingContext) {\r\n        ko.applyBindingsToDescendants(bindingContext, element);\r\n        return { controlsDescendantBindings: true };\r\n    }\r\n};\r\n","// hrmSwitch\r\n(() => {\r\n    let nextId = 0;\r\n\r\n    class HrmSwitchViewModel {\r\n        constructor(params, componentInfo) {\r\n            this._subscriptions = [];\r\n            this._$element = $(componentInfo.element);\r\n            this._exportAs = params !== undefined ? params.exportAs : undefined;\r\n\r\n            this.element = componentInfo.element;\r\n            this.id = 'hrm-switch-' + nextId++;\r\n            this.checked = hrmExtractComponentParam(params, 'checked', false);\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass(['hrm-switch']);\r\n\r\n            this._$element.toggleClass('hrm-switch--checked', this.checked());\r\n\r\n            this._subscriptions.push(this.checked.subscribe(checked => {\r\n                this._$element.toggleClass('hrm-switch--checked', checked);\r\n            }));\r\n\r\n            if (this._exportAs !== undefined) {\r\n                if (ko.isObservableArray(this._exportAs)) {\r\n                    this._exportAs.push(this);\r\n                } else {\r\n                    this._exportAs(this);\r\n                }\r\n            }\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.components.register('hrm-switch', {\r\n        viewModel: {\r\n            createViewModel: function (params, componentInfo) {\r\n                return new HrmSwitchViewModel(params, componentInfo);\r\n            }\r\n        },\r\n        template: `\r\n            <label class=\"hrm-switch__layout\">\r\n                <input data-bind=\"checked: checked, attr: {id: id}\" type=\"checkbox\" hidden>\r\n            </label>\r\n        `\r\n    });\r\n})();\r\n\r\n// hrmSwitchGroup\r\n(() => {\r\n    class HrmSwitchGroupViewModel {\r\n        constructor(element, control, label) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n            this._control = control;\r\n            this._label = label;\r\n\r\n            this.element = element;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass('hrm-switch-group');\r\n\r\n            this._subscriptions.push(ko.bindingEvent.subscribe(this.element, 'descendantsComplete', () => {\r\n                this._label().setFor(this._control().id);\r\n            }));\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmSwitchGroup = {\r\n        init: function (element, valueAccessor, allBindings, _, bindingContext) {\r\n            const control = allBindings.get('hrmSwitchGroupControlRef');\r\n            const label = allBindings.get('hrmSwitchGroupLabelRef');\r\n            const viewModel = new HrmSwitchGroupViewModel(element, control, label);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel.dispose();\r\n            });\r\n\r\n            const innerBindingContext = ko.bindingEvent.startPossiblyAsyncContentBinding(element, bindingContext);\r\n\r\n            ko.applyBindingsToDescendants(innerBindingContext, element);\r\n\r\n            return { controlsDescendantBindings: true };\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmSwitchGroupLabel\r\n(() => {\r\n    class HrmSwitchGroupLabelViewModel {\r\n        constructor(element) {\r\n            this._subscriptions = [];\r\n            this._$element = $(element);\r\n\r\n            this.element = element;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            this._$element.addClass('hrm-switch-group__label');\r\n        }\r\n\r\n        setFor(id) {\r\n            this._$element.attr('for', id);\r\n        }\r\n\r\n        dispose() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmSwitchGroupLabel = {\r\n        init: function (element, valueAccessor) {\r\n            const viewModel = new HrmSwitchGroupLabelViewModel(element);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel.dispose();\r\n            });\r\n        }\r\n    };\r\n})();\r\n","class HrmTabGroupItem {\r\n    constructor(text, disabled = false) {\r\n        this.text = text;\r\n        this.disabled = ko.observable(disabled);\r\n    }\r\n}\r\n\r\nko.components.register('hrm-tab-group', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n            $element.addClass(['hrm-tab-group']);\r\n\r\n            const HrmTabGroupViewModel = function () {\r\n                this.moreButtonElementWidth = 33.5;\r\n                this.itemMargin = 30;\r\n\r\n                this.subscriptions = [];\r\n                this.element = componentInfo.element;\r\n\r\n                this.windowResizeHandler = () => {\r\n                    this.viewportSize({width: $(window).width(), height: $(window).height()});\r\n                    this.updateWidth();\r\n                };\r\n                this.viewportSize = ko.observable({width: $(window).width(), height: $(window).height()});\r\n\r\n                this.items = params.items;\r\n                this.activeItem = hrmExtractComponentParam(params, 'activeItem', 0);\r\n                this.width = ko.observable($element.width());\r\n                this.itemWidths = ko.pureComputed(() => {\r\n                    const $itemMirror = $('<span>').css({\r\n                        'font-weight': 500,\r\n                        'font-size': '13px',\r\n                        'white-space': 'nowrap'\r\n                    });\r\n\r\n                    const $container = $('<div>').css({\r\n                        position: 'absolute',\r\n                        left: '0',\r\n                        top: '0',\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        visibility: 'hidden'\r\n                    });\r\n\r\n                    $container.appendTo(document.body);\r\n                    $container.append($itemMirror);\r\n\r\n                    const result = ko.unwrap(this.items).map(item => {\r\n                        $itemMirror.text(item.text);\r\n                        return $itemMirror.width();\r\n                    });\r\n\r\n                    $container.remove();\r\n\r\n                    return result;\r\n                });\r\n                this.maxFitItem = ko.pureComputed(() => {\r\n                    const itemWidths = this.itemWidths();\r\n                    const width = this.width();\r\n\r\n                    let w = 0;\r\n                    for (let i = 0; i < itemWidths.length; i++) {\r\n                        if (i > 0) {\r\n                            w += (itemWidths[i] + this.itemMargin);\r\n                        } else {\r\n                            w += itemWidths[i];\r\n                        }\r\n\r\n                        if (w >= width - this.moreButtonElementWidth - this.itemMargin) {\r\n                            return i !== 0 ? i - 1 : null;\r\n                        }\r\n                    }\r\n\r\n                    return itemWidths.length > 0 ? itemWidths.length - 1 : null;\r\n                });\r\n\r\n                this.updateWidth = function () {\r\n                    this.width($element.width());\r\n                };\r\n\r\n                (() => {\r\n                    $(window).on('resize', this.windowResizeHandler);\r\n                    this.windowResizeHandler();\r\n                })();\r\n            };\r\n\r\n            HrmTabGroupViewModel.prototype.dispose = function() {\r\n                this.subscriptions.forEach(s => s.dispose());\r\n                $(window).off('resize', this.windowResizeHandler);\r\n            };\r\n\r\n            return new HrmTabGroupViewModel();\r\n        }\r\n    },\r\n    template: `\r\n        <div class=\"hrm-tab-group__content-wrapper\">\r\n            <div class=\"hrm-tab-group__content\"\">\r\n\r\n                <!-- ko if: items.length > 0 -->\r\n                    <!-- ko foreach: viewportSize().width <= HRM_BREAKPOINTS.tabletMaxWidth ? items.slice(0, maxFitItem() + 1) : items -->\r\n                        <div class=\"hrm-tab-group__item\"\r\n                             data-bind=\"\r\n                                click: function() {if (!disabled()) {$component.activeItem($index());}},\r\n                                css: {\r\n                                    'hrm-tab-group__item--active': $component.activeItem() === $index(),\r\n                                    'hrm-tab-group__item--disabled': disabled\r\n                                },\r\n                                text: text\r\n                             \">\r\n                        </div>\r\n                    <!-- /ko -->\r\n\r\n                    <!-- ko if: viewportSize().width <= HRM_BREAKPOINTS.tabletMaxWidth -->\r\n                        <!-- ko if: maxFitItem() < items.length - 1 -->\r\n                            <button class=\"hrm-button hrm-tab-group__more-button\"\r\n                                    data-bind=\"\r\n                                        hrmDropdownMenu,\r\n                                        hrmDropdownMenuTemplate: 'hrm-tab-group-more-button-dropdown-menu-template',\r\n                                        hrmDropdownMenuPlacement: 'bottom-end'\r\n                                    \">\r\n                                Еще...\r\n                            </button>\r\n\r\n                            <script id=\"hrm-tab-group-more-button-dropdown-menu-template\" type=\"text/html\">\r\n                                <!-- ko foreach: items.slice(maxFitItem() + 1) -->\r\n                                    <div class=\"hrm-dropdown-menu__item\"\r\n                                         data-bind=\"\r\n                                            text: text,\r\n                                            click: function() {if (!disabled()) {$component.activeItem($index() + $component.maxFitItem() + 1);}},\r\n                                            css: {'hrm-dropdown-menu__item--disabled': disabled}\r\n                                         \">\r\n                                    </div>\r\n                                <!-- /ko -->\r\n                            </script>\r\n                        <!-- /ko -->\r\n                    <!-- /ko -->\r\n                <!-- /ko -->\r\n            </div>\r\n        </div>\r\n    `\r\n});\r\n","ko.bindingHandlers.hrmTable = {\r\n    init: function (element) {\r\n        const $element = $(element);\r\n        $element.addClass('hrm-table');\r\n    }\r\n};\r\n\r\n// hrmEditableTableCell\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, error) {\r\n            this._subscriptions = [];\r\n            this._windowResizeHandler = null;\r\n            this._clickHandler = null;\r\n            this._errorSubscription = null;\r\n            this._error = error;\r\n            this._isTabletOrMobile = null;\r\n            this._errorTippyInstance = null;\r\n            this._errorTippyClickHandler = null;\r\n            this.element = element;\r\n            this.focused = ko.observable(false);\r\n            this.click = new ko.subscribable();\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            const $content = $element.find('.hrm-table__editable-cell-content');\r\n            $element.addClass('hrm-table__editable-cell');\r\n\r\n            this._clickHandler = event => {\r\n                if (event.target === $element[0] || ($content.length > 0 && event.target === $content[0])) {\r\n                    this.click.notifySubscribers();\r\n                }\r\n            };\r\n\r\n            $element.on('click', this._clickHandler);\r\n\r\n            this._subscriptions.push(this.focused.subscribe(focused => {\r\n                $element.toggleClass('hrm-table__editable-cell--focused', focused);\r\n            }));\r\n\r\n            this._windowResizeHandler = () => {\r\n                this._onWindowResize($(window).width(), $(window).height());\r\n            };\r\n\r\n            $(window).on('resize', this._windowResizeHandler);\r\n\r\n            this._errorTippyClickHandler = event => {\r\n                const $target = $(event.target);\r\n                if ($target.hasClass('hrm-table__editable-cell-error-tooltip-close-button')) {\r\n                    this._errorTippyInstance.hide();\r\n                }\r\n            };\r\n\r\n            this.hideError = () => {\r\n                this._errorTippyInstance.hide();\r\n            };\r\n\r\n            this._errorTippyInstance = tippy(this.element, {\r\n                arrow: false,\r\n                distance: 7,\r\n                placement: 'bottom',\r\n                onCreate: instance => {\r\n                    $(instance.popperChildren.tooltip).addClass('hrm-table__editable-cell-error-tooltip');\r\n                    $(instance.popperChildren.tooltip).on('click', this._errorTippyClickHandler);\r\n                    instance.disable();\r\n                }\r\n            });\r\n\r\n            this._windowResizeHandler();\r\n\r\n            this._setError(this._error);\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            $(window).off('resize', this._windowResizeHandler);\r\n            $(this._errorTippyInstance.popperChildren.tooltip).on('click', this._errorTippyClickHandler);\r\n            this._errorTippyInstance.destroy();\r\n        }\r\n\r\n        _setError(error) {\r\n            if (this._errorSubscription !== null) {\r\n                this._errorSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(error)) {\r\n                this._errorSubscription = error.subscribe(error => {\r\n                    this._error = error;\r\n                    this._updateErrorView();\r\n                });\r\n\r\n                this._error = error();\r\n            } else {\r\n                this._error = error;\r\n            }\r\n\r\n            this._updateErrorView();\r\n        }\r\n\r\n        _updateErrorView() {\r\n            $(this.element).toggleClass('hrm-table__editable-cell--has-error', !!this._error);\r\n\r\n            if (!!this._error && this._error.message !== null) {\r\n                this._errorTippyInstance.enable();\r\n                this._errorTippyInstance.setContent(this._createErrorTooltipContent(this._error.message));\r\n\r\n                if (this._isTabletOrMobile) {\r\n                    this._errorTippyInstance.show(0);\r\n                    this._errorTippyInstance.setProps({\r\n                        interactive: true,\r\n                        appendTo: document.body,\r\n                        boundary: 'viewport',\r\n                        hideOnClick: false,\r\n                        trigger: 'manual'\r\n                    });\r\n                } else {\r\n                    this._errorTippyInstance.setProps({\r\n                        interactive: false,\r\n                        hideOnClick: true,\r\n                        trigger: 'mouseenter'\r\n                    });\r\n                }\r\n            } else {\r\n                this._errorTippyInstance.disable();\r\n            }\r\n        }\r\n\r\n        _onWindowResize(width, height) {\r\n            const isTabletOrMobile = width <= HRM_BREAKPOINTS.tabletMaxWidth;\r\n\r\n            if (this._isTabletOrMobile !== isTabletOrMobile) {\r\n                this._isTabletOrMobile = isTabletOrMobile;\r\n                this._updateErrorView();\r\n            }\r\n        }\r\n\r\n        _createErrorTooltipContent(message) {\r\n            return `\r\n                <span class=\"hrm-table__editable-cell-error-tooltip-text\">${message}</span>\r\n                <button class=\"hrm-button hrm-table__editable-cell-error-tooltip-close-button\">\r\n                </button>\r\n            `;\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmTableEditableCell = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const error = allBindings.get('hrmTableEditableCellError');\r\n            const viewModel = new ViewModel(element, error);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmTableEditableCellError'] !== allBindings.get('hrmTableEditableCellError')) {\r\n                    instance._setError(allBindings.get('hrmTableEditableCellError'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmEditableTableCellInputControl\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, owner) {\r\n            this._subscriptions = [];\r\n            this._focusHandler = null;\r\n            this._blurHandler = null;\r\n            this.element = element;\r\n            this._owner = owner;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass(['hrm-table__editable-cell-control', 'hrm-table__editable-cell-control--type_input']);\r\n\r\n            this._focusHandler = () => ko.unwrap(this._owner).focused(true);\r\n            this._blurHandler = () => ko.unwrap(this._owner).focused(false);\r\n\r\n            $element.on('focus', this._focusHandler);\r\n            $element.on('blur', this._blurHandler);\r\n\r\n            this._subscriptions.push(ko.unwrap(this._owner).click.subscribe(() => {\r\n                $element.focus();\r\n            }));\r\n\r\n            ko.unwrap(this._owner).focused($element.is(':focus'));\r\n        }\r\n\r\n        _destroy() {\r\n            const $element = $(this.element);\r\n            $element.off('focus', this._focusHandler);\r\n            $element.off('blur', this._blurHandler);\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableEditableCellInputControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const owner = allBindings.get('hrmTableEditableCellInputControlOwner');\r\n            const viewModel = new ViewModel(element, owner);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmEditableTableCellSelectControl\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, owner) {\r\n            this._subscriptions = [];\r\n            this._selectionFocusHandler = null;\r\n            this._selectionBlurHandler = null;\r\n            this._openingHandler = null;\r\n            this._closeHandler = null;\r\n            this.element = element;\r\n            this._owner = owner;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            const select2Instance = $element.data('select2');\r\n\r\n            select2Instance.$container.addClass(['hrm-table__editable-cell-control', 'hrm-table__editable-cell-control--type_select']);\r\n            select2Instance.$dropdown.children().first().addClass(['hrm-table__editable-cell-dropdown']);\r\n\r\n            const selectionFocused = ko.observable(select2Instance.$selection.is(':focus'));\r\n            const dropdownOpened = ko.observable(false);\r\n\r\n            this._subscriptions.push(\r\n                ko.computed(() => selectionFocused() || dropdownOpened())\r\n                    .subscribe(value => ko.unwrap(this._owner).focused(value))\r\n            );\r\n\r\n            this._selectionFocusHandler = () => selectionFocused(true);\r\n            this._selectionBlurHandler = () => selectionFocused(false);\r\n            this._openingHandler = () => dropdownOpened(true);\r\n            this._closeHandler = () => dropdownOpened(false);\r\n\r\n            select2Instance.$selection.on('focus', this._selectionFocusHandler);\r\n            select2Instance.$selection.on('blur', this._selectionBlurHandler);\r\n            $element.on('select2:opening', this._openingHandler);\r\n            $element.on('select2:close', this._closeHandler);\r\n\r\n            selectionFocused(select2Instance.$selection.is(':focus'));\r\n\r\n            this._subscriptions.push(ko.unwrap(this._owner).click.subscribe(() => {\r\n                select2Instance.open();\r\n            }));\r\n        }\r\n\r\n        _destroy() {\r\n            const $element = $(this.element);\r\n            const select2Instance = $element.data('select2');\r\n            select2Instance.$selection.off('focus', this._selectionFocusHandler);\r\n            select2Instance.$selection.off('blur', this._selectionBlurHandler);\r\n            $element.off('select2:opening', this._openingHandler);\r\n            $element.off('select2:close', this._closeHandler);\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableEditableCellSelectControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const owner = allBindings.get('hrmTableEditableCellSelectControlOwner');\r\n            const viewModel = new ViewModel(element, owner);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmTableStickySectionContainer\r\n(() => {\r\n    const StickyEvents = window['stickyEvents'];\r\n\r\n    class ViewModel {\r\n        constructor(element, sectionWrappers) {\r\n            this._subscriptions = [];\r\n            this._sectionWrappers = sectionWrappers;\r\n            this._sectionWrapperElementStuckHandler = null;\r\n            this._sectionWrapperElementUnstuckHandler = null;\r\n            this.element = element;\r\n            this._stickyEvents = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass('hrm-table__sticky-section-container');\r\n\r\n            const scrollableContainer = $('.hrm-scaffold__body').length > 0 ? $('.hrm-scaffold__body')[0] : $('body')[0];\r\n\r\n            this._stickyEvents = new StickyEvents({\r\n                container: scrollableContainer\r\n            });\r\n\r\n            this._stickyEvents.addStickies(this._sectionWrappers());\r\n\r\n            this._sectionWrapperElementStuckHandler = event => {\r\n                const wrapper = this._sectionWrappers().find(wrapper => wrapper.element === event.target);\r\n                wrapper.stuck(true);\r\n            };\r\n\r\n            this._sectionWrapperElementUnstuckHandler = event => {\r\n                const wrapper = this._sectionWrappers().find(wrapper => wrapper.element === event.target);\r\n                wrapper.stuck(false);\r\n            };\r\n\r\n            this._sectionWrappers().forEach(wrapper => {\r\n                wrapper.element.addEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                wrapper.element.addEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n            });\r\n\r\n            let lastSectionWrappers = [...this._sectionWrappers()];\r\n\r\n            this._subscriptions.push(this._sectionWrappers.subscribe(addedWrapper => {\r\n                _.difference(lastSectionWrappers, addedWrapper).forEach(removedElement => {\r\n                    removedElement.element.removeEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                    removedElement.element.removeEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n                });\r\n\r\n                _.difference(addedWrapper, lastSectionWrappers).forEach(addedWrapper => {\r\n                    addedWrapper.element.addEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                    addedWrapper.element.addEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n\r\n                    this._stickyEvents.addSticky(addedWrapper.element);\r\n                    $(addedWrapper.element).addClass('sticky-events');\r\n                });\r\n\r\n                lastSectionWrappers = [...addedWrapper];\r\n            }))\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._sectionWrappers().forEach(wrapper => {\r\n                wrapper.element.removeEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                wrapper.element.removeEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n            });\r\n\r\n            this._stickyEvents.disableEvents();\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableStickySectionContainer = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const sectionWrappers = allBindings.get('hrmTableStickySectionContainerSectionWrappers');\r\n            const viewModel = new ViewModel(element, sectionWrappers);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmTableStickySectionWrapper\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, sectionWrappers) {\r\n            this._subscriptions = [];\r\n            this.element = element;\r\n            this.stuck = ko.observable(false);\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass('hrm-table__sticky-section-wrapper');\r\n            $element.toggleClass('hrm-table__sticky-section-wrapper--stuck', this.stuck());\r\n\r\n            this._subscriptions.push(this.stuck.subscribe(stuck => {\r\n                $element.toggleClass('hrm-table__sticky-section-wrapper--stuck', stuck);\r\n            }));\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableStickySectionWrapper = {\r\n        init: function (element, valueAccessor) {\r\n            const viewModel = new ViewModel(element);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n","// hrmTooltip\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, text, mode = 'basic', hideOnClick) {\r\n            this._subscriptions = [];\r\n            this._textSubscription = null;\r\n            this._clickHandler = null;\r\n            this._text = null;\r\n            this._mode = mode;\r\n            this._hideOnClick = hideOnClick;\r\n            this.element = element;\r\n            this._tippyInstance = null;\r\n\r\n            this._init(text);\r\n        }\r\n\r\n        _init(text) {\r\n\r\n            if (this._mode === 'large') {\r\n                this._clickHandler = () => {\r\n                    this._tippyInstance.show();\r\n                };\r\n\r\n                $(this.element).on('click', this._clickHandler);\r\n\r\n                this._tooltipClickHandler = event => {\r\n                    const $target = $(event.target);\r\n                    if ($target.hasClass('hrm-tooltip__close-button')) {\r\n                        this._tippyInstance.hide();\r\n                    }\r\n                };\r\n            }\r\n\r\n            const triggers = [];\r\n            if (this._mode !== 'basic') triggers.push('manual');\r\n            else {\r\n                triggers.push('mouseenter');\r\n                if (!this._hideOnClick) triggers.push('click');\r\n            }\r\n\r\n            this._tippyInstance = tippy(this.element, {\r\n                arrow: false,\r\n                distance: 7,\r\n                placement: 'bottom',\r\n                interactive: true,\r\n                appendTo: document.body,\r\n                boundary: 'viewport',\r\n                hideOnClick: true,\r\n                trigger: triggers.join(' '),\r\n                onCreate: instance => {\r\n                    $(instance.popperChildren.tooltip).addClass('hrm-tooltip');\r\n                    $(instance.popperChildren.tooltip).addClass(this._mode === 'basic' ? 'hrm-tooltip--mode_basic' : 'hrm-tooltip--mode_large');\r\n\r\n                    if (this._mode === 'large') {\r\n                        $(instance.popperChildren.tooltip).on('click', this._tooltipClickHandler);\r\n                    }\r\n                }\r\n            });\r\n\r\n            this._setText(text);\r\n        }\r\n\r\n        _setText(text) {\r\n            if (this._textSubscription !== null) {\r\n                this._textSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(text)) {\r\n                this._textSubscription = text.subscribe(text => {\r\n                    this._text = text;\r\n                    this._update();\r\n                });\r\n\r\n                this._text = text();\r\n            } else {\r\n                this._text = text;\r\n            }\r\n\r\n            this._update();\r\n        }\r\n\r\n        _update() {\r\n            this._tippyInstance.setContent(this._createContent(this._text, this._mode));\r\n        }\r\n\r\n        _createContent(text, mode) {\r\n            let result = `<div class=\"hrm-tooltip__text\">${text}</div>`;\r\n\r\n            if (mode === 'large') {\r\n                result += '<button class=\"hrm-button hrm-tooltip__close-button\">Ок</button>';\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        _destroy() {\r\n            this._tippyInstance.destroy();\r\n            this._subscriptions.forEach(s => s.dispose());\r\n\r\n            if (this._mode === 'large') {\r\n                $(this.element).off('click', this._clickHandler);\r\n            }\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmTooltip = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const text = allBindings.get('hrmTooltipText');\r\n            const mode = allBindings.get('hrmTooltipMode');\r\n            const hideOnClick = allBindings.has('hrmTooltipHideOnClick');\r\n            const viewModel = new ViewModel(element, text, mode, hideOnClick);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmTooltipText'] !== allBindings.get('hrmTooltipText')) {\r\n                    instance._setText(allBindings.get('hrmTooltipText'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n","/**\r\n* @version: 3.1\r\n* @author: Dan Grossman http://www.dangrossman.info/\r\n* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.\r\n* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php\r\n* @website: http://www.daterangepicker.com/\r\n*/\r\n// Following the UMD template https://github.com/umdjs/umd/blob/master/templates/returnExportsGlobal.js\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Make globaly available as well\r\n        define(['moment', 'jquery'], function (moment, jquery) {\r\n            if (!jquery.fn) jquery.fn = {}; // webpack server rendering\r\n            if (typeof moment !== 'function' && moment.hasOwnProperty('default')) moment = moment['default']\r\n            return factory(moment, jquery);\r\n        });\r\n    } else if (typeof module === 'object' && module.exports) {\r\n        // Node / Browserify\r\n        //isomorphic issue\r\n        var jQuery = (typeof window != 'undefined') ? window.jQuery : undefined;\r\n        if (!jQuery) {\r\n            jQuery = require('jquery');\r\n            if (!jQuery.fn) jQuery.fn = {};\r\n        }\r\n        var moment = (typeof window != 'undefined' && typeof window.moment != 'undefined') ? window.moment : require('moment');\r\n        module.exports = factory(moment, jQuery);\r\n    } else {\r\n        // Browser globals\r\n        root.daterangepicker = factory(root.moment, root.jQuery);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function(moment, $) {\r\n    var DateRangePicker = function(element, options, cb) {\r\n\r\n        //default settings for options\r\n        this.parentEl = 'body';\r\n        this.element = $(element);\r\n        this.startDate = moment().startOf('day');\r\n        this.endDate = moment().endOf('day');\r\n        this.minDate = false;\r\n        this.maxDate = false;\r\n        this.maxSpan = false;\r\n        this.autoApply = false;\r\n        this.singleDatePicker = false;\r\n        this.showDropdowns = false;\r\n        this.minYear = moment().subtract(100, 'year').format('YYYY');\r\n        this.maxYear = moment().add(100, 'year').format('YYYY');\r\n        this.showWeekNumbers = false;\r\n        this.showISOWeekNumbers = false;\r\n        this.showCustomRangeLabel = true;\r\n        this.timePicker = false;\r\n        this.timePicker24Hour = false;\r\n        this.timePickerIncrement = 1;\r\n        this.timePickerSeconds = false;\r\n        this.linkedCalendars = true;\r\n        this.autoUpdateInput = true;\r\n        this.alwaysShowCalendars = true;\r\n        this.ranges = {};\r\n\r\n        this.opens = 'right';\r\n        if (this.element.hasClass('pull-right'))\r\n            this.opens = 'left';\r\n\r\n        this.drops = 'down';\r\n        if (this.element.hasClass('dropup'))\r\n            this.drops = 'up';\r\n\r\n        this.buttonClasses = 'btn btn-sm';\r\n        this.applyButtonClasses = 'btn-primary';\r\n        this.cancelButtonClasses = 'btn-default';\r\n\r\n        this.locale = {\r\n            direction: 'ltr',\r\n            format: moment.localeData().longDateFormat('L'),\r\n            separator: ' - ',\r\n            applyLabel: 'Apply',\r\n            cancelLabel: 'Cancel',\r\n            weekLabel: 'W',\r\n            customRangeLabel: 'Custom Range',\r\n            daysOfWeek: moment.weekdaysMin(),\r\n            monthNames: moment.monthsShort(),\r\n            firstDay: moment.localeData().firstDayOfWeek()\r\n        };\r\n\r\n        this.callback = function() { };\r\n\r\n        //some state information\r\n        this.isShowing = false;\r\n        this.leftCalendar = {};\r\n        this.rightCalendar = {};\r\n\r\n        //custom options from user\r\n        if (typeof options !== 'object' || options === null)\r\n            options = {};\r\n\r\n        //allow setting options with data attributes\r\n        //data-api options will be overwritten with custom javascript options\r\n        options = $.extend(this.element.data(), options);\r\n\r\n        //html template for the picker UI\r\n        if (typeof options.template !== 'string' && !(options.template instanceof $))\r\n            options.template =\r\n            '<div class=\"daterangepicker\">' +\r\n            '<span class=\"drp-selected\"></span>' +\r\n\r\n                '<div class=\"drp-calendar left\">' +\r\n                    '<div class=\"calendar-table\"></div>' +\r\n                    '<div class=\"calendar-time\"></div>' +\r\n                '</div>' +\r\n                '<div class=\"drp-calendar right\">' +\r\n                    '<div class=\"calendar-table\"></div>' +\r\n                    '<div class=\"calendar-time\"></div>' +\r\n                '</div>' +\r\n                '<div class=\"ranges\"></div>' +\r\n                '<div class=\"drp-buttons\">' +\r\n                    '<button class=\"cancelBtn\" type=\"button\"></button>' +\r\n                    '<button class=\"applyBtn\" disabled=\"disabled\" type=\"button\"></button> ' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        this.parentEl = (options.parentEl && $(options.parentEl).length) ? $(options.parentEl) : $(this.parentEl);\r\n        this.container = $(options.template).appendTo(this.parentEl);\r\n\r\n        //\r\n        // handle all the possible options overriding defaults\r\n        //\r\n\r\n        if (typeof options.locale === 'object') {\r\n\r\n            if (typeof options.locale.direction === 'string')\r\n                this.locale.direction = options.locale.direction;\r\n\r\n            if (typeof options.locale.format === 'string')\r\n                this.locale.format = options.locale.format;\r\n\r\n            if (typeof options.locale.separator === 'string')\r\n                this.locale.separator = options.locale.separator;\r\n\r\n            if (typeof options.locale.daysOfWeek === 'object')\r\n                this.locale.daysOfWeek = options.locale.daysOfWeek.slice();\r\n\r\n            if (typeof options.locale.monthNames === 'object')\r\n              this.locale.monthNames = options.locale.monthNames.slice();\r\n\r\n            if (typeof options.locale.firstDay === 'number')\r\n              this.locale.firstDay = options.locale.firstDay;\r\n\r\n            if (typeof options.locale.applyLabel === 'string')\r\n              this.locale.applyLabel = options.locale.applyLabel;\r\n\r\n            if (typeof options.locale.cancelLabel === 'string')\r\n              this.locale.cancelLabel = options.locale.cancelLabel;\r\n\r\n            if (typeof options.locale.weekLabel === 'string')\r\n              this.locale.weekLabel = options.locale.weekLabel;\r\n\r\n            if (typeof options.locale.customRangeLabel === 'string'){\r\n                //Support unicode chars in the custom range name.\r\n                var elem = document.createElement('textarea');\r\n                elem.innerHTML = options.locale.customRangeLabel;\r\n                var rangeHtml = elem.value;\r\n                this.locale.customRangeLabel = rangeHtml;\r\n            }\r\n        }\r\n        this.container.addClass(this.locale.direction);\r\n\r\n        if (typeof options.startDate === 'string')\r\n            this.startDate = moment(options.startDate, this.locale.format);\r\n\r\n        if (typeof options.endDate === 'string')\r\n            this.endDate = moment(options.endDate, this.locale.format);\r\n\r\n        if (typeof options.minDate === 'string')\r\n            this.minDate = moment(options.minDate, this.locale.format);\r\n\r\n        if (typeof options.maxDate === 'string')\r\n            this.maxDate = moment(options.maxDate, this.locale.format);\r\n\r\n        if (typeof options.startDate === 'object')\r\n            this.startDate = moment(options.startDate);\r\n\r\n        if (typeof options.endDate === 'object')\r\n            this.endDate = moment(options.endDate);\r\n\r\n        if (typeof options.minDate === 'object')\r\n            this.minDate = moment(options.minDate);\r\n\r\n        if (typeof options.maxDate === 'object')\r\n            this.maxDate = moment(options.maxDate);\r\n\r\n        // sanity check for bad options\r\n        if (this.minDate && this.startDate.isBefore(this.minDate))\r\n            this.startDate = this.minDate.clone();\r\n\r\n        // sanity check for bad options\r\n        if (this.maxDate && this.endDate.isAfter(this.maxDate))\r\n            this.endDate = this.maxDate.clone();\r\n\r\n        if (typeof options.applyButtonClasses === 'string')\r\n            this.applyButtonClasses = options.applyButtonClasses;\r\n\r\n        if (typeof options.applyClass === 'string') //backwards compat\r\n            this.applyButtonClasses = options.applyClass;\r\n\r\n        if (typeof options.cancelButtonClasses === 'string')\r\n            this.cancelButtonClasses = options.cancelButtonClasses;\r\n\r\n        if (typeof options.cancelClass === 'string') //backwards compat\r\n            this.cancelButtonClasses = options.cancelClass;\r\n\r\n        if (typeof options.maxSpan === 'object')\r\n            this.maxSpan = options.maxSpan;\r\n\r\n        if (typeof options.dateLimit === 'object') //backwards compat\r\n            this.maxSpan = options.dateLimit;\r\n\r\n        if (typeof options.opens === 'string')\r\n            this.opens = options.opens;\r\n\r\n        if (typeof options.drops === 'string')\r\n            this.drops = options.drops;\r\n\r\n        if (typeof options.showWeekNumbers === 'boolean')\r\n            this.showWeekNumbers = options.showWeekNumbers;\r\n\r\n        if (typeof options.showISOWeekNumbers === 'boolean')\r\n            this.showISOWeekNumbers = options.showISOWeekNumbers;\r\n\r\n        if (typeof options.buttonClasses === 'string')\r\n            this.buttonClasses = options.buttonClasses;\r\n\r\n        if (typeof options.buttonClasses === 'object')\r\n            this.buttonClasses = options.buttonClasses.join(' ');\r\n\r\n        if (typeof options.showDropdowns === 'boolean')\r\n            this.showDropdowns = options.showDropdowns;\r\n\r\n        if (typeof options.minYear === 'number')\r\n            this.minYear = options.minYear;\r\n\r\n        if (typeof options.maxYear === 'number')\r\n            this.maxYear = options.maxYear;\r\n\r\n        if (typeof options.showCustomRangeLabel === 'boolean')\r\n            this.showCustomRangeLabel = options.showCustomRangeLabel;\r\n\r\n        if (typeof options.singleDatePicker === 'boolean') {\r\n            this.singleDatePicker = options.singleDatePicker;\r\n            if (this.singleDatePicker)\r\n                this.endDate = this.startDate.clone();\r\n        }\r\n\r\n        if (typeof options.timePicker === 'boolean')\r\n            this.timePicker = options.timePicker;\r\n\r\n        if (typeof options.timePickerSeconds === 'boolean')\r\n            this.timePickerSeconds = options.timePickerSeconds;\r\n\r\n        if (typeof options.timePickerIncrement === 'number')\r\n            this.timePickerIncrement = options.timePickerIncrement;\r\n\r\n        if (typeof options.timePicker24Hour === 'boolean')\r\n            this.timePicker24Hour = options.timePicker24Hour;\r\n\r\n        if (typeof options.autoApply === 'boolean')\r\n            this.autoApply = options.autoApply;\r\n\r\n        if (typeof options.autoUpdateInput === 'boolean')\r\n            this.autoUpdateInput = options.autoUpdateInput;\r\n\r\n        if (typeof options.linkedCalendars === 'boolean')\r\n            this.linkedCalendars = options.linkedCalendars;\r\n\r\n        if (typeof options.isInvalidDate === 'function')\r\n            this.isInvalidDate = options.isInvalidDate;\r\n\r\n        if (typeof options.isCustomDate === 'function')\r\n            this.isCustomDate = options.isCustomDate;\r\n\r\n        if (typeof options.alwaysShowCalendars === 'boolean')\r\n            this.alwaysShowCalendars = options.alwaysShowCalendars;\r\n\r\n        // update day names order to firstDay\r\n        if (this.locale.firstDay != 0) {\r\n            var iterator = this.locale.firstDay;\r\n            while (iterator > 0) {\r\n                this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());\r\n                iterator--;\r\n            }\r\n        }\r\n\r\n        var start, end, range;\r\n\r\n        //if no start/end dates set, check if an input element contains initial values\r\n        if (typeof options.startDate === 'undefined' && typeof options.endDate === 'undefined') {\r\n            if ($(this.element).is(':text')) {\r\n                var val = $(this.element).val(),\r\n                    split = val.split(this.locale.separator);\r\n\r\n                start = end = null;\r\n\r\n                if (split.length == 2) {\r\n                    start = moment(split[0], this.locale.format);\r\n                    end = moment(split[1], this.locale.format);\r\n                } else if (this.singleDatePicker && val !== \"\") {\r\n                    start = moment(val, this.locale.format);\r\n                    end = moment(val, this.locale.format);\r\n                }\r\n                if (start !== null && end !== null) {\r\n                    this.setStartDate(start);\r\n                    this.setEndDate(end);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (typeof options.ranges === 'object') {\r\n            for (range in options.ranges) {\r\n\r\n                if (typeof options.ranges[range][0] === 'string')\r\n                    start = moment(options.ranges[range][0], this.locale.format);\r\n                else\r\n                    start = moment(options.ranges[range][0]);\r\n\r\n                if (typeof options.ranges[range][1] === 'string')\r\n                    end = moment(options.ranges[range][1], this.locale.format);\r\n                else\r\n                    end = moment(options.ranges[range][1]);\r\n\r\n                // If the start or end date exceed those allowed by the minDate or maxSpan\r\n                // options, shorten the range to the allowable period.\r\n                if (this.minDate && start.isBefore(this.minDate))\r\n                    start = this.minDate.clone();\r\n\r\n                var maxDate = this.maxDate;\r\n                if (this.maxSpan && maxDate && start.clone().add(this.maxSpan).isAfter(maxDate))\r\n                    maxDate = start.clone().add(this.maxSpan);\r\n                if (maxDate && end.isAfter(maxDate))\r\n                    end = maxDate.clone();\r\n\r\n                // If the end of the range is before the minimum or the start of the range is\r\n                // after the maximum, don't display this range option at all.\r\n                if ((this.minDate && end.isBefore(this.minDate, this.timepicker ? 'minute' : 'day'))\r\n                  || (maxDate && start.isAfter(maxDate, this.timepicker ? 'minute' : 'day')))\r\n                    continue;\r\n\r\n                //Support unicode chars in the range names.\r\n                var elem = document.createElement('textarea');\r\n                elem.innerHTML = range;\r\n                var rangeHtml = elem.value;\r\n\r\n                this.ranges[rangeHtml] = [start, end];\r\n            }\r\n\r\n            var list = '<ul>';\r\n            for (range in this.ranges) {\r\n                list += '<li data-range-key=\"' + range + '\">' + range + '</li>';\r\n            }\r\n            if (this.showCustomRangeLabel) {\r\n                list += '<li data-range-key=\"' + this.locale.customRangeLabel + '\">' + this.locale.customRangeLabel + '</li>';\r\n            }\r\n            list += '</ul>';\r\n            this.container.find('.ranges').prepend(list);\r\n        }\r\n\r\n        if (typeof cb === 'function') {\r\n            this.callback = cb;\r\n        }\r\n\r\n        if (!this.timePicker) {\r\n            this.startDate = this.startDate.startOf('day');\r\n            this.endDate = this.endDate.endOf('day');\r\n            this.container.find('.calendar-time').hide();\r\n        }\r\n\r\n        //can't be used together for now\r\n        if (this.timePicker && this.autoApply)\r\n            this.autoApply = false;\r\n\r\n        if (this.autoApply) {\r\n            this.container.addClass('auto-apply');\r\n        }\r\n\r\n        if (typeof options.ranges === 'object')\r\n            this.container.addClass('show-ranges');\r\n\r\n        if (this.singleDatePicker) {\r\n            this.container.addClass('single');\r\n            this.container.find('.drp-calendar.left').addClass('single');\r\n            this.container.find('.drp-calendar.left').show();\r\n            this.container.find('.drp-calendar.right').hide();\r\n            if (!this.timePicker && this.autoApply) {\r\n                this.container.addClass('auto-apply');\r\n            }\r\n        }\r\n\r\n        if ((typeof options.ranges === 'undefined' && !this.singleDatePicker) || this.alwaysShowCalendars) {\r\n            this.container.addClass('show-calendar');\r\n        }\r\n\r\n        this.container.addClass('opens' + this.opens);\r\n\r\n        //apply CSS classes and labels to buttons\r\n        this.container.find('.applyBtn, .cancelBtn').addClass(this.buttonClasses);\r\n        if (this.applyButtonClasses.length)\r\n            this.container.find('.applyBtn').addClass(this.applyButtonClasses);\r\n        if (this.cancelButtonClasses.length)\r\n            this.container.find('.cancelBtn').addClass(this.cancelButtonClasses);\r\n        this.container.find('.applyBtn').html(this.locale.applyLabel);\r\n        this.container.find('.cancelBtn').html(this.locale.cancelLabel);\r\n\r\n        //\r\n        // event listeners\r\n        //\r\n\r\n        this.container.find('.drp-calendar')\r\n            .on('click.daterangepicker', '.prev', $.proxy(this.clickPrev, this))\r\n            .on('click.daterangepicker', '.next', $.proxy(this.clickNext, this))\r\n            .on('mousedown.daterangepicker', 'td.available', $.proxy(this.clickDate, this))\r\n            .on('mouseenter.daterangepicker', 'td.available', $.proxy(this.hoverDate, this))\r\n            .on('change.daterangepicker', 'select.yearselect', $.proxy(this.monthOrYearChanged, this))\r\n            .on('change.daterangepicker', 'select.monthselect', $.proxy(this.monthOrYearChanged, this))\r\n            .on('change.daterangepicker', 'select.hourselect,select.minuteselect,select.secondselect,select.ampmselect', $.proxy(this.timeChanged, this));\r\n\r\n        this.container.find('.ranges')\r\n            .on('click.daterangepicker', 'li', $.proxy(this.clickRange, this));\r\n\r\n        this.container.find('.drp-buttons')\r\n            .on('click.daterangepicker', 'button.applyBtn', $.proxy(this.clickApply, this))\r\n            .on('click.daterangepicker', 'button.cancelBtn', $.proxy(this.clickCancel, this));\r\n\r\n        if (this.element.is('input') || this.element.is('button')) {\r\n            this.element.on({\r\n                'click.daterangepicker': $.proxy(this.show, this),\r\n                'focus.daterangepicker': $.proxy(this.show, this),\r\n                'keyup.daterangepicker': $.proxy(this.elementChanged, this),\r\n                'keydown.daterangepicker': $.proxy(this.keydown, this) //IE 11 compatibility\r\n            });\r\n        } else {\r\n            this.element.on('click.daterangepicker', $.proxy(this.toggle, this));\r\n            this.element.on('keydown.daterangepicker', $.proxy(this.toggle, this));\r\n        }\r\n\r\n        //\r\n        // if attached to a text input, set the initial value\r\n        //\r\n\r\n        this.updateElement();\r\n\r\n    };\r\n\r\n    DateRangePicker.prototype = {\r\n\r\n        constructor: DateRangePicker,\r\n\r\n        setStartDate: function(startDate) {\r\n            if (typeof startDate === 'string')\r\n                this.startDate = moment(startDate, this.locale.format);\r\n\r\n            if (typeof startDate === 'object')\r\n                this.startDate = moment(startDate);\r\n\r\n            if (!this.timePicker)\r\n                this.startDate = this.startDate.startOf('day');\r\n\r\n            if (this.timePicker && this.timePickerIncrement)\r\n                this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n\r\n            if (this.minDate && this.startDate.isBefore(this.minDate)) {\r\n                this.startDate = this.minDate.clone();\r\n                if (this.timePicker && this.timePickerIncrement)\r\n                    this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n            }\r\n\r\n            if (this.maxDate && this.startDate.isAfter(this.maxDate)) {\r\n                this.startDate = this.maxDate.clone();\r\n                if (this.timePicker && this.timePickerIncrement)\r\n                    this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n            }\r\n\r\n            if (!this.isShowing)\r\n                this.updateElement();\r\n\r\n            this.updateMonthsInView();\r\n        },\r\n\r\n        setEndDate: function(endDate) {\r\n            if (typeof endDate === 'string')\r\n                this.endDate = moment(endDate, this.locale.format);\r\n\r\n            if (typeof endDate === 'object')\r\n                this.endDate = moment(endDate);\r\n\r\n            if (!this.timePicker)\r\n                this.endDate = this.endDate.endOf('day');\r\n\r\n            if (this.timePicker && this.timePickerIncrement)\r\n                this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n\r\n            if (this.endDate.isBefore(this.startDate))\r\n                this.endDate = this.startDate.clone();\r\n\r\n            if (this.maxDate && this.endDate.isAfter(this.maxDate))\r\n                this.endDate = this.maxDate.clone();\r\n\r\n            if (this.maxSpan && this.startDate.clone().add(this.maxSpan).isBefore(this.endDate))\r\n                this.endDate = this.startDate.clone().add(this.maxSpan);\r\n\r\n            this.previousRightTime = this.endDate.clone();\r\n\r\n            this.container.find('.drp-selected').html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format));\r\n\r\n            if (!this.isShowing)\r\n                this.updateElement();\r\n\r\n            this.updateMonthsInView();\r\n        },\r\n\r\n        isInvalidDate: function() {\r\n            return false;\r\n        },\r\n\r\n        isCustomDate: function() {\r\n            return false;\r\n        },\r\n\r\n        updateView: function() {\r\n            if (this.timePicker) {\r\n                this.renderTimePicker('left');\r\n                this.renderTimePicker('right');\r\n                if (!this.endDate) {\r\n                    this.container.find('.right .calendar-time select').prop('disabled', true).addClass('disabled');\r\n                } else {\r\n                    this.container.find('.right .calendar-time select').prop('disabled', false).removeClass('disabled');\r\n                }\r\n            }\r\n            if (this.endDate)\r\n                this.container.find('.drp-selected').html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format));\r\n            this.updateMonthsInView();\r\n            this.updateCalendars();\r\n            this.updateFormInputs();\r\n        },\r\n\r\n        updateMonthsInView: function() {\r\n            if (this.endDate) {\r\n\r\n                //if both dates are visible already, do nothing\r\n                if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&\r\n                    (this.startDate.format('YYYY-MM') == this.leftCalendar.month.format('YYYY-MM') || this.startDate.format('YYYY-MM') == this.rightCalendar.month.format('YYYY-MM'))\r\n                    &&\r\n                    (this.endDate.format('YYYY-MM') == this.leftCalendar.month.format('YYYY-MM') || this.endDate.format('YYYY-MM') == this.rightCalendar.month.format('YYYY-MM'))\r\n                    ) {\r\n                    return;\r\n                }\r\n\r\n                this.leftCalendar.month = this.startDate.clone().date(2);\r\n                if (!this.linkedCalendars && (this.endDate.month() != this.startDate.month() || this.endDate.year() != this.startDate.year())) {\r\n                    this.rightCalendar.month = this.endDate.clone().date(2);\r\n                } else {\r\n                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\r\n                }\r\n\r\n            } else {\r\n                if (this.leftCalendar.month.format('YYYY-MM') != this.startDate.format('YYYY-MM') && this.rightCalendar.month.format('YYYY-MM') != this.startDate.format('YYYY-MM')) {\r\n                    this.leftCalendar.month = this.startDate.clone().date(2);\r\n                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\r\n                }\r\n            }\r\n            if (this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate) {\r\n              this.rightCalendar.month = this.maxDate.clone().date(2);\r\n              this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, 'month');\r\n            }\r\n        },\r\n\r\n        updateCalendars: function() {\r\n\r\n            if (this.timePicker) {\r\n                var hour, minute, second;\r\n                if (this.endDate) {\r\n                    hour = parseInt(this.container.find('.left .hourselect').val(), 10);\r\n                    minute = parseInt(this.container.find('.left .minuteselect').val(), 10);\r\n                    if (isNaN(minute)) {\r\n                        minute = parseInt(this.container.find('.left .minuteselect option:last').val(), 10);\r\n                    }\r\n                    second = this.timePickerSeconds ? parseInt(this.container.find('.left .secondselect').val(), 10) : 0;\r\n                    if (!this.timePicker24Hour) {\r\n                        var ampm = this.container.find('.left .ampmselect').val();\r\n                        if (ampm === 'PM' && hour < 12)\r\n                            hour += 12;\r\n                        if (ampm === 'AM' && hour === 12)\r\n                            hour = 0;\r\n                    }\r\n                } else {\r\n                    hour = parseInt(this.container.find('.right .hourselect').val(), 10);\r\n                    minute = parseInt(this.container.find('.right .minuteselect').val(), 10);\r\n                    if (isNaN(minute)) {\r\n                        minute = parseInt(this.container.find('.right .minuteselect option:last').val(), 10);\r\n                    }\r\n                    second = this.timePickerSeconds ? parseInt(this.container.find('.right .secondselect').val(), 10) : 0;\r\n                    if (!this.timePicker24Hour) {\r\n                        var ampm = this.container.find('.right .ampmselect').val();\r\n                        if (ampm === 'PM' && hour < 12)\r\n                            hour += 12;\r\n                        if (ampm === 'AM' && hour === 12)\r\n                            hour = 0;\r\n                    }\r\n                }\r\n                this.leftCalendar.month.hour(hour).minute(minute).second(second);\r\n                this.rightCalendar.month.hour(hour).minute(minute).second(second);\r\n            }\r\n\r\n            this.renderCalendar('left');\r\n            this.renderCalendar('right');\r\n\r\n            //highlight any predefined range matching the current start and end dates\r\n            this.container.find('.ranges li').removeClass('active');\r\n            if (this.endDate == null) return;\r\n\r\n            this.calculateChosenLabel();\r\n        },\r\n\r\n        renderCalendar: function(side) {\r\n\r\n            //\r\n            // Build the matrix of dates that will populate the calendar\r\n            //\r\n\r\n            var calendar = side == 'left' ? this.leftCalendar : this.rightCalendar;\r\n            var month = calendar.month.month();\r\n            var year = calendar.month.year();\r\n            var hour = calendar.month.hour();\r\n            var minute = calendar.month.minute();\r\n            var second = calendar.month.second();\r\n            var daysInMonth = moment([year, month]).daysInMonth();\r\n            var firstDay = moment([year, month, 1]);\r\n            var lastDay = moment([year, month, daysInMonth]);\r\n            var lastMonth = moment(firstDay).subtract(1, 'month').month();\r\n            var lastYear = moment(firstDay).subtract(1, 'month').year();\r\n            var daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\r\n            var dayOfWeek = firstDay.day();\r\n\r\n            //initialize a 6 rows x 7 columns array for the calendar\r\n            var calendar = [];\r\n            calendar.firstDay = firstDay;\r\n            calendar.lastDay = lastDay;\r\n\r\n            for (var i = 0; i < 6; i++) {\r\n                calendar[i] = [];\r\n            }\r\n\r\n            //populate the calendar with date objects\r\n            var startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;\r\n            if (startDay > daysInLastMonth)\r\n                startDay -= 7;\r\n\r\n            if (dayOfWeek == this.locale.firstDay)\r\n                startDay = daysInLastMonth - 6;\r\n\r\n            var curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\r\n\r\n            var col, row;\r\n            for (var i = 0, col = 0, row = 0; i < 42; i++, col++, curDate = moment(curDate).add(24, 'hour')) {\r\n                if (i > 0 && col % 7 === 0) {\r\n                    col = 0;\r\n                    row++;\r\n                }\r\n                calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);\r\n                curDate.hour(12);\r\n\r\n                if (this.minDate && calendar[row][col].format('YYYY-MM-DD') == this.minDate.format('YYYY-MM-DD') && calendar[row][col].isBefore(this.minDate) && side == 'left') {\r\n                    calendar[row][col] = this.minDate.clone();\r\n                }\r\n\r\n                if (this.maxDate && calendar[row][col].format('YYYY-MM-DD') == this.maxDate.format('YYYY-MM-DD') && calendar[row][col].isAfter(this.maxDate) && side == 'right') {\r\n                    calendar[row][col] = this.maxDate.clone();\r\n                }\r\n\r\n            }\r\n\r\n            //make the calendar object available to hoverDate/clickDate\r\n            if (side == 'left') {\r\n                this.leftCalendar.calendar = calendar;\r\n            } else {\r\n                this.rightCalendar.calendar = calendar;\r\n            }\r\n\r\n            //\r\n            // Display the calendar\r\n            //\r\n\r\n            var minDate = side == 'left' ? this.minDate : this.startDate;\r\n            var maxDate = this.maxDate;\r\n            var selected = side == 'left' ? this.startDate : this.endDate;\r\n            var arrow = this.locale.direction == 'ltr' ? {left: 'chevron-left', right: 'chevron-right'} : {left: 'chevron-right', right: 'chevron-left'};\r\n\r\n            var html = '<table class=\"table-condensed\">';\r\n            html += '<thead>';\r\n            html += '<tr>';\r\n\r\n            // add empty cell for week number\r\n            if (this.showWeekNumbers || this.showISOWeekNumbers)\r\n                html += '<th></th>';\r\n\r\n            if ((!minDate || minDate.isBefore(calendar.firstDay)) && (!this.linkedCalendars || side == 'left')) {\r\n                html += '<th class=\"prev available\"><span></span></th>';\r\n            } else {\r\n                html += '<th></th>';\r\n            }\r\n\r\n            var dateHtml = this.locale.monthNames[calendar[1][1].month()] + calendar[1][1].format(\" YYYY\");\r\n\r\n            if (this.showDropdowns) {\r\n                var currentMonth = calendar[1][1].month();\r\n                var currentYear = calendar[1][1].year();\r\n                var maxYear = (maxDate && maxDate.year()) || (this.maxYear);\r\n                var minYear = (minDate && minDate.year()) || (this.minYear);\r\n                var inMinYear = currentYear == minYear;\r\n                var inMaxYear = currentYear == maxYear;\r\n\r\n                var monthHtml = '<select class=\"monthselect\">';\r\n                for (var m = 0; m < 12; m++) {\r\n                    if ((!inMinYear || (minDate && m >= minDate.month())) && (!inMaxYear || (maxDate && m <= maxDate.month()))) {\r\n                        monthHtml += \"<option value='\" + m + \"'\" +\r\n                            (m === currentMonth ? \" selected='selected'\" : \"\") +\r\n                            \">\" + this.locale.monthNames[m] + \"</option>\";\r\n                    } else {\r\n                        monthHtml += \"<option value='\" + m + \"'\" +\r\n                            (m === currentMonth ? \" selected='selected'\" : \"\") +\r\n                            \" disabled='disabled'>\" + this.locale.monthNames[m] + \"</option>\";\r\n                    }\r\n                }\r\n                monthHtml += \"</select>\";\r\n\r\n                var yearHtml = '<select class=\"yearselect\">';\r\n                for (var y = minYear; y <= maxYear; y++) {\r\n                    yearHtml += '<option value=\"' + y + '\"' +\r\n                        (y === currentYear ? ' selected=\"selected\"' : '') +\r\n                        '>' + y + '</option>';\r\n                }\r\n                yearHtml += '</select>';\r\n\r\n                dateHtml = monthHtml + yearHtml;\r\n            }\r\n\r\n            html += '<th colspan=\"5\" class=\"month\">' + dateHtml + '</th>';\r\n            if ((!maxDate || maxDate.isAfter(calendar.lastDay)) && (!this.linkedCalendars || side == 'right' || this.singleDatePicker)) {\r\n                html += '<th class=\"next available\"><span></span></th>';\r\n            } else {\r\n                html += '<th></th>';\r\n            }\r\n\r\n            html += '</tr>';\r\n            html += '<tr>';\r\n\r\n            // add week number label\r\n            if (this.showWeekNumbers || this.showISOWeekNumbers)\r\n                html += '<th class=\"week\">' + this.locale.weekLabel + '</th>';\r\n\r\n            $.each(this.locale.daysOfWeek, function(index, dayOfWeek) {\r\n                html += '<th>' + dayOfWeek + '</th>';\r\n            });\r\n\r\n            html += '</tr>';\r\n            html += '</thead>';\r\n            html += '<tbody>';\r\n\r\n            //adjust maxDate to reflect the maxSpan setting in order to\r\n            //grey out end dates beyond the maxSpan\r\n            if (this.endDate == null && this.maxSpan) {\r\n                var maxLimit = this.startDate.clone().add(this.maxSpan).endOf('day');\r\n                if (!maxDate || maxLimit.isBefore(maxDate)) {\r\n                    maxDate = maxLimit;\r\n                }\r\n            }\r\n\r\n            for (var row = 0; row < 6; row++) {\r\n                html += '<tr>';\r\n\r\n                // add week number\r\n                if (this.showWeekNumbers)\r\n                    html += '<td class=\"week\">' + calendar[row][0].week() + '</td>';\r\n                else if (this.showISOWeekNumbers)\r\n                    html += '<td class=\"week\">' + calendar[row][0].isoWeek() + '</td>';\r\n\r\n                for (var col = 0; col < 7; col++) {\r\n\r\n                    var classes = [];\r\n\r\n                    //highlight today's date\r\n                    if (calendar[row][col].isSame(new Date(), \"day\"))\r\n                        classes.push('today');\r\n\r\n                    //highlight weekends\r\n                    if (calendar[row][col].isoWeekday() > 5)\r\n                        classes.push('weekend');\r\n\r\n                    //grey out the dates in other months displayed at beginning and end of this calendar\r\n                    if (calendar[row][col].month() != calendar[1][1].month())\r\n                        classes.push('off', 'ends');\r\n\r\n                    //don't allow selection of dates before the minimum date\r\n                    if (this.minDate && calendar[row][col].isBefore(this.minDate, 'day'))\r\n                        classes.push('off', 'disabled');\r\n\r\n                    //don't allow selection of dates after the maximum date\r\n                    if (maxDate && calendar[row][col].isAfter(maxDate, 'day'))\r\n                        classes.push('off', 'disabled');\r\n\r\n                    //don't allow selection of date if a custom function decides it's invalid\r\n                    if (this.isInvalidDate(calendar[row][col]))\r\n                        classes.push('off', 'disabled');\r\n\r\n                    //highlight the currently selected start date\r\n                    if (calendar[row][col].format('YYYY-MM-DD') == this.startDate.format('YYYY-MM-DD'))\r\n                        classes.push('active', 'start-date');\r\n\r\n                    //highlight the currently selected end date\r\n                    if (this.endDate != null && calendar[row][col].format('YYYY-MM-DD') == this.endDate.format('YYYY-MM-DD'))\r\n                        classes.push('active', 'end-date');\r\n\r\n                    //highlight dates in-between the selected dates\r\n                    if (this.endDate != null && calendar[row][col] > this.startDate && calendar[row][col] < this.endDate)\r\n                        classes.push('in-range');\r\n\r\n                    //apply custom classes for this date\r\n                    var isCustom = this.isCustomDate(calendar[row][col]);\r\n                    if (isCustom !== false) {\r\n                        if (typeof isCustom === 'string')\r\n                            classes.push(isCustom);\r\n                        else\r\n                            Array.prototype.push.apply(classes, isCustom);\r\n                    }\r\n\r\n                    var cname = '', disabled = false;\r\n                    for (var i = 0; i < classes.length; i++) {\r\n                        cname += classes[i] + ' ';\r\n                        if (classes[i] == 'disabled')\r\n                            disabled = true;\r\n                    }\r\n                    if (!disabled)\r\n                        cname += 'available';\r\n\r\n                    html += '<td class=\"' + cname.replace(/^\\s+|\\s+$/g, '') + '\" data-title=\"' + 'r' + row + 'c' + col + '\">' + calendar[row][col].date() + '</td>';\r\n\r\n                }\r\n                html += '</tr>';\r\n            }\r\n\r\n            html += '</tbody>';\r\n            html += '</table>';\r\n\r\n            this.container.find('.drp-calendar.' + side + ' .calendar-table').html(html);\r\n\r\n        },\r\n\r\n        renderTimePicker: function(side) {\r\n\r\n            // Don't bother updating the time picker if it's currently disabled\r\n            // because an end date hasn't been clicked yet\r\n            if (side == 'right' && !this.endDate) return;\r\n\r\n            var html, selected, minDate, maxDate = this.maxDate;\r\n\r\n            if (this.maxSpan && (!this.maxDate || this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)))\r\n                maxDate = this.startDate.clone().add(this.maxSpan);\r\n\r\n            if (side == 'left') {\r\n                selected = this.startDate.clone();\r\n                minDate = this.minDate;\r\n            } else if (side == 'right') {\r\n                selected = this.endDate.clone();\r\n                minDate = this.startDate;\r\n\r\n                //Preserve the time already selected\r\n                var timeSelector = this.container.find('.drp-calendar.right .calendar-time');\r\n                if (timeSelector.html() != '') {\r\n\r\n                    selected.hour(!isNaN(selected.hour()) ? selected.hour() : timeSelector.find('.hourselect option:selected').val());\r\n                    selected.minute(!isNaN(selected.minute()) ? selected.minute() : timeSelector.find('.minuteselect option:selected').val());\r\n                    selected.second(!isNaN(selected.second()) ? selected.second() : timeSelector.find('.secondselect option:selected').val());\r\n\r\n                    if (!this.timePicker24Hour) {\r\n                        var ampm = timeSelector.find('.ampmselect option:selected').val();\r\n                        if (ampm === 'PM' && selected.hour() < 12)\r\n                            selected.hour(selected.hour() + 12);\r\n                        if (ampm === 'AM' && selected.hour() === 12)\r\n                            selected.hour(0);\r\n                    }\r\n\r\n                }\r\n\r\n                if (selected.isBefore(this.startDate))\r\n                    selected = this.startDate.clone();\r\n\r\n                if (maxDate && selected.isAfter(maxDate))\r\n                    selected = maxDate.clone();\r\n\r\n            }\r\n\r\n            //\r\n            // hours\r\n            //\r\n\r\n            html = '<select class=\"hourselect\">';\r\n\r\n            var start = this.timePicker24Hour ? 0 : 1;\r\n            var end = this.timePicker24Hour ? 23 : 12;\r\n\r\n            for (var i = start; i <= end; i++) {\r\n                var i_in_24 = i;\r\n                if (!this.timePicker24Hour)\r\n                    i_in_24 = selected.hour() >= 12 ? (i == 12 ? 12 : i + 12) : (i == 12 ? 0 : i);\r\n\r\n                var time = selected.clone().hour(i_in_24);\r\n                var disabled = false;\r\n                if (minDate && time.minute(59).isBefore(minDate))\r\n                    disabled = true;\r\n                if (maxDate && time.minute(0).isAfter(maxDate))\r\n                    disabled = true;\r\n\r\n                if (i_in_24 == selected.hour() && !disabled) {\r\n                    html += '<option value=\"' + i + '\" selected=\"selected\">' + i + '</option>';\r\n                } else if (disabled) {\r\n                    html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + i + '</option>';\r\n                } else {\r\n                    html += '<option value=\"' + i + '\">' + i + '</option>';\r\n                }\r\n            }\r\n\r\n            html += '</select> ';\r\n\r\n            //\r\n            // minutes\r\n            //\r\n\r\n            html += ': <select class=\"minuteselect\">';\r\n\r\n            for (var i = 0; i < 60; i += this.timePickerIncrement) {\r\n                var padded = i < 10 ? '0' + i : i;\r\n                var time = selected.clone().minute(i);\r\n\r\n                var disabled = false;\r\n                if (minDate && time.second(59).isBefore(minDate))\r\n                    disabled = true;\r\n                if (maxDate && time.second(0).isAfter(maxDate))\r\n                    disabled = true;\r\n\r\n                if (selected.minute() == i && !disabled) {\r\n                    html += '<option value=\"' + i + '\" selected=\"selected\">' + padded + '</option>';\r\n                } else if (disabled) {\r\n                    html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + padded + '</option>';\r\n                } else {\r\n                    html += '<option value=\"' + i + '\">' + padded + '</option>';\r\n                }\r\n            }\r\n\r\n            html += '</select> ';\r\n\r\n            //\r\n            // seconds\r\n            //\r\n\r\n            if (this.timePickerSeconds) {\r\n                html += ': <select class=\"secondselect\">';\r\n\r\n                for (var i = 0; i < 60; i++) {\r\n                    var padded = i < 10 ? '0' + i : i;\r\n                    var time = selected.clone().second(i);\r\n\r\n                    var disabled = false;\r\n                    if (minDate && time.isBefore(minDate))\r\n                        disabled = true;\r\n                    if (maxDate && time.isAfter(maxDate))\r\n                        disabled = true;\r\n\r\n                    if (selected.second() == i && !disabled) {\r\n                        html += '<option value=\"' + i + '\" selected=\"selected\">' + padded + '</option>';\r\n                    } else if (disabled) {\r\n                        html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + padded + '</option>';\r\n                    } else {\r\n                        html += '<option value=\"' + i + '\">' + padded + '</option>';\r\n                    }\r\n                }\r\n\r\n                html += '</select> ';\r\n            }\r\n\r\n            //\r\n            // AM/PM\r\n            //\r\n\r\n            if (!this.timePicker24Hour) {\r\n                html += '<select class=\"ampmselect\">';\r\n\r\n                var am_html = '';\r\n                var pm_html = '';\r\n\r\n                if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate))\r\n                    am_html = ' disabled=\"disabled\" class=\"disabled\"';\r\n\r\n                if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate))\r\n                    pm_html = ' disabled=\"disabled\" class=\"disabled\"';\r\n\r\n                if (selected.hour() >= 12) {\r\n                    html += '<option value=\"AM\"' + am_html + '>AM</option><option value=\"PM\" selected=\"selected\"' + pm_html + '>PM</option>';\r\n                } else {\r\n                    html += '<option value=\"AM\" selected=\"selected\"' + am_html + '>AM</option><option value=\"PM\"' + pm_html + '>PM</option>';\r\n                }\r\n\r\n                html += '</select>';\r\n            }\r\n\r\n            this.container.find('.drp-calendar.' + side + ' .calendar-time').html(html);\r\n\r\n        },\r\n\r\n        updateFormInputs: function() {\r\n\r\n            if (this.singleDatePicker || (this.endDate && (this.startDate.isBefore(this.endDate) || this.startDate.isSame(this.endDate)))) {\r\n                this.container.find('button.applyBtn').prop('disabled', false);\r\n            } else {\r\n                this.container.find('button.applyBtn').prop('disabled', true);\r\n            }\r\n\r\n        },\r\n\r\n        move: function() {\r\n            var parentOffset = { top: 0, left: 0 },\r\n                containerTop,\r\n                drops = this.drops;\r\n\r\n            var parentRightEdge = $(window).width();\r\n            if (!this.parentEl.is('body')) {\r\n                parentOffset = {\r\n                    top: this.parentEl.offset().top - this.parentEl.scrollTop(),\r\n                    left: this.parentEl.offset().left - this.parentEl.scrollLeft()\r\n                };\r\n                parentRightEdge = this.parentEl[0].clientWidth + this.parentEl.offset().left;\r\n            }\r\n\r\n            switch (drops) {\r\n            case 'auto':\r\n                containerTop = this.element.offset().top + this.element.outerHeight() - parentOffset.top;\r\n                if (containerTop + this.container.outerHeight() >= this.parentEl[0].scrollHeight) {\r\n                    containerTop = this.element.offset().top - this.container.outerHeight() - parentOffset.top;\r\n                    drops = 'up';\r\n                }\r\n                break;\r\n            case 'up':\r\n                containerTop = this.element.offset().top - this.container.outerHeight() - parentOffset.top;\r\n                break;\r\n            default:\r\n                containerTop = this.element.offset().top + this.element.outerHeight() - parentOffset.top;\r\n                break;\r\n            }\r\n\r\n            // Force the container to it's actual width\r\n            this.container.css({\r\n              top: 0,\r\n              left: 0,\r\n              right: 'auto'\r\n            });\r\n            var containerWidth = this.container.outerWidth();\r\n\r\n            this.container.toggleClass('drop-up', drops == 'up');\r\n\r\n            if (this.opens == 'left') {\r\n                var containerRight = parentRightEdge - this.element.offset().left - this.element.outerWidth();\r\n                if (containerWidth + containerRight > $(window).width()) {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        right: 'auto',\r\n                        left: 9\r\n                    });\r\n                } else {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        right: containerRight,\r\n                        left: 'auto'\r\n                    });\r\n                }\r\n            } else if (this.opens == 'center') {\r\n                var containerLeft = this.element.offset().left - parentOffset.left + this.element.outerWidth() / 2\r\n                                        - containerWidth / 2;\r\n                if (containerLeft < 0) {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        right: 'auto',\r\n                        left: 9\r\n                    });\r\n                } else if (containerLeft + containerWidth > $(window).width()) {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        left: 'auto',\r\n                        right: 0\r\n                    });\r\n                } else {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        left: containerLeft,\r\n                        right: 'auto'\r\n                    });\r\n                }\r\n            } else {\r\n                var containerLeft = this.element.offset().left - parentOffset.left;\r\n                if (containerLeft + containerWidth > $(window).width()) {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        left: 'auto',\r\n                        right: 0\r\n                    });\r\n                } else {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        left: containerLeft,\r\n                        right: 'auto'\r\n                    });\r\n                }\r\n            }\r\n        },\r\n\r\n        show: function(e) {\r\n            if (this.isShowing) return;\r\n\r\n            // Create a click proxy that is private to this instance of datepicker, for unbinding\r\n            this._outsideClickProxy = $.proxy(function(e) { this.outsideClick(e); }, this);\r\n\r\n            // Bind global datepicker mousedown for hiding and\r\n            $(document)\r\n              .on('mousedown.daterangepicker', this._outsideClickProxy)\r\n              // also support mobile devices\r\n              .on('touchend.daterangepicker', this._outsideClickProxy)\r\n              // also explicitly play nice with Bootstrap dropdowns, which stopPropagation when clicking them\r\n              .on('click.daterangepicker', '[data-toggle=dropdown]', this._outsideClickProxy)\r\n              // and also close when focus changes to outside the picker (eg. tabbing between controls)\r\n              .on('focusin.daterangepicker', this._outsideClickProxy);\r\n\r\n            // Reposition the picker if the window is resized while it's open\r\n            $(window).on('resize.daterangepicker', $.proxy(function(e) { this.move(e); }, this));\r\n\r\n            this.oldStartDate = this.startDate.clone();\r\n            this.oldEndDate = this.endDate.clone();\r\n            this.previousRightTime = this.endDate.clone();\r\n\r\n            this.updateView();\r\n            this.container.show();\r\n            this.move();\r\n            this.element.trigger('show.daterangepicker', this);\r\n            this.isShowing = true;\r\n        },\r\n\r\n        hide: function(e) {\r\n            if (!this.isShowing) return;\r\n\r\n            //incomplete date selection, revert to last values\r\n            if (!this.endDate) {\r\n                this.startDate = this.oldStartDate.clone();\r\n                this.endDate = this.oldEndDate.clone();\r\n            }\r\n\r\n            //if a new date range was selected, invoke the user callback function\r\n            if (!this.startDate.isSame(this.oldStartDate) || !this.endDate.isSame(this.oldEndDate))\r\n                this.callback(this.startDate.clone(), this.endDate.clone(), this.chosenLabel);\r\n\r\n            //if picker is attached to a text input, update it\r\n            this.updateElement();\r\n\r\n            $(document).off('.daterangepicker');\r\n            $(window).off('.daterangepicker');\r\n            this.container.hide();\r\n            this.element.trigger('hide.daterangepicker', this);\r\n            this.isShowing = false;\r\n        },\r\n\r\n        toggle: function(e) {\r\n            if (this.isShowing) {\r\n                this.hide();\r\n            } else {\r\n                this.show();\r\n            }\r\n        },\r\n\r\n        outsideClick: function(e) {\r\n            var target = $(e.target);\r\n            // if the page is clicked anywhere except within the daterangerpicker/button\r\n            // itself then call this.hide()\r\n            if (\r\n                // ie modal dialog fix\r\n                e.type == \"focusin\" ||\r\n                target.closest(this.element).length ||\r\n                target.closest(this.container).length ||\r\n                target.closest('.calendar-table').length\r\n                ) return;\r\n            this.hide();\r\n            this.element.trigger('outsideClick.daterangepicker', this);\r\n        },\r\n\r\n        showCalendars: function() {\r\n            this.container.addClass('show-calendar');\r\n            this.move();\r\n            this.element.trigger('showCalendar.daterangepicker', this);\r\n        },\r\n\r\n        hideCalendars: function() {\r\n            this.container.removeClass('show-calendar');\r\n            this.element.trigger('hideCalendar.daterangepicker', this);\r\n        },\r\n\r\n        clickRange: function(e) {\r\n            var label = e.target.getAttribute('data-range-key');\r\n            this.chosenLabel = label;\r\n            if (label == this.locale.customRangeLabel) {\r\n                this.showCalendars();\r\n            } else {\r\n                var dates = this.ranges[label];\r\n                this.startDate = dates[0];\r\n                this.endDate = dates[1];\r\n\r\n                if (!this.timePicker) {\r\n                    this.startDate.startOf('day');\r\n                    this.endDate.endOf('day');\r\n                }\r\n\r\n                if (!this.alwaysShowCalendars)\r\n                    this.hideCalendars();\r\n                this.clickApply();\r\n            }\r\n        },\r\n\r\n        clickPrev: function(e) {\r\n            var cal = $(e.target).parents('.drp-calendar');\r\n            if (cal.hasClass('left')) {\r\n                this.leftCalendar.month.subtract(1, 'month');\r\n                if (this.linkedCalendars)\r\n                    this.rightCalendar.month.subtract(1, 'month');\r\n            } else {\r\n                this.rightCalendar.month.subtract(1, 'month');\r\n            }\r\n            this.updateCalendars();\r\n        },\r\n\r\n        clickNext: function(e) {\r\n            var cal = $(e.target).parents('.drp-calendar');\r\n            if (cal.hasClass('left')) {\r\n                this.leftCalendar.month.add(1, 'month');\r\n            } else {\r\n                this.rightCalendar.month.add(1, 'month');\r\n                if (this.linkedCalendars)\r\n                    this.leftCalendar.month.add(1, 'month');\r\n            }\r\n            this.updateCalendars();\r\n        },\r\n\r\n        hoverDate: function(e) {\r\n\r\n            //ignore dates that can't be selected\r\n            if (!$(e.target).hasClass('available')) return;\r\n\r\n            var title = $(e.target).attr('data-title');\r\n            var row = title.substr(1, 1);\r\n            var col = title.substr(3, 1);\r\n            var cal = $(e.target).parents('.drp-calendar');\r\n            var date = cal.hasClass('left') ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\r\n\r\n            //highlight the dates between the start date and the date being hovered as a potential end date\r\n            var leftCalendar = this.leftCalendar;\r\n            var rightCalendar = this.rightCalendar;\r\n            var startDate = this.startDate;\r\n            if (!this.endDate) {\r\n                this.container.find('.drp-calendar tbody td').each(function(index, el) {\r\n\r\n                    //skip week numbers, only look at dates\r\n                    if ($(el).hasClass('week')) return;\r\n\r\n                    var title = $(el).attr('data-title');\r\n                    var row = title.substr(1, 1);\r\n                    var col = title.substr(3, 1);\r\n                    var cal = $(el).parents('.drp-calendar');\r\n                    var dt = cal.hasClass('left') ? leftCalendar.calendar[row][col] : rightCalendar.calendar[row][col];\r\n\r\n                    if ((dt.isAfter(startDate) && dt.isBefore(date)) || dt.isSame(date, 'day')) {\r\n                        $(el).addClass('in-range');\r\n                    } else {\r\n                        $(el).removeClass('in-range');\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n        },\r\n\r\n        clickDate: function(e) {\r\n\r\n            if (!$(e.target).hasClass('available')) return;\r\n\r\n            var title = $(e.target).attr('data-title');\r\n            var row = title.substr(1, 1);\r\n            var col = title.substr(3, 1);\r\n            var cal = $(e.target).parents('.drp-calendar');\r\n            var date = cal.hasClass('left') ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\r\n\r\n            //\r\n            // this function needs to do a few things:\r\n            // * alternate between selecting a start and end date for the range,\r\n            // * if the time picker is enabled, apply the hour/minute/second from the select boxes to the clicked date\r\n            // * if autoapply is enabled, and an end date was chosen, apply the selection\r\n            // * if single date picker mode, and time picker isn't enabled, apply the selection immediately\r\n            // * if one of the inputs above the calendars was focused, cancel that manual input\r\n            //\r\n\r\n            if (this.endDate || date.isBefore(this.startDate, 'day')) { //picking start\r\n                if (this.timePicker) {\r\n                    var hour = parseInt(this.container.find('.left .hourselect').val(), 10);\r\n                    if (!this.timePicker24Hour) {\r\n                        var ampm = this.container.find('.left .ampmselect').val();\r\n                        if (ampm === 'PM' && hour < 12)\r\n                            hour += 12;\r\n                        if (ampm === 'AM' && hour === 12)\r\n                            hour = 0;\r\n                    }\r\n                    var minute = parseInt(this.container.find('.left .minuteselect').val(), 10);\r\n                    if (isNaN(minute)) {\r\n                        minute = parseInt(this.container.find('.left .minuteselect option:last').val(), 10);\r\n                    }\r\n                    var second = this.timePickerSeconds ? parseInt(this.container.find('.left .secondselect').val(), 10) : 0;\r\n                    date = date.clone().hour(hour).minute(minute).second(second);\r\n                }\r\n                this.endDate = null;\r\n                this.setStartDate(date.clone());\r\n            } else if (!this.endDate && date.isBefore(this.startDate)) {\r\n                //special case: clicking the same date for start/end,\r\n                //but the time of the end date is before the start date\r\n                this.setEndDate(this.startDate.clone());\r\n            } else { // picking end\r\n                if (this.timePicker) {\r\n                    var hour = parseInt(this.container.find('.right .hourselect').val(), 10);\r\n                    if (!this.timePicker24Hour) {\r\n                        var ampm = this.container.find('.right .ampmselect').val();\r\n                        if (ampm === 'PM' && hour < 12)\r\n                            hour += 12;\r\n                        if (ampm === 'AM' && hour === 12)\r\n                            hour = 0;\r\n                    }\r\n                    var minute = parseInt(this.container.find('.right .minuteselect').val(), 10);\r\n                    if (isNaN(minute)) {\r\n                        minute = parseInt(this.container.find('.right .minuteselect option:last').val(), 10);\r\n                    }\r\n                    var second = this.timePickerSeconds ? parseInt(this.container.find('.right .secondselect').val(), 10) : 0;\r\n                    date = date.clone().hour(hour).minute(minute).second(second);\r\n                }\r\n                this.setEndDate(date.clone());\r\n                if (this.autoApply) {\r\n                  this.calculateChosenLabel();\r\n                  this.clickApply();\r\n                }\r\n            }\r\n\r\n            if (this.singleDatePicker) {\r\n                this.setEndDate(this.startDate);\r\n                if (!this.timePicker && this.autoApply)\r\n                    this.clickApply();\r\n            }\r\n\r\n            this.updateView();\r\n\r\n            //This is to cancel the blur event handler if the mouse was in one of the inputs\r\n            e.stopPropagation();\r\n\r\n        },\r\n\r\n        calculateChosenLabel: function () {\r\n            var customRange = true;\r\n            var i = 0;\r\n            for (var range in this.ranges) {\r\n              if (this.timePicker) {\r\n                    var format = this.timePickerSeconds ? \"YYYY-MM-DD HH:mm:ss\" : \"YYYY-MM-DD HH:mm\";\r\n                    //ignore times when comparing dates if time picker seconds is not enabled\r\n                    if (this.startDate.format(format) == this.ranges[range][0].format(format) && this.endDate.format(format) == this.ranges[range][1].format(format)) {\r\n                        customRange = false;\r\n                        this.chosenLabel = this.container.find('.ranges li:eq(' + i + ')').addClass('active').attr('data-range-key');\r\n                        break\r\n                    }\r\n                } else {\r\n                    //ignore times when comparing dates if time picker is not enabled\r\n                    if (this.startDate.format('YYYY-MM-DD') == this.ranges[range][0].format('YYYY-MM-DD') && this.endDate.format('YYYY-MM-DD') == this.ranges[range][1].format('YYYY-MM-DD')) {\r\n                        customRange = false;\r\n                        this.chosenLabel = this.container.find('.ranges li:eq(' + i + ')').addClass('active').attr('data-range-key');\r\n                        break;\r\n                    }\r\n                }\r\n                i++;\r\n            }\r\n            if (customRange) {\r\n                if (this.showCustomRangeLabel) {\r\n                    this.chosenLabel = this.container.find('.ranges li:last').addClass('active').attr('data-range-key');\r\n                } else {\r\n                    this.chosenLabel = null;\r\n                }\r\n                this.showCalendars();\r\n            }\r\n        },\r\n\r\n        clickApply: function(e) {\r\n            this.hide();\r\n            this.element.trigger('apply.daterangepicker', this);\r\n        },\r\n\r\n        clickCancel: function(e) {\r\n            this.startDate = moment().subtract(1, 'days');\r\n            this.endDate = moment().subtract(1, 'days');\r\n            this.hide();\r\n            this.element.trigger('cancel.daterangepicker', this);\r\n        },\r\n\r\n        monthOrYearChanged: function(e) {\r\n            var isLeft = $(e.target).closest('.drp-calendar').hasClass('left'),\r\n                leftOrRight = isLeft ? 'left' : 'right',\r\n                cal = this.container.find('.drp-calendar.'+leftOrRight);\r\n\r\n            // Month must be Number for new moment versions\r\n            var month = parseInt(cal.find('.monthselect').val(), 10);\r\n            var year = cal.find('.yearselect').val();\r\n\r\n            if (!isLeft) {\r\n                if (year < this.startDate.year() || (year == this.startDate.year() && month < this.startDate.month())) {\r\n                    month = this.startDate.month();\r\n                    year = this.startDate.year();\r\n                }\r\n            }\r\n\r\n            if (this.minDate) {\r\n                if (year < this.minDate.year() || (year == this.minDate.year() && month < this.minDate.month())) {\r\n                    month = this.minDate.month();\r\n                    year = this.minDate.year();\r\n                }\r\n            }\r\n\r\n            if (this.maxDate) {\r\n                if (year > this.maxDate.year() || (year == this.maxDate.year() && month > this.maxDate.month())) {\r\n                    month = this.maxDate.month();\r\n                    year = this.maxDate.year();\r\n                }\r\n            }\r\n\r\n            if (isLeft) {\r\n                this.leftCalendar.month.month(month).year(year);\r\n                if (this.linkedCalendars)\r\n                    this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');\r\n            } else {\r\n                this.rightCalendar.month.month(month).year(year);\r\n                if (this.linkedCalendars)\r\n                    this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');\r\n            }\r\n            this.updateCalendars();\r\n        },\r\n\r\n        timeChanged: function(e) {\r\n\r\n            var cal = $(e.target).closest('.drp-calendar'),\r\n                isLeft = cal.hasClass('left');\r\n\r\n            var hour = parseInt(cal.find('.hourselect').val(), 10);\r\n            var minute = parseInt(cal.find('.minuteselect').val(), 10);\r\n            if (isNaN(minute)) {\r\n                minute = parseInt(cal.find('.minuteselect option:last').val(), 10);\r\n            }\r\n            var second = this.timePickerSeconds ? parseInt(cal.find('.secondselect').val(), 10) : 0;\r\n\r\n            if (!this.timePicker24Hour) {\r\n                var ampm = cal.find('.ampmselect').val();\r\n                if (ampm === 'PM' && hour < 12)\r\n                    hour += 12;\r\n                if (ampm === 'AM' && hour === 12)\r\n                    hour = 0;\r\n            }\r\n\r\n            if (isLeft) {\r\n                var start = this.startDate.clone();\r\n                start.hour(hour);\r\n                start.minute(minute);\r\n                start.second(second);\r\n                this.setStartDate(start);\r\n                if (this.singleDatePicker) {\r\n                    this.endDate = this.startDate.clone();\r\n                } else if (this.endDate && this.endDate.format('YYYY-MM-DD') == start.format('YYYY-MM-DD') && this.endDate.isBefore(start)) {\r\n                    this.setEndDate(start.clone());\r\n                }\r\n            } else if (this.endDate) {\r\n                var end = this.endDate.clone();\r\n                end.hour(hour);\r\n                end.minute(minute);\r\n                end.second(second);\r\n                this.setEndDate(end);\r\n            }\r\n\r\n            //update the calendars so all clickable dates reflect the new time component\r\n            this.updateCalendars();\r\n\r\n            //update the form inputs above the calendars with the new time\r\n            this.updateFormInputs();\r\n\r\n            //re-render the time pickers because changing one selection can affect what's enabled in another\r\n            this.renderTimePicker('left');\r\n            this.renderTimePicker('right');\r\n\r\n        },\r\n\r\n        elementChanged: function() {\r\n            if (!this.element.is('input')) return;\r\n            if (!this.element.val().length) return;\r\n\r\n            var dateString = this.element.val().split(this.locale.separator),\r\n                start = null,\r\n                end = null;\r\n\r\n            if (dateString.length === 2) {\r\n                start = moment(dateString[0], this.locale.format);\r\n                end = moment(dateString[1], this.locale.format);\r\n            }\r\n\r\n            if (this.singleDatePicker || start === null || end === null) {\r\n                start = moment(this.element.val(), this.locale.format);\r\n                end = start;\r\n            }\r\n\r\n            if (!start.isValid() || !end.isValid()) return;\r\n\r\n            this.setStartDate(start);\r\n            this.setEndDate(end);\r\n            this.updateView();\r\n        },\r\n\r\n        keydown: function(e) {\r\n            //hide on tab or enter\r\n            if ((e.keyCode === 9) || (e.keyCode === 13)) {\r\n                this.hide();\r\n            }\r\n\r\n            //hide on esc and prevent propagation\r\n            if (e.keyCode === 27) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                this.hide();\r\n            }\r\n        },\r\n\r\n        updateElement: function() {\r\n            if (this.element.is('input') && this.autoUpdateInput) {\r\n                var newValue = this.startDate.format(this.locale.format);\r\n                if (!this.singleDatePicker) {\r\n                    newValue += this.locale.separator + this.endDate.format(this.locale.format);\r\n                }\r\n                if (newValue !== this.element.val()) {\r\n                    this.element.val(newValue).trigger('change');\r\n                }\r\n            }\r\n        },\r\n\r\n        remove: function() {\r\n            this.container.remove();\r\n            this.element.off('.daterangepicker');\r\n            this.element.removeData();\r\n        }\r\n\r\n    };\r\n\r\n    $.fn.daterangepicker = function(options, callback) {\r\n        var implementOptions = $.extend(true, {}, $.fn.daterangepicker.defaultOptions, options);\r\n        this.each(function() {\r\n            var el = $(this);\r\n            if (el.data('daterangepicker'))\r\n                el.data('daterangepicker').remove();\r\n            el.data('daterangepicker', new DateRangePicker(el, implementOptions, callback));\r\n        });\r\n        return this;\r\n    };\r\n\r\n    return DateRangePicker;\r\n\r\n}));","/**\r\n* @version: 3.1\r\n* @author: Dan Grossman http://www.dangrossman.info/\r\n* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.\r\n* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php\r\n* @website: http://www.daterangepicker.com/\r\n*/\r\n// Following the UMD template https://github.com/umdjs/umd/blob/master/templates/returnExportsGlobal.js\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Make globaly available as well\r\n        define(['moment', 'jquery'], function (moment, jquery) {\r\n            if (!jquery.fn) jquery.fn = {}; // webpack server rendering\r\n            if (typeof moment !== 'function' && moment.hasOwnProperty('default')) moment = moment['default']\r\n            return factory(moment, jquery);\r\n        });\r\n    } else if (typeof module === 'object' && module.exports) {\r\n        // Node / Browserify\r\n        //isomorphic issue\r\n        var jQuery = (typeof window != 'undefined') ? window.jQuery : undefined;\r\n        if (!jQuery) {\r\n            jQuery = require('jquery');\r\n            if (!jQuery.fn) jQuery.fn = {};\r\n        }\r\n        var moment = (typeof window != 'undefined' && typeof window.moment != 'undefined') ? window.moment : require('moment');\r\n        module.exports = factory(moment, jQuery);\r\n    } else {\r\n        // Browser globals\r\n        root.daterangepicker = factory(root.moment, root.jQuery);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function(moment, $) {\r\n    var DateRangePicker = function(element, options, cb) {\r\n\r\n        //default settings for options\r\n        this.parentEl = 'body';\r\n        this.element = $(element);\r\n        this.startDate = moment().startOf('day');\r\n        this.endDate = moment().endOf('day');\r\n        this.minDate = false;\r\n        this.maxDate = false;\r\n        this.maxSpan = false;\r\n        this.autoApply = false;\r\n        this.singleDatePicker = false;\r\n        this.showDropdowns = false;\r\n        this.minYear = moment().subtract(100, 'year').format('YYYY');\r\n        this.maxYear = moment().add(100, 'year').format('YYYY');\r\n        this.showWeekNumbers = false;\r\n        this.showISOWeekNumbers = false;\r\n        this.showCustomRangeLabel = true;\r\n        this.timePicker = false;\r\n        this.timePicker24Hour = false;\r\n        this.timePickerIncrement = 1;\r\n        this.timePickerSeconds = false;\r\n        this.linkedCalendars = true;\r\n        this.autoUpdateInput = true;\r\n        this.alwaysShowCalendars = true;\r\n        this.ranges = {};\r\n\r\n        this.opens = 'right';\r\n        if (this.element.hasClass('pull-right'))\r\n            this.opens = 'left';\r\n\r\n        this.drops = 'down';\r\n        if (this.element.hasClass('dropup'))\r\n            this.drops = 'up';\r\n\r\n        this.buttonClasses = 'btn btn-sm';\r\n        this.applyButtonClasses = 'btn-primary';\r\n        this.cancelButtonClasses = 'btn-default';\r\n\r\n        this.locale = {\r\n            direction: 'ltr',\r\n            format: moment.localeData().longDateFormat('L'),\r\n            separator: ' - ',\r\n            applyLabel: 'Apply',\r\n            cancelLabel: 'Cancel',\r\n            weekLabel: 'W',\r\n            customRangeLabel: 'Custom Range',\r\n            daysOfWeek: moment.weekdaysMin(),\r\n            monthNames: moment.monthsShort(),\r\n            firstDay: moment.localeData().firstDayOfWeek()\r\n        };\r\n\r\n        this.callback = function() { };\r\n\r\n        //some state information\r\n        this.isShowing = false;\r\n        this.leftCalendar = {};\r\n        this.rightCalendar = {};\r\n\r\n        //custom options from user\r\n        if (typeof options !== 'object' || options === null)\r\n            options = {};\r\n\r\n        //allow setting options with data attributes\r\n        //data-api options will be overwritten with custom javascript options\r\n        options = $.extend(this.element.data(), options);\r\n\r\n        //html template for the picker UI\r\n        if (typeof options.template !== 'string' && !(options.template instanceof $))\r\n            options.template =\r\n            '<div class=\"daterangepicker\">' +\r\n            '<span class=\"drp-selected\"></span>' +\r\n\r\n                '<div class=\"drp-calendar left\">' +\r\n                    '<div class=\"calendar-table\"></div>' +\r\n                    '<div class=\"calendar-time\"></div>' +\r\n                '</div>' +\r\n                '<div class=\"drp-calendar right\">' +\r\n                    '<div class=\"calendar-table\"></div>' +\r\n                    '<div class=\"calendar-time\"></div>' +\r\n                '</div>' +\r\n                '<div class=\"ranges\"></div>' +\r\n                '<div class=\"drp-buttons\">' +\r\n                    '<button class=\"cancelBtn\" type=\"button\"></button>' +\r\n                    '<button class=\"applyBtn\" disabled=\"disabled\" type=\"button\"></button> ' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        this.parentEl = (options.parentEl && $(options.parentEl).length) ? $(options.parentEl) : $(this.parentEl);\r\n        this.container = $(options.template).appendTo(this.parentEl);\r\n\r\n        //\r\n        // handle all the possible options overriding defaults\r\n        //\r\n\r\n        if (typeof options.locale === 'object') {\r\n\r\n            if (typeof options.locale.direction === 'string')\r\n                this.locale.direction = options.locale.direction;\r\n\r\n            if (typeof options.locale.format === 'string')\r\n                this.locale.format = options.locale.format;\r\n\r\n            if (typeof options.locale.separator === 'string')\r\n                this.locale.separator = options.locale.separator;\r\n\r\n            if (typeof options.locale.daysOfWeek === 'object')\r\n                this.locale.daysOfWeek = options.locale.daysOfWeek.slice();\r\n\r\n            if (typeof options.locale.monthNames === 'object')\r\n              this.locale.monthNames = options.locale.monthNames.slice();\r\n\r\n            if (typeof options.locale.firstDay === 'number')\r\n              this.locale.firstDay = options.locale.firstDay;\r\n\r\n            if (typeof options.locale.applyLabel === 'string')\r\n              this.locale.applyLabel = options.locale.applyLabel;\r\n\r\n            if (typeof options.locale.cancelLabel === 'string')\r\n              this.locale.cancelLabel = options.locale.cancelLabel;\r\n\r\n            if (typeof options.locale.weekLabel === 'string')\r\n              this.locale.weekLabel = options.locale.weekLabel;\r\n\r\n            if (typeof options.locale.customRangeLabel === 'string'){\r\n                //Support unicode chars in the custom range name.\r\n                var elem = document.createElement('textarea');\r\n                elem.innerHTML = options.locale.customRangeLabel;\r\n                var rangeHtml = elem.value;\r\n                this.locale.customRangeLabel = rangeHtml;\r\n            }\r\n        }\r\n        this.container.addClass(this.locale.direction);\r\n\r\n        if (typeof options.startDate === 'string')\r\n            this.startDate = moment(options.startDate, this.locale.format);\r\n\r\n        if (typeof options.endDate === 'string')\r\n            this.endDate = moment(options.endDate, this.locale.format);\r\n\r\n        if (typeof options.minDate === 'string')\r\n            this.minDate = moment(options.minDate, this.locale.format);\r\n\r\n        if (typeof options.maxDate === 'string')\r\n            this.maxDate = moment(options.maxDate, this.locale.format);\r\n\r\n        if (typeof options.startDate === 'object')\r\n            this.startDate = moment(options.startDate);\r\n\r\n        if (typeof options.endDate === 'object')\r\n            this.endDate = moment(options.endDate);\r\n\r\n        if (typeof options.minDate === 'object')\r\n            this.minDate = moment(options.minDate);\r\n\r\n        if (typeof options.maxDate === 'object')\r\n            this.maxDate = moment(options.maxDate);\r\n\r\n        // sanity check for bad options\r\n        if (this.minDate && this.startDate.isBefore(this.minDate))\r\n            this.startDate = this.minDate.clone();\r\n\r\n        // sanity check for bad options\r\n        if (this.maxDate && this.endDate.isAfter(this.maxDate))\r\n            this.endDate = this.maxDate.clone();\r\n\r\n        if (typeof options.applyButtonClasses === 'string')\r\n            this.applyButtonClasses = options.applyButtonClasses;\r\n\r\n        if (typeof options.applyClass === 'string') //backwards compat\r\n            this.applyButtonClasses = options.applyClass;\r\n\r\n        if (typeof options.cancelButtonClasses === 'string')\r\n            this.cancelButtonClasses = options.cancelButtonClasses;\r\n\r\n        if (typeof options.cancelClass === 'string') //backwards compat\r\n            this.cancelButtonClasses = options.cancelClass;\r\n\r\n        if (typeof options.maxSpan === 'object')\r\n            this.maxSpan = options.maxSpan;\r\n\r\n        if (typeof options.dateLimit === 'object') //backwards compat\r\n            this.maxSpan = options.dateLimit;\r\n\r\n        if (typeof options.opens === 'string')\r\n            this.opens = options.opens;\r\n\r\n        if (typeof options.drops === 'string')\r\n            this.drops = options.drops;\r\n\r\n        if (typeof options.showWeekNumbers === 'boolean')\r\n            this.showWeekNumbers = options.showWeekNumbers;\r\n\r\n        if (typeof options.showISOWeekNumbers === 'boolean')\r\n            this.showISOWeekNumbers = options.showISOWeekNumbers;\r\n\r\n        if (typeof options.buttonClasses === 'string')\r\n            this.buttonClasses = options.buttonClasses;\r\n\r\n        if (typeof options.buttonClasses === 'object')\r\n            this.buttonClasses = options.buttonClasses.join(' ');\r\n\r\n        if (typeof options.showDropdowns === 'boolean')\r\n            this.showDropdowns = options.showDropdowns;\r\n\r\n        if (typeof options.minYear === 'number')\r\n            this.minYear = options.minYear;\r\n\r\n        if (typeof options.maxYear === 'number')\r\n            this.maxYear = options.maxYear;\r\n\r\n        if (typeof options.showCustomRangeLabel === 'boolean')\r\n            this.showCustomRangeLabel = options.showCustomRangeLabel;\r\n\r\n        if (typeof options.singleDatePicker === 'boolean') {\r\n            this.singleDatePicker = options.singleDatePicker;\r\n            if (this.singleDatePicker)\r\n                this.endDate = this.startDate.clone();\r\n        }\r\n\r\n        if (typeof options.timePicker === 'boolean')\r\n            this.timePicker = options.timePicker;\r\n\r\n        if (typeof options.timePickerSeconds === 'boolean')\r\n            this.timePickerSeconds = options.timePickerSeconds;\r\n\r\n        if (typeof options.timePickerIncrement === 'number')\r\n            this.timePickerIncrement = options.timePickerIncrement;\r\n\r\n        if (typeof options.timePicker24Hour === 'boolean')\r\n            this.timePicker24Hour = options.timePicker24Hour;\r\n\r\n        if (typeof options.autoApply === 'boolean')\r\n            this.autoApply = options.autoApply;\r\n\r\n        if (typeof options.autoUpdateInput === 'boolean')\r\n            this.autoUpdateInput = options.autoUpdateInput;\r\n\r\n        if (typeof options.linkedCalendars === 'boolean')\r\n            this.linkedCalendars = options.linkedCalendars;\r\n\r\n        if (typeof options.isInvalidDate === 'function')\r\n            this.isInvalidDate = options.isInvalidDate;\r\n\r\n        if (typeof options.isCustomDate === 'function')\r\n            this.isCustomDate = options.isCustomDate;\r\n\r\n        if (typeof options.alwaysShowCalendars === 'boolean')\r\n            this.alwaysShowCalendars = options.alwaysShowCalendars;\r\n\r\n        // update day names order to firstDay\r\n        if (this.locale.firstDay != 0) {\r\n            var iterator = this.locale.firstDay;\r\n            while (iterator > 0) {\r\n                this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());\r\n                iterator--;\r\n            }\r\n        }\r\n\r\n        var start, end, range;\r\n\r\n        //if no start/end dates set, check if an input element contains initial values\r\n        if (typeof options.startDate === 'undefined' && typeof options.endDate === 'undefined') {\r\n            if ($(this.element).is(':text')) {\r\n                var val = $(this.element).val(),\r\n                    split = val.split(this.locale.separator);\r\n\r\n                start = end = null;\r\n\r\n                if (split.length == 2) {\r\n                    start = moment(split[0], this.locale.format);\r\n                    end = moment(split[1], this.locale.format);\r\n                } else if (this.singleDatePicker && val !== \"\") {\r\n                    start = moment(val, this.locale.format);\r\n                    end = moment(val, this.locale.format);\r\n                }\r\n                if (start !== null && end !== null) {\r\n                    this.setStartDate(start);\r\n                    this.setEndDate(end);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (typeof options.ranges === 'object') {\r\n            for (range in options.ranges) {\r\n\r\n                if (typeof options.ranges[range][0] === 'string')\r\n                    start = moment(options.ranges[range][0], this.locale.format);\r\n                else\r\n                    start = moment(options.ranges[range][0]);\r\n\r\n                if (typeof options.ranges[range][1] === 'string')\r\n                    end = moment(options.ranges[range][1], this.locale.format);\r\n                else\r\n                    end = moment(options.ranges[range][1]);\r\n\r\n                // If the start or end date exceed those allowed by the minDate or maxSpan\r\n                // options, shorten the range to the allowable period.\r\n                if (this.minDate && start.isBefore(this.minDate))\r\n                    start = this.minDate.clone();\r\n\r\n                var maxDate = this.maxDate;\r\n                if (this.maxSpan && maxDate && start.clone().add(this.maxSpan).isAfter(maxDate))\r\n                    maxDate = start.clone().add(this.maxSpan);\r\n                if (maxDate && end.isAfter(maxDate))\r\n                    end = maxDate.clone();\r\n\r\n                // If the end of the range is before the minimum or the start of the range is\r\n                // after the maximum, don't display this range option at all.\r\n                if ((this.minDate && end.isBefore(this.minDate, this.timepicker ? 'minute' : 'day'))\r\n                  || (maxDate && start.isAfter(maxDate, this.timepicker ? 'minute' : 'day')))\r\n                    continue;\r\n\r\n                //Support unicode chars in the range names.\r\n                var elem = document.createElement('textarea');\r\n                elem.innerHTML = range;\r\n                var rangeHtml = elem.value;\r\n\r\n                this.ranges[rangeHtml] = [start, end];\r\n            }\r\n\r\n            var list = '<ul>';\r\n            for (range in this.ranges) {\r\n                list += '<li data-range-key=\"' + range + '\">' + range + '</li>';\r\n            }\r\n            if (this.showCustomRangeLabel) {\r\n                list += '<li data-range-key=\"' + this.locale.customRangeLabel + '\">' + this.locale.customRangeLabel + '</li>';\r\n            }\r\n            list += '</ul>';\r\n            this.container.find('.ranges').prepend(list);\r\n        }\r\n\r\n        if (typeof cb === 'function') {\r\n            this.callback = cb;\r\n        }\r\n\r\n        if (!this.timePicker) {\r\n            this.startDate = this.startDate.startOf('day');\r\n            this.endDate = this.endDate.endOf('day');\r\n            this.container.find('.calendar-time').hide();\r\n        }\r\n\r\n        //can't be used together for now\r\n        if (this.timePicker && this.autoApply)\r\n            this.autoApply = false;\r\n\r\n        if (this.autoApply) {\r\n            this.container.addClass('auto-apply');\r\n        }\r\n\r\n        if (typeof options.ranges === 'object')\r\n            this.container.addClass('show-ranges');\r\n\r\n        if (this.singleDatePicker) {\r\n            this.container.addClass('single');\r\n            this.container.find('.drp-calendar.left').addClass('single');\r\n            this.container.find('.drp-calendar.left').show();\r\n            this.container.find('.drp-calendar.right').hide();\r\n            if (!this.timePicker && this.autoApply) {\r\n                this.container.addClass('auto-apply');\r\n            }\r\n        }\r\n\r\n        if ((typeof options.ranges === 'undefined' && !this.singleDatePicker) || this.alwaysShowCalendars) {\r\n            this.container.addClass('show-calendar');\r\n        }\r\n\r\n        this.container.addClass('opens' + this.opens);\r\n\r\n        //apply CSS classes and labels to buttons\r\n        this.container.find('.applyBtn, .cancelBtn').addClass(this.buttonClasses);\r\n        if (this.applyButtonClasses.length)\r\n            this.container.find('.applyBtn').addClass(this.applyButtonClasses);\r\n        if (this.cancelButtonClasses.length)\r\n            this.container.find('.cancelBtn').addClass(this.cancelButtonClasses);\r\n        this.container.find('.applyBtn').html(this.locale.applyLabel);\r\n        this.container.find('.cancelBtn').html(this.locale.cancelLabel);\r\n\r\n        //\r\n        // event listeners\r\n        //\r\n\r\n        this.container.find('.drp-calendar')\r\n            .on('click.daterangepicker', '.prev', $.proxy(this.clickPrev, this))\r\n            .on('click.daterangepicker', '.next', $.proxy(this.clickNext, this))\r\n            .on('mousedown.daterangepicker', 'td.available', $.proxy(this.clickDate, this))\r\n            .on('mouseenter.daterangepicker', 'td.available', $.proxy(this.hoverDate, this))\r\n            .on('change.daterangepicker', 'select.yearselect', $.proxy(this.monthOrYearChanged, this))\r\n            .on('change.daterangepicker', 'select.monthselect', $.proxy(this.monthOrYearChanged, this))\r\n            .on('change.daterangepicker', 'select.hourselect,select.minuteselect,select.secondselect,select.ampmselect', $.proxy(this.timeChanged, this));\r\n\r\n        this.container.find('.ranges')\r\n            .on('click.daterangepicker', 'li', $.proxy(this.clickRange, this));\r\n\r\n        this.container.find('.drp-buttons')\r\n            .on('click.daterangepicker', 'button.applyBtn', $.proxy(this.clickApply, this))\r\n            .on('click.daterangepicker', 'button.cancelBtn', $.proxy(this.clickCancel, this));\r\n\r\n        if (this.element.is('input') || this.element.is('button')) {\r\n            this.element.on({\r\n                'click.daterangepicker': $.proxy(this.show, this),\r\n                'focus.daterangepicker': $.proxy(this.show, this),\r\n                'keyup.daterangepicker': $.proxy(this.elementChanged, this),\r\n                'keydown.daterangepicker': $.proxy(this.keydown, this) //IE 11 compatibility\r\n            });\r\n        } else {\r\n            this.element.on('click.daterangepicker', $.proxy(this.toggle, this));\r\n            this.element.on('keydown.daterangepicker', $.proxy(this.toggle, this));\r\n        }\r\n\r\n        //\r\n        // if attached to a text input, set the initial value\r\n        //\r\n\r\n        this.updateElement();\r\n\r\n    };\r\n\r\n    DateRangePicker.prototype = {\r\n\r\n        constructor: DateRangePicker,\r\n\r\n        setStartDate: function(startDate) {\r\n            if (typeof startDate === 'string')\r\n                this.startDate = moment(startDate, this.locale.format);\r\n\r\n            if (typeof startDate === 'object')\r\n                this.startDate = moment(startDate);\r\n\r\n            if (!this.timePicker)\r\n                this.startDate = this.startDate.startOf('day');\r\n\r\n            if (this.timePicker && this.timePickerIncrement)\r\n                this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n\r\n            if (this.minDate && this.startDate.isBefore(this.minDate)) {\r\n                this.startDate = this.minDate.clone();\r\n                if (this.timePicker && this.timePickerIncrement)\r\n                    this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n            }\r\n\r\n            if (this.maxDate && this.startDate.isAfter(this.maxDate)) {\r\n                this.startDate = this.maxDate.clone();\r\n                if (this.timePicker && this.timePickerIncrement)\r\n                    this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n            }\r\n\r\n            if (!this.isShowing)\r\n                this.updateElement();\r\n\r\n            this.updateMonthsInView();\r\n        },\r\n\r\n        setEndDate: function(endDate) {\r\n            if (typeof endDate === 'string')\r\n                this.endDate = moment(endDate, this.locale.format);\r\n\r\n            if (typeof endDate === 'object')\r\n                this.endDate = moment(endDate);\r\n\r\n            if (!this.timePicker)\r\n                this.endDate = this.endDate.endOf('day');\r\n\r\n            if (this.timePicker && this.timePickerIncrement)\r\n                this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n\r\n            if (this.endDate.isBefore(this.startDate))\r\n                this.endDate = this.startDate.clone();\r\n\r\n            if (this.maxDate && this.endDate.isAfter(this.maxDate))\r\n                this.endDate = this.maxDate.clone();\r\n\r\n            if (this.maxSpan && this.startDate.clone().add(this.maxSpan).isBefore(this.endDate))\r\n                this.endDate = this.startDate.clone().add(this.maxSpan);\r\n\r\n            this.previousRightTime = this.endDate.clone();\r\n\r\n            this.container.find('.drp-selected').html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format));\r\n\r\n            if (!this.isShowing)\r\n                this.updateElement();\r\n\r\n            this.updateMonthsInView();\r\n        },\r\n\r\n        isInvalidDate: function() {\r\n            return false;\r\n        },\r\n\r\n        isCustomDate: function() {\r\n            return false;\r\n        },\r\n\r\n        updateView: function() {\r\n            if (this.timePicker) {\r\n                this.renderTimePicker('left');\r\n                this.renderTimePicker('right');\r\n                if (!this.endDate) {\r\n                    this.container.find('.right .calendar-time select').prop('disabled', true).addClass('disabled');\r\n                } else {\r\n                    this.container.find('.right .calendar-time select').prop('disabled', false).removeClass('disabled');\r\n                }\r\n            }\r\n            if (this.endDate)\r\n                this.container.find('.drp-selected').html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format));\r\n            this.updateMonthsInView();\r\n            this.updateCalendars();\r\n            this.updateFormInputs();\r\n        },\r\n\r\n        updateMonthsInView: function() {\r\n            if (this.endDate) {\r\n\r\n                //if both dates are visible already, do nothing\r\n                if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&\r\n                    (this.startDate.format('YYYY-MM') == this.leftCalendar.month.format('YYYY-MM') || this.startDate.format('YYYY-MM') == this.rightCalendar.month.format('YYYY-MM'))\r\n                    &&\r\n                    (this.endDate.format('YYYY-MM') == this.leftCalendar.month.format('YYYY-MM') || this.endDate.format('YYYY-MM') == this.rightCalendar.month.format('YYYY-MM'))\r\n                    ) {\r\n                    return;\r\n                }\r\n\r\n                this.leftCalendar.month = this.startDate.clone().date(2);\r\n                if (!this.linkedCalendars && (this.endDate.month() != this.startDate.month() || this.endDate.year() != this.startDate.year())) {\r\n                    this.rightCalendar.month = this.endDate.clone().date(2);\r\n                } else {\r\n                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\r\n                }\r\n\r\n            } else {\r\n                if (this.leftCalendar.month.format('YYYY-MM') != this.startDate.format('YYYY-MM') && this.rightCalendar.month.format('YYYY-MM') != this.startDate.format('YYYY-MM')) {\r\n                    this.leftCalendar.month = this.startDate.clone().date(2);\r\n                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\r\n                }\r\n            }\r\n            if (this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate) {\r\n              this.rightCalendar.month = this.maxDate.clone().date(2);\r\n              this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, 'month');\r\n            }\r\n        },\r\n\r\n        updateCalendars: function() {\r\n\r\n            if (this.timePicker) {\r\n                var hour, minute, second;\r\n                if (this.endDate) {\r\n                    hour = parseInt(this.container.find('.left .hourselect').val(), 10);\r\n                    minute = parseInt(this.container.find('.left .minuteselect').val(), 10);\r\n                    if (isNaN(minute)) {\r\n                        minute = parseInt(this.container.find('.left .minuteselect option:last').val(), 10);\r\n                    }\r\n                    second = this.timePickerSeconds ? parseInt(this.container.find('.left .secondselect').val(), 10) : 0;\r\n                    if (!this.timePicker24Hour) {\r\n                        var ampm = this.container.find('.left .ampmselect').val();\r\n                        if (ampm === 'PM' && hour < 12)\r\n                            hour += 12;\r\n                        if (ampm === 'AM' && hour === 12)\r\n                            hour = 0;\r\n                    }\r\n                } else {\r\n                    hour = parseInt(this.container.find('.right .hourselect').val(), 10);\r\n                    minute = parseInt(this.container.find('.right .minuteselect').val(), 10);\r\n                    if (isNaN(minute)) {\r\n                        minute = parseInt(this.container.find('.right .minuteselect option:last').val(), 10);\r\n                    }\r\n                    second = this.timePickerSeconds ? parseInt(this.container.find('.right .secondselect').val(), 10) : 0;\r\n                    if (!this.timePicker24Hour) {\r\n                        var ampm = this.container.find('.right .ampmselect').val();\r\n                        if (ampm === 'PM' && hour < 12)\r\n                            hour += 12;\r\n                        if (ampm === 'AM' && hour === 12)\r\n                            hour = 0;\r\n                    }\r\n                }\r\n                this.leftCalendar.month.hour(hour).minute(minute).second(second);\r\n                this.rightCalendar.month.hour(hour).minute(minute).second(second);\r\n            }\r\n\r\n            this.renderCalendar('left');\r\n            this.renderCalendar('right');\r\n\r\n            //highlight any predefined range matching the current start and end dates\r\n            this.container.find('.ranges li').removeClass('active');\r\n            if (this.endDate == null) return;\r\n\r\n            this.calculateChosenLabel();\r\n        },\r\n\r\n        renderCalendar: function(side) {\r\n\r\n            //\r\n            // Build the matrix of dates that will populate the calendar\r\n            //\r\n\r\n            var calendar = side == 'left' ? this.leftCalendar : this.rightCalendar;\r\n            var month = calendar.month.month();\r\n            var year = calendar.month.year();\r\n            var hour = calendar.month.hour();\r\n            var minute = calendar.month.minute();\r\n            var second = calendar.month.second();\r\n            var daysInMonth = moment([year, month]).daysInMonth();\r\n            var firstDay = moment([year, month, 1]);\r\n            var lastDay = moment([year, month, daysInMonth]);\r\n            var lastMonth = moment(firstDay).subtract(1, 'month').month();\r\n            var lastYear = moment(firstDay).subtract(1, 'month').year();\r\n            var daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\r\n            var dayOfWeek = firstDay.day();\r\n\r\n            //initialize a 6 rows x 7 columns array for the calendar\r\n            var calendar = [];\r\n            calendar.firstDay = firstDay;\r\n            calendar.lastDay = lastDay;\r\n\r\n            for (var i = 0; i < 6; i++) {\r\n                calendar[i] = [];\r\n            }\r\n\r\n            //populate the calendar with date objects\r\n            var startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;\r\n            if (startDay > daysInLastMonth)\r\n                startDay -= 7;\r\n\r\n            if (dayOfWeek == this.locale.firstDay)\r\n                startDay = daysInLastMonth - 6;\r\n\r\n            var curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\r\n\r\n            var col, row;\r\n            for (var i = 0, col = 0, row = 0; i < 42; i++, col++, curDate = moment(curDate).add(24, 'hour')) {\r\n                if (i > 0 && col % 7 === 0) {\r\n                    col = 0;\r\n                    row++;\r\n                }\r\n                calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);\r\n                curDate.hour(12);\r\n\r\n                if (this.minDate && calendar[row][col].format('YYYY-MM-DD') == this.minDate.format('YYYY-MM-DD') && calendar[row][col].isBefore(this.minDate) && side == 'left') {\r\n                    calendar[row][col] = this.minDate.clone();\r\n                }\r\n\r\n                if (this.maxDate && calendar[row][col].format('YYYY-MM-DD') == this.maxDate.format('YYYY-MM-DD') && calendar[row][col].isAfter(this.maxDate) && side == 'right') {\r\n                    calendar[row][col] = this.maxDate.clone();\r\n                }\r\n\r\n            }\r\n\r\n            //make the calendar object available to hoverDate/clickDate\r\n            if (side == 'left') {\r\n                this.leftCalendar.calendar = calendar;\r\n            } else {\r\n                this.rightCalendar.calendar = calendar;\r\n            }\r\n\r\n            //\r\n            // Display the calendar\r\n            //\r\n\r\n            var minDate = side == 'left' ? this.minDate : this.startDate;\r\n            var maxDate = this.maxDate;\r\n            var selected = side == 'left' ? this.startDate : this.endDate;\r\n            var arrow = this.locale.direction == 'ltr' ? {left: 'chevron-left', right: 'chevron-right'} : {left: 'chevron-right', right: 'chevron-left'};\r\n\r\n            var html = '<table class=\"table-condensed\">';\r\n            html += '<thead>';\r\n            html += '<tr>';\r\n\r\n            // add empty cell for week number\r\n            if (this.showWeekNumbers || this.showISOWeekNumbers)\r\n                html += '<th></th>';\r\n\r\n            if ((!minDate || minDate.isBefore(calendar.firstDay)) && (!this.linkedCalendars || side == 'left')) {\r\n                html += '<th class=\"prev available\"><span></span></th>';\r\n            } else {\r\n                html += '<th></th>';\r\n            }\r\n\r\n            var dateHtml = this.locale.monthNames[calendar[1][1].month()] + calendar[1][1].format(\" YYYY\");\r\n\r\n            if (this.showDropdowns) {\r\n                var currentMonth = calendar[1][1].month();\r\n                var currentYear = calendar[1][1].year();\r\n                var maxYear = (maxDate && maxDate.year()) || (this.maxYear);\r\n                var minYear = (minDate && minDate.year()) || (this.minYear);\r\n                var inMinYear = currentYear == minYear;\r\n                var inMaxYear = currentYear == maxYear;\r\n\r\n                var monthHtml = '<select class=\"monthselect\">';\r\n                for (var m = 0; m < 12; m++) {\r\n                    if ((!inMinYear || (minDate && m >= minDate.month())) && (!inMaxYear || (maxDate && m <= maxDate.month()))) {\r\n                        monthHtml += \"<option value='\" + m + \"'\" +\r\n                            (m === currentMonth ? \" selected='selected'\" : \"\") +\r\n                            \">\" + this.locale.monthNames[m] + \"</option>\";\r\n                    } else {\r\n                        monthHtml += \"<option value='\" + m + \"'\" +\r\n                            (m === currentMonth ? \" selected='selected'\" : \"\") +\r\n                            \" disabled='disabled'>\" + this.locale.monthNames[m] + \"</option>\";\r\n                    }\r\n                }\r\n                monthHtml += \"</select>\";\r\n\r\n                var yearHtml = '<select class=\"yearselect\">';\r\n                for (var y = minYear; y <= maxYear; y++) {\r\n                    yearHtml += '<option value=\"' + y + '\"' +\r\n                        (y === currentYear ? ' selected=\"selected\"' : '') +\r\n                        '>' + y + '</option>';\r\n                }\r\n                yearHtml += '</select>';\r\n\r\n                dateHtml = monthHtml + yearHtml;\r\n            }\r\n\r\n            html += '<th colspan=\"5\" class=\"month\">' + dateHtml + '</th>';\r\n            if ((!maxDate || maxDate.isAfter(calendar.lastDay)) && (!this.linkedCalendars || side == 'right' || this.singleDatePicker)) {\r\n                html += '<th class=\"next available\"><span></span></th>';\r\n            } else {\r\n                html += '<th></th>';\r\n            }\r\n\r\n            html += '</tr>';\r\n            html += '<tr>';\r\n\r\n            // add week number label\r\n            if (this.showWeekNumbers || this.showISOWeekNumbers)\r\n                html += '<th class=\"week\">' + this.locale.weekLabel + '</th>';\r\n\r\n            $.each(this.locale.daysOfWeek, function(index, dayOfWeek) {\r\n                html += '<th>' + dayOfWeek + '</th>';\r\n            });\r\n\r\n            html += '</tr>';\r\n            html += '</thead>';\r\n            html += '<tbody>';\r\n\r\n            //adjust maxDate to reflect the maxSpan setting in order to\r\n            //grey out end dates beyond the maxSpan\r\n            if (this.endDate == null && this.maxSpan) {\r\n                var maxLimit = this.startDate.clone().add(this.maxSpan).endOf('day');\r\n                if (!maxDate || maxLimit.isBefore(maxDate)) {\r\n                    maxDate = maxLimit;\r\n                }\r\n            }\r\n\r\n            for (var row = 0; row < 6; row++) {\r\n                html += '<tr>';\r\n\r\n                // add week number\r\n                if (this.showWeekNumbers)\r\n                    html += '<td class=\"week\">' + calendar[row][0].week() + '</td>';\r\n                else if (this.showISOWeekNumbers)\r\n                    html += '<td class=\"week\">' + calendar[row][0].isoWeek() + '</td>';\r\n\r\n                for (var col = 0; col < 7; col++) {\r\n\r\n                    var classes = [];\r\n\r\n                    //highlight today's date\r\n                    if (calendar[row][col].isSame(new Date(), \"day\"))\r\n                        classes.push('today');\r\n\r\n                    //highlight weekends\r\n                    if (calendar[row][col].isoWeekday() > 5)\r\n                        classes.push('weekend');\r\n\r\n                    //grey out the dates in other months displayed at beginning and end of this calendar\r\n                    if (calendar[row][col].month() != calendar[1][1].month())\r\n                        classes.push('off', 'ends');\r\n\r\n                    //don't allow selection of dates before the minimum date\r\n                    if (this.minDate && calendar[row][col].isBefore(this.minDate, 'day'))\r\n                        classes.push('off', 'disabled');\r\n\r\n                    //don't allow selection of dates after the maximum date\r\n                    if (maxDate && calendar[row][col].isAfter(maxDate, 'day'))\r\n                        classes.push('off', 'disabled');\r\n\r\n                    //don't allow selection of date if a custom function decides it's invalid\r\n                    if (this.isInvalidDate(calendar[row][col]))\r\n                        classes.push('off', 'disabled');\r\n\r\n                    //highlight the currently selected start date\r\n                    if (calendar[row][col].format('YYYY-MM-DD') == this.startDate.format('YYYY-MM-DD'))\r\n                        classes.push('active', 'start-date');\r\n\r\n                    //highlight the currently selected end date\r\n                    if (this.endDate != null && calendar[row][col].format('YYYY-MM-DD') == this.endDate.format('YYYY-MM-DD'))\r\n                        classes.push('active', 'end-date');\r\n\r\n                    //highlight dates in-between the selected dates\r\n                    if (this.endDate != null && calendar[row][col] > this.startDate && calendar[row][col] < this.endDate)\r\n                        classes.push('in-range');\r\n\r\n                    //apply custom classes for this date\r\n                    var isCustom = this.isCustomDate(calendar[row][col]);\r\n                    if (isCustom !== false) {\r\n                        if (typeof isCustom === 'string')\r\n                            classes.push(isCustom);\r\n                        else\r\n                            Array.prototype.push.apply(classes, isCustom);\r\n                    }\r\n\r\n                    var cname = '', disabled = false;\r\n                    for (var i = 0; i < classes.length; i++) {\r\n                        cname += classes[i] + ' ';\r\n                        if (classes[i] == 'disabled')\r\n                            disabled = true;\r\n                    }\r\n                    if (!disabled)\r\n                        cname += 'available';\r\n\r\n                    html += '<td class=\"' + cname.replace(/^\\s+|\\s+$/g, '') + '\" data-title=\"' + 'r' + row + 'c' + col + '\">' + calendar[row][col].date() + '</td>';\r\n\r\n                }\r\n                html += '</tr>';\r\n            }\r\n\r\n            html += '</tbody>';\r\n            html += '</table>';\r\n\r\n            this.container.find('.drp-calendar.' + side + ' .calendar-table').html(html);\r\n\r\n        },\r\n\r\n        renderTimePicker: function(side) {\r\n\r\n            // Don't bother updating the time picker if it's currently disabled\r\n            // because an end date hasn't been clicked yet\r\n            if (side == 'right' && !this.endDate) return;\r\n\r\n            var html, selected, minDate, maxDate = this.maxDate;\r\n\r\n            if (this.maxSpan && (!this.maxDate || this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)))\r\n                maxDate = this.startDate.clone().add(this.maxSpan);\r\n\r\n            if (side == 'left') {\r\n                selected = this.startDate.clone();\r\n                minDate = this.minDate;\r\n            } else if (side == 'right') {\r\n                selected = this.endDate.clone();\r\n                minDate = this.startDate;\r\n\r\n                //Preserve the time already selected\r\n                var timeSelector = this.container.find('.drp-calendar.right .calendar-time');\r\n                if (timeSelector.html() != '') {\r\n\r\n                    selected.hour(!isNaN(selected.hour()) ? selected.hour() : timeSelector.find('.hourselect option:selected').val());\r\n                    selected.minute(!isNaN(selected.minute()) ? selected.minute() : timeSelector.find('.minuteselect option:selected').val());\r\n                    selected.second(!isNaN(selected.second()) ? selected.second() : timeSelector.find('.secondselect option:selected').val());\r\n\r\n                    if (!this.timePicker24Hour) {\r\n                        var ampm = timeSelector.find('.ampmselect option:selected').val();\r\n                        if (ampm === 'PM' && selected.hour() < 12)\r\n                            selected.hour(selected.hour() + 12);\r\n                        if (ampm === 'AM' && selected.hour() === 12)\r\n                            selected.hour(0);\r\n                    }\r\n\r\n                }\r\n\r\n                if (selected.isBefore(this.startDate))\r\n                    selected = this.startDate.clone();\r\n\r\n                if (maxDate && selected.isAfter(maxDate))\r\n                    selected = maxDate.clone();\r\n\r\n            }\r\n\r\n            //\r\n            // hours\r\n            //\r\n\r\n            html = '<select class=\"hourselect\">';\r\n\r\n            var start = this.timePicker24Hour ? 0 : 1;\r\n            var end = this.timePicker24Hour ? 23 : 12;\r\n\r\n            for (var i = start; i <= end; i++) {\r\n                var i_in_24 = i;\r\n                if (!this.timePicker24Hour)\r\n                    i_in_24 = selected.hour() >= 12 ? (i == 12 ? 12 : i + 12) : (i == 12 ? 0 : i);\r\n\r\n                var time = selected.clone().hour(i_in_24);\r\n                var disabled = false;\r\n                if (minDate && time.minute(59).isBefore(minDate))\r\n                    disabled = true;\r\n                if (maxDate && time.minute(0).isAfter(maxDate))\r\n                    disabled = true;\r\n\r\n                if (i_in_24 == selected.hour() && !disabled) {\r\n                    html += '<option value=\"' + i + '\" selected=\"selected\">' + i + '</option>';\r\n                } else if (disabled) {\r\n                    html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + i + '</option>';\r\n                } else {\r\n                    html += '<option value=\"' + i + '\">' + i + '</option>';\r\n                }\r\n            }\r\n\r\n            html += '</select> ';\r\n\r\n            //\r\n            // minutes\r\n            //\r\n\r\n            html += ': <select class=\"minuteselect\">';\r\n\r\n            for (var i = 0; i < 60; i += this.timePickerIncrement) {\r\n                var padded = i < 10 ? '0' + i : i;\r\n                var time = selected.clone().minute(i);\r\n\r\n                var disabled = false;\r\n                if (minDate && time.second(59).isBefore(minDate))\r\n                    disabled = true;\r\n                if (maxDate && time.second(0).isAfter(maxDate))\r\n                    disabled = true;\r\n\r\n                if (selected.minute() == i && !disabled) {\r\n                    html += '<option value=\"' + i + '\" selected=\"selected\">' + padded + '</option>';\r\n                } else if (disabled) {\r\n                    html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + padded + '</option>';\r\n                } else {\r\n                    html += '<option value=\"' + i + '\">' + padded + '</option>';\r\n                }\r\n            }\r\n\r\n            html += '</select> ';\r\n\r\n            //\r\n            // seconds\r\n            //\r\n\r\n            if (this.timePickerSeconds) {\r\n                html += ': <select class=\"secondselect\">';\r\n\r\n                for (var i = 0; i < 60; i++) {\r\n                    var padded = i < 10 ? '0' + i : i;\r\n                    var time = selected.clone().second(i);\r\n\r\n                    var disabled = false;\r\n                    if (minDate && time.isBefore(minDate))\r\n                        disabled = true;\r\n                    if (maxDate && time.isAfter(maxDate))\r\n                        disabled = true;\r\n\r\n                    if (selected.second() == i && !disabled) {\r\n                        html += '<option value=\"' + i + '\" selected=\"selected\">' + padded + '</option>';\r\n                    } else if (disabled) {\r\n                        html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + padded + '</option>';\r\n                    } else {\r\n                        html += '<option value=\"' + i + '\">' + padded + '</option>';\r\n                    }\r\n                }\r\n\r\n                html += '</select> ';\r\n            }\r\n\r\n            //\r\n            // AM/PM\r\n            //\r\n\r\n            if (!this.timePicker24Hour) {\r\n                html += '<select class=\"ampmselect\">';\r\n\r\n                var am_html = '';\r\n                var pm_html = '';\r\n\r\n                if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate))\r\n                    am_html = ' disabled=\"disabled\" class=\"disabled\"';\r\n\r\n                if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate))\r\n                    pm_html = ' disabled=\"disabled\" class=\"disabled\"';\r\n\r\n                if (selected.hour() >= 12) {\r\n                    html += '<option value=\"AM\"' + am_html + '>AM</option><option value=\"PM\" selected=\"selected\"' + pm_html + '>PM</option>';\r\n                } else {\r\n                    html += '<option value=\"AM\" selected=\"selected\"' + am_html + '>AM</option><option value=\"PM\"' + pm_html + '>PM</option>';\r\n                }\r\n\r\n                html += '</select>';\r\n            }\r\n\r\n            this.container.find('.drp-calendar.' + side + ' .calendar-time').html(html);\r\n\r\n        },\r\n\r\n        updateFormInputs: function() {\r\n\r\n            if (this.singleDatePicker || (this.endDate && (this.startDate.isBefore(this.endDate) || this.startDate.isSame(this.endDate)))) {\r\n                this.container.find('button.applyBtn').prop('disabled', false);\r\n            } else {\r\n                this.container.find('button.applyBtn').prop('disabled', true);\r\n            }\r\n\r\n        },\r\n\r\n        move: function() {\r\n            var parentOffset = { top: 0, left: 0 },\r\n                containerTop,\r\n                drops = this.drops;\r\n\r\n            var parentRightEdge = $(window).width();\r\n            if (!this.parentEl.is('body')) {\r\n                parentOffset = {\r\n                    top: this.parentEl.offset().top - this.parentEl.scrollTop(),\r\n                    left: this.parentEl.offset().left - this.parentEl.scrollLeft()\r\n                };\r\n                parentRightEdge = this.parentEl[0].clientWidth + this.parentEl.offset().left;\r\n            }\r\n\r\n            switch (drops) {\r\n            case 'auto':\r\n                containerTop = this.element.offset().top + this.element.outerHeight() - parentOffset.top;\r\n                if (containerTop + this.container.outerHeight() >= this.parentEl[0].scrollHeight) {\r\n                    containerTop = this.element.offset().top - this.container.outerHeight() - parentOffset.top;\r\n                    drops = 'up';\r\n                }\r\n                break;\r\n            case 'up':\r\n                containerTop = this.element.offset().top - this.container.outerHeight() - parentOffset.top;\r\n                break;\r\n            default:\r\n                containerTop = this.element.offset().top + this.element.outerHeight() - parentOffset.top;\r\n                break;\r\n            }\r\n\r\n            // Force the container to it's actual width\r\n            this.container.css({\r\n              top: 0,\r\n              left: 0,\r\n              right: 'auto'\r\n            });\r\n            var containerWidth = this.container.outerWidth();\r\n\r\n            this.container.toggleClass('drop-up', drops == 'up');\r\n\r\n            if (this.opens == 'left') {\r\n                var containerRight = parentRightEdge - this.element.offset().left - this.element.outerWidth();\r\n                if (containerWidth + containerRight > $(window).width()) {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        right: 'auto',\r\n                        left: 9\r\n                    });\r\n                } else {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        right: containerRight,\r\n                        left: 'auto'\r\n                    });\r\n                }\r\n            } else if (this.opens == 'center') {\r\n                var containerLeft = this.element.offset().left - parentOffset.left + this.element.outerWidth() / 2\r\n                                        - containerWidth / 2;\r\n                if (containerLeft < 0) {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        right: 'auto',\r\n                        left: 9\r\n                    });\r\n                } else if (containerLeft + containerWidth > $(window).width()) {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        left: 'auto',\r\n                        right: 0\r\n                    });\r\n                } else {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        left: containerLeft,\r\n                        right: 'auto'\r\n                    });\r\n                }\r\n            } else {\r\n                var containerLeft = this.element.offset().left - parentOffset.left;\r\n                if (containerLeft + containerWidth > $(window).width()) {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        left: 'auto',\r\n                        right: 0\r\n                    });\r\n                } else {\r\n                    this.container.css({\r\n                        top: containerTop,\r\n                        left: containerLeft,\r\n                        right: 'auto'\r\n                    });\r\n                }\r\n            }\r\n        },\r\n\r\n        show: function(e) {\r\n            if (this.isShowing) return;\r\n\r\n            // Create a click proxy that is private to this instance of datepicker, for unbinding\r\n            this._outsideClickProxy = $.proxy(function(e) { this.outsideClick(e); }, this);\r\n\r\n            // Bind global datepicker mousedown for hiding and\r\n            $(document)\r\n              .on('mousedown.daterangepicker', this._outsideClickProxy)\r\n              // also support mobile devices\r\n              .on('touchend.daterangepicker', this._outsideClickProxy)\r\n              // also explicitly play nice with Bootstrap dropdowns, which stopPropagation when clicking them\r\n              .on('click.daterangepicker', '[data-toggle=dropdown]', this._outsideClickProxy)\r\n              // and also close when focus changes to outside the picker (eg. tabbing between controls)\r\n              .on('focusin.daterangepicker', this._outsideClickProxy);\r\n\r\n            // Reposition the picker if the window is resized while it's open\r\n            $(window).on('resize.daterangepicker', $.proxy(function(e) { this.move(e); }, this));\r\n\r\n            this.oldStartDate = this.startDate.clone();\r\n            this.oldEndDate = this.endDate.clone();\r\n            this.previousRightTime = this.endDate.clone();\r\n\r\n            this.updateView();\r\n            this.container.show();\r\n            this.move();\r\n            this.element.trigger('show.daterangepicker', this);\r\n            this.isShowing = true;\r\n        },\r\n\r\n        hide: function(e) {\r\n            if (!this.isShowing) return;\r\n\r\n            //incomplete date selection, revert to last values\r\n            if (!this.endDate) {\r\n                this.startDate = this.oldStartDate.clone();\r\n                this.endDate = this.oldEndDate.clone();\r\n            }\r\n\r\n            //if a new date range was selected, invoke the user callback function\r\n            if (!this.startDate.isSame(this.oldStartDate) || !this.endDate.isSame(this.oldEndDate))\r\n                this.callback(this.startDate.clone(), this.endDate.clone(), this.chosenLabel);\r\n\r\n            //if picker is attached to a text input, update it\r\n            this.updateElement();\r\n\r\n            $(document).off('.daterangepicker');\r\n            $(window).off('.daterangepicker');\r\n            this.container.hide();\r\n            this.element.trigger('hide.daterangepicker', this);\r\n            this.isShowing = false;\r\n        },\r\n\r\n        toggle: function(e) {\r\n            if (this.isShowing) {\r\n                this.hide();\r\n            } else {\r\n                this.show();\r\n            }\r\n        },\r\n\r\n        outsideClick: function(e) {\r\n            var target = $(e.target);\r\n            // if the page is clicked anywhere except within the daterangerpicker/button\r\n            // itself then call this.hide()\r\n            if (\r\n                // ie modal dialog fix\r\n                e.type == \"focusin\" ||\r\n                target.closest(this.element).length ||\r\n                target.closest(this.container).length ||\r\n                target.closest('.calendar-table').length\r\n                ) return;\r\n            this.hide();\r\n            this.element.trigger('outsideClick.daterangepicker', this);\r\n        },\r\n\r\n        showCalendars: function() {\r\n            this.container.addClass('show-calendar');\r\n            this.move();\r\n            this.element.trigger('showCalendar.daterangepicker', this);\r\n        },\r\n\r\n        hideCalendars: function() {\r\n            this.container.removeClass('show-calendar');\r\n            this.element.trigger('hideCalendar.daterangepicker', this);\r\n        },\r\n\r\n        clickRange: function(e) {\r\n            var label = e.target.getAttribute('data-range-key');\r\n            this.chosenLabel = label;\r\n            if (label == this.locale.customRangeLabel) {\r\n                this.showCalendars();\r\n            } else {\r\n                var dates = this.ranges[label];\r\n                this.startDate = dates[0];\r\n                this.endDate = dates[1];\r\n\r\n                if (!this.timePicker) {\r\n                    this.startDate.startOf('day');\r\n                    this.endDate.endOf('day');\r\n                }\r\n\r\n                if (!this.alwaysShowCalendars)\r\n                    this.hideCalendars();\r\n                this.clickApply();\r\n            }\r\n        },\r\n\r\n        clickPrev: function(e) {\r\n            var cal = $(e.target).parents('.drp-calendar');\r\n            if (cal.hasClass('left')) {\r\n                this.leftCalendar.month.subtract(1, 'month');\r\n                if (this.linkedCalendars)\r\n                    this.rightCalendar.month.subtract(1, 'month');\r\n            } else {\r\n                this.rightCalendar.month.subtract(1, 'month');\r\n            }\r\n            this.updateCalendars();\r\n        },\r\n\r\n        clickNext: function(e) {\r\n            var cal = $(e.target).parents('.drp-calendar');\r\n            if (cal.hasClass('left')) {\r\n                this.leftCalendar.month.add(1, 'month');\r\n            } else {\r\n                this.rightCalendar.month.add(1, 'month');\r\n                if (this.linkedCalendars)\r\n                    this.leftCalendar.month.add(1, 'month');\r\n            }\r\n            this.updateCalendars();\r\n        },\r\n\r\n        hoverDate: function(e) {\r\n\r\n            //ignore dates that can't be selected\r\n            if (!$(e.target).hasClass('available')) return;\r\n\r\n            var title = $(e.target).attr('data-title');\r\n            var row = title.substr(1, 1);\r\n            var col = title.substr(3, 1);\r\n            var cal = $(e.target).parents('.drp-calendar');\r\n            var date = cal.hasClass('left') ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\r\n\r\n            //highlight the dates between the start date and the date being hovered as a potential end date\r\n            var leftCalendar = this.leftCalendar;\r\n            var rightCalendar = this.rightCalendar;\r\n            var startDate = this.startDate;\r\n            if (!this.endDate) {\r\n                this.container.find('.drp-calendar tbody td').each(function(index, el) {\r\n\r\n                    //skip week numbers, only look at dates\r\n                    if ($(el).hasClass('week')) return;\r\n\r\n                    var title = $(el).attr('data-title');\r\n                    var row = title.substr(1, 1);\r\n                    var col = title.substr(3, 1);\r\n                    var cal = $(el).parents('.drp-calendar');\r\n                    var dt = cal.hasClass('left') ? leftCalendar.calendar[row][col] : rightCalendar.calendar[row][col];\r\n\r\n                    if ((dt.isAfter(startDate) && dt.isBefore(date)) || dt.isSame(date, 'day')) {\r\n                        $(el).addClass('in-range');\r\n                    } else {\r\n                        $(el).removeClass('in-range');\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n        },\r\n\r\n        clickDate: function(e) {\r\n\r\n            if (!$(e.target).hasClass('available')) return;\r\n\r\n            var title = $(e.target).attr('data-title');\r\n            var row = title.substr(1, 1);\r\n            var col = title.substr(3, 1);\r\n            var cal = $(e.target).parents('.drp-calendar');\r\n            var date = cal.hasClass('left') ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\r\n\r\n            //\r\n            // this function needs to do a few things:\r\n            // * alternate between selecting a start and end date for the range,\r\n            // * if the time picker is enabled, apply the hour/minute/second from the select boxes to the clicked date\r\n            // * if autoapply is enabled, and an end date was chosen, apply the selection\r\n            // * if single date picker mode, and time picker isn't enabled, apply the selection immediately\r\n            // * if one of the inputs above the calendars was focused, cancel that manual input\r\n            //\r\n\r\n            if (this.endDate || date.isBefore(this.startDate, 'day')) { //picking start\r\n                if (this.timePicker) {\r\n                    var hour = parseInt(this.container.find('.left .hourselect').val(), 10);\r\n                    if (!this.timePicker24Hour) {\r\n                        var ampm = this.container.find('.left .ampmselect').val();\r\n                        if (ampm === 'PM' && hour < 12)\r\n                            hour += 12;\r\n                        if (ampm === 'AM' && hour === 12)\r\n                            hour = 0;\r\n                    }\r\n                    var minute = parseInt(this.container.find('.left .minuteselect').val(), 10);\r\n                    if (isNaN(minute)) {\r\n                        minute = parseInt(this.container.find('.left .minuteselect option:last').val(), 10);\r\n                    }\r\n                    var second = this.timePickerSeconds ? parseInt(this.container.find('.left .secondselect').val(), 10) : 0;\r\n                    date = date.clone().hour(hour).minute(minute).second(second);\r\n                }\r\n                this.endDate = null;\r\n                this.setStartDate(date.clone());\r\n            } else if (!this.endDate && date.isBefore(this.startDate)) {\r\n                //special case: clicking the same date for start/end,\r\n                //but the time of the end date is before the start date\r\n                this.setEndDate(this.startDate.clone());\r\n            } else { // picking end\r\n                if (this.timePicker) {\r\n                    var hour = parseInt(this.container.find('.right .hourselect').val(), 10);\r\n                    if (!this.timePicker24Hour) {\r\n                        var ampm = this.container.find('.right .ampmselect').val();\r\n                        if (ampm === 'PM' && hour < 12)\r\n                            hour += 12;\r\n                        if (ampm === 'AM' && hour === 12)\r\n                            hour = 0;\r\n                    }\r\n                    var minute = parseInt(this.container.find('.right .minuteselect').val(), 10);\r\n                    if (isNaN(minute)) {\r\n                        minute = parseInt(this.container.find('.right .minuteselect option:last').val(), 10);\r\n                    }\r\n                    var second = this.timePickerSeconds ? parseInt(this.container.find('.right .secondselect').val(), 10) : 0;\r\n                    date = date.clone().hour(hour).minute(minute).second(second);\r\n                }\r\n                this.setEndDate(date.clone());\r\n                if (this.autoApply) {\r\n                  this.calculateChosenLabel();\r\n                  this.clickApply();\r\n                }\r\n            }\r\n\r\n            if (this.singleDatePicker) {\r\n                this.setEndDate(this.startDate);\r\n                if (!this.timePicker && this.autoApply)\r\n                    this.clickApply();\r\n            }\r\n\r\n            this.updateView();\r\n\r\n            //This is to cancel the blur event handler if the mouse was in one of the inputs\r\n            e.stopPropagation();\r\n\r\n        },\r\n\r\n        calculateChosenLabel: function () {\r\n            var customRange = true;\r\n            var i = 0;\r\n            for (var range in this.ranges) {\r\n              if (this.timePicker) {\r\n                    var format = this.timePickerSeconds ? \"YYYY-MM-DD HH:mm:ss\" : \"YYYY-MM-DD HH:mm\";\r\n                    //ignore times when comparing dates if time picker seconds is not enabled\r\n                    if (this.startDate.format(format) == this.ranges[range][0].format(format) && this.endDate.format(format) == this.ranges[range][1].format(format)) {\r\n                        customRange = false;\r\n                        this.chosenLabel = this.container.find('.ranges li:eq(' + i + ')').addClass('active').attr('data-range-key');\r\n                        break\r\n                    }\r\n                } else {\r\n                    //ignore times when comparing dates if time picker is not enabled\r\n                    if (this.startDate.format('YYYY-MM-DD') == this.ranges[range][0].format('YYYY-MM-DD') && this.endDate.format('YYYY-MM-DD') == this.ranges[range][1].format('YYYY-MM-DD')) {\r\n                        customRange = false;\r\n                        this.chosenLabel = this.container.find('.ranges li:eq(' + i + ')').addClass('active').attr('data-range-key');\r\n                        break;\r\n                    }\r\n                }\r\n                i++;\r\n            }\r\n            if (customRange) {\r\n                if (this.showCustomRangeLabel) {\r\n                    this.chosenLabel = this.container.find('.ranges li:last').addClass('active').attr('data-range-key');\r\n                } else {\r\n                    this.chosenLabel = null;\r\n                }\r\n                this.showCalendars();\r\n            }\r\n        },\r\n\r\n        clickApply: function(e) {\r\n            this.hide();\r\n            this.element.trigger('apply.daterangepicker', this);\r\n        },\r\n\r\n        clickCancel: function(e) {\r\n            this.startDate = moment().subtract(1, 'days');\r\n            this.endDate = moment().subtract(1, 'days');\r\n            this.hide();\r\n            this.element.trigger('cancel.daterangepicker', this);\r\n        },\r\n\r\n        monthOrYearChanged: function(e) {\r\n            var isLeft = $(e.target).closest('.drp-calendar').hasClass('left'),\r\n                leftOrRight = isLeft ? 'left' : 'right',\r\n                cal = this.container.find('.drp-calendar.'+leftOrRight);\r\n\r\n            // Month must be Number for new moment versions\r\n            var month = parseInt(cal.find('.monthselect').val(), 10);\r\n            var year = cal.find('.yearselect').val();\r\n\r\n            if (!isLeft) {\r\n                if (year < this.startDate.year() || (year == this.startDate.year() && month < this.startDate.month())) {\r\n                    month = this.startDate.month();\r\n                    year = this.startDate.year();\r\n                }\r\n            }\r\n\r\n            if (this.minDate) {\r\n                if (year < this.minDate.year() || (year == this.minDate.year() && month < this.minDate.month())) {\r\n                    month = this.minDate.month();\r\n                    year = this.minDate.year();\r\n                }\r\n            }\r\n\r\n            if (this.maxDate) {\r\n                if (year > this.maxDate.year() || (year == this.maxDate.year() && month > this.maxDate.month())) {\r\n                    month = this.maxDate.month();\r\n                    year = this.maxDate.year();\r\n                }\r\n            }\r\n\r\n            if (isLeft) {\r\n                this.leftCalendar.month.month(month).year(year);\r\n                if (this.linkedCalendars)\r\n                    this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');\r\n            } else {\r\n                this.rightCalendar.month.month(month).year(year);\r\n                if (this.linkedCalendars)\r\n                    this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');\r\n            }\r\n            this.updateCalendars();\r\n        },\r\n\r\n        timeChanged: function(e) {\r\n\r\n            var cal = $(e.target).closest('.drp-calendar'),\r\n                isLeft = cal.hasClass('left');\r\n\r\n            var hour = parseInt(cal.find('.hourselect').val(), 10);\r\n            var minute = parseInt(cal.find('.minuteselect').val(), 10);\r\n            if (isNaN(minute)) {\r\n                minute = parseInt(cal.find('.minuteselect option:last').val(), 10);\r\n            }\r\n            var second = this.timePickerSeconds ? parseInt(cal.find('.secondselect').val(), 10) : 0;\r\n\r\n            if (!this.timePicker24Hour) {\r\n                var ampm = cal.find('.ampmselect').val();\r\n                if (ampm === 'PM' && hour < 12)\r\n                    hour += 12;\r\n                if (ampm === 'AM' && hour === 12)\r\n                    hour = 0;\r\n            }\r\n\r\n            if (isLeft) {\r\n                var start = this.startDate.clone();\r\n                start.hour(hour);\r\n                start.minute(minute);\r\n                start.second(second);\r\n                this.setStartDate(start);\r\n                if (this.singleDatePicker) {\r\n                    this.endDate = this.startDate.clone();\r\n                } else if (this.endDate && this.endDate.format('YYYY-MM-DD') == start.format('YYYY-MM-DD') && this.endDate.isBefore(start)) {\r\n                    this.setEndDate(start.clone());\r\n                }\r\n            } else if (this.endDate) {\r\n                var end = this.endDate.clone();\r\n                end.hour(hour);\r\n                end.minute(minute);\r\n                end.second(second);\r\n                this.setEndDate(end);\r\n            }\r\n\r\n            //update the calendars so all clickable dates reflect the new time component\r\n            this.updateCalendars();\r\n\r\n            //update the form inputs above the calendars with the new time\r\n            this.updateFormInputs();\r\n\r\n            //re-render the time pickers because changing one selection can affect what's enabled in another\r\n            this.renderTimePicker('left');\r\n            this.renderTimePicker('right');\r\n\r\n        },\r\n\r\n        elementChanged: function() {\r\n            if (!this.element.is('input')) return;\r\n            if (!this.element.val().length) return;\r\n\r\n            var dateString = this.element.val().split(this.locale.separator),\r\n                start = null,\r\n                end = null;\r\n\r\n            if (dateString.length === 2) {\r\n                start = moment(dateString[0], this.locale.format);\r\n                end = moment(dateString[1], this.locale.format);\r\n            }\r\n\r\n            if (this.singleDatePicker || start === null || end === null) {\r\n                start = moment(this.element.val(), this.locale.format);\r\n                end = start;\r\n            }\r\n\r\n            if (!start.isValid() || !end.isValid()) return;\r\n\r\n            this.setStartDate(start);\r\n            this.setEndDate(end);\r\n            this.updateView();\r\n        },\r\n\r\n        keydown: function(e) {\r\n            //hide on tab or enter\r\n            if ((e.keyCode === 9) || (e.keyCode === 13)) {\r\n                this.hide();\r\n            }\r\n\r\n            //hide on esc and prevent propagation\r\n            if (e.keyCode === 27) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                this.hide();\r\n            }\r\n        },\r\n\r\n        updateElement: function() {\r\n            if (this.element.is('input') && this.autoUpdateInput) {\r\n                var newValue = this.startDate.format(this.locale.format);\r\n                if (!this.singleDatePicker) {\r\n                    newValue += this.locale.separator + this.endDate.format(this.locale.format);\r\n                }\r\n                if (newValue !== this.element.val()) {\r\n                    this.element.val(newValue).trigger('change');\r\n                }\r\n            }\r\n        },\r\n\r\n        remove: function() {\r\n            this.container.remove();\r\n            this.element.off('.daterangepicker');\r\n            this.element.removeData();\r\n        }\r\n\r\n    };\r\n\r\n    $.fn.daterangepicker = function(options, callback) {\r\n        var implementOptions = $.extend(true, {}, $.fn.daterangepicker.defaultOptions, options);\r\n        this.each(function() {\r\n            var el = $(this);\r\n            if (el.data('daterangepicker'))\r\n                el.data('daterangepicker').remove();\r\n            el.data('daterangepicker', new DateRangePicker(el, implementOptions, callback));\r\n        });\r\n        return this;\r\n    };\r\n\r\n    return DateRangePicker;\r\n\r\n}));"]}