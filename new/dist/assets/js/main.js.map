{"version":3,"sources":["base/main.js","base/utils.js","components/basic-sidebar/basic-sidebar.js","components/basic-footer/basic-footer.js","components/checkbox/checkbox.js","components/datepicker/datepicker.js","components/form-field/form-field.js","components/scrollable/scrollable.js","components/select/select.js","components/table/table.js","components/tooltip/tooltip.js"],"names":["HRM_BREAKPOINTS","tabletMaxWidth","mobileMaxWidth","ko","validation","init","insertMessages","moment","locale","bindingHandlers","hrmSlide","element","valueAccessor","allBindings","value","unwrap","get","$","slideDown","slideUp","data","utils","domNodeDisposal","addDisposeCallback","removeData","update","duration","hrmFade","fadeIn","fadeOut","inDelay","outDelay","delay","hrmElement","isObservableArray","has","splice","push","remove","hrmMask","pattern","options","inputmask","jitMasking","showMaskOnFocus","showMaskOnHover","hrmTimeAutocompleter","on","val","regExpExecuteResult","exec","trigger","hrmSplitComponentTemplateNodes","nodes","result","main","slots","filter","each","index","slotElement","$slot","attr","contents","node","nodeType","tagName","hrmSlideBeforeRemoveFactory","hrmSlideAfterAddFactory","hide","hrmFadeBeforeRemoveFactory","hrmFadeAfterAddFactory","rules","validator","params","isValid","message","registerExtenders","hrmTemplateIf","condition","undefined","components","register","viewModel","createViewModel","componentInfo","$element","addClass","template","ViewModel","_subscriptions","checked","isObservable","observable","checkboxGroup","owner","toggleClass","subscribe","prototype","dispose","forEach","s","hrmCheckboxGroupNextId","id","exportAs","hrmCheckboxGroupLabel","HrmDatepickerViewModel","_valueSubscription","_value","_daterangepicker","_applyHandler","_init","daterangepicker","singleDatePicker","showDropdown","autoUpdateInput","format","monthNames","daysOfWeek","firstDay","newValue","startDate","container","_setValue","v","elementChanged","off","instances","Map","previousBindingsList","hrmDatepicker","set","_destroy","instance","previousBindings","hrmFormFieldNextId","noLabel","subscriptions","templateNodes","controlWrapperElement","controlId","hasError","focused","hasValue","afterRender","hrmFormFieldInputControl","formField","$wrapper","wrapperClickHandler","focus","focusHandler","blurHandler","valueHandler","event","target","is","hrmFormFieldSelectControl","isMultiple","prop","select2Instance","selectionFocused","$selection","searchFocused","selection","$search","dropdownOpened","computed","$container","$dropdown","children","first","emptyCheckFn","Array","length","wrapperMousedownHandler","isOpen","setTimeout","open","selectionFocusHandler","selectionBlurHandler","searchFocusHandler","searchBlurHandler","openingHandler","closeHandler","changeHandler","searchUpdate","hrmFormFieldDatepickerControl","daterangepickerInstance","hrmFormFieldLabel","hrmScrollable","overlayScrollbars","className","hrmSelect","wrapperClass","customValuesAllowed","searchEnabled","Error","minimumResultsForSearch","Infinity","language","width","dropdownAutoWidth","dropdownCssClass","placeholder","tags","Select","fn","select2","amd","require","Search","originalSelectRenderFn","render","originalSearchUpdateFn","call","arguments","split","$results","unbind","$dropdownResultsContainer","parent","callbacks","onUpdated","dropdown","_positionDropdown","openHandler","scroll","isClosingAnimated","closingHandler","close","hrmTable","error","_windowResizeHandler","_clickHandler","_errorSubscription","_error","_isTabletOrMobile","_errorTippyInstance","_errorTippyClickHandler","click","subscribable","$content","find","notifySubscribers","_onWindowResize","window","height","$target","hasClass","tippy","arrow","distance","placement","onCreate","popperChildren","tooltip","disable","_setError","destroy","_updateErrorView","enable","setContent","_createErrorTooltipContent","show","setProps","interactive","appendTo","document","body","boundary","hideOnClick","isTabletOrMobile","hrmTableEditableCell","_focusHandler","_blurHandler","_owner","hrmTableEditableCellInputControl","_selectionFocusHandler","_selectionBlurHandler","_openingHandler","_closeHandler","hrmTableEditableCellSelectControl","StickyEvents","sectionWrappers","_sectionWrappers","_sectionWrapperElementStuckHandler","_sectionWrapperElementUnstuckHandler","_stickyEvents","scrollableContainer","addStickies","wrapper","stuck","addEventListener","STUCK","UNSTUCK","lastSectionWrappers","addedWrapper","_","difference","removedElement","removeEventListener","addSticky","disableEvents","hrmTableStickySectionContainer","hrmTableStickySectionWrapper","text","mode","_textSubscription","_text","_mode","_tippyInstance","_tooltipClickHandler","_setText","_update","_createContent","hrmTooltip"],"mappings":"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","file":"main.js","sourcesContent":["const HRM_BREAKPOINTS = {\r\n    tabletMaxWidth: 1219,\r\n    mobileMaxWidth: 767\r\n};\r\n\r\nko.validation.init({insertMessages: false});\r\n\r\nmoment.locale('ru');","ko.bindingHandlers.hrmSlide = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmSlideValue'));\r\n\r\n        if (value) {\r\n            $(element).slideDown(0);\r\n        } else {\r\n            $(element).slideUp(0);\r\n        }\r\n\r\n        $(element).data('hrmSlide', value);\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $(element).removeData('hrmSlide');\r\n        });\r\n    },\r\n    update: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmSlideValue'));\r\n        const duration = allBindings.get('hrmSlideDuration') || 200;\r\n\r\n        if ($(element).data('hrmSlide') !== value) {\r\n            if (value) {\r\n                $(element).slideDown(duration);\r\n            } else {\r\n                $(element).slideUp(duration);\r\n            }\r\n\r\n            $(element).data('hrmSlide', value);\r\n        }\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmFade = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmFadeValue'));\r\n\r\n        if (value) {\r\n            $(element).fadeIn(0);\r\n        } else {\r\n            $(element).fadeOut(0);\r\n        }\r\n\r\n        $(element).data('hrmFade', value);\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $(element).removeData('hrmFade');\r\n        });\r\n    },\r\n    update: function (element, valueAccessor, allBindings) {\r\n        const value = ko.unwrap(allBindings.get('hrmFadeValue'));\r\n        const duration = allBindings.get('hrmFadeDuration') || 200;\r\n        const inDelay = allBindings.get('hrmFadeInDelay') || 0;\r\n        const outDelay = allBindings.get('hrmFadeOutDelay') || 0;\r\n\r\n        if ($(element).data('hrmFade') !== value) {\r\n            if (value) {\r\n                $(element).delay(inDelay).fadeIn(duration);\r\n            } else {\r\n                $(element).delay(outDelay).fadeOut(duration);\r\n            }\r\n\r\n            $(element).data('hrmFade', value);\r\n        }\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmElement = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        if (ko.isObservableArray(valueAccessor())) {\r\n            if (allBindings.has('hrmElementIndex')) {\r\n                valueAccessor().splice(allBindings.get('hrmElementIndex'), 0, element);\r\n            } else {\r\n                valueAccessor().push(element);\r\n            }\r\n        } else {\r\n            valueAccessor()(element);\r\n        }\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            if (ko.isObservableArray(valueAccessor())) {\r\n                valueAccessor().remove(element);\r\n            } else {\r\n                valueAccessor()(null);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmMask = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const pattern = allBindings.get('hrmMaskPattern');\r\n        const options = allBindings.get('hrmMaskOptions');\r\n\r\n        $(element).inputmask(pattern, {\r\n            jitMasking: true,\r\n            showMaskOnFocus: false,\r\n            showMaskOnHover: false,\r\n            ...options\r\n        });\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmTimeAutocompleter = {\r\n    init: function (element) {\r\n        $(element).on('blur', () => {\r\n            const value = $(element).val();\r\n\r\n            const regExpExecuteResult = /^([0-9]{2}):\\s$/.exec(value);\r\n\r\n            if (regExpExecuteResult !== null && +regExpExecuteResult[1] < 24) {\r\n                $(element).val(regExpExecuteResult[1] + ':00').trigger('change');\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nfunction hrmSplitComponentTemplateNodes (nodes) {\r\n    const result = {\r\n        main: [],\r\n        slots: {}\r\n    };\r\n\r\n    $(nodes).filter('hrm-slot').each((index, slotElement) => {\r\n        const $slot = $(slotElement);\r\n        result.slots[$slot.attr('name')] = $slot.contents();\r\n    });\r\n\r\n    result.main = nodes.filter(node => {\r\n        return !(node.nodeType === 1 && node.tagName === 'HRM-SLOT');\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\nfunction hrmSlideBeforeRemoveFactory (duration = 200, delay = 0) {\r\n    return element => $(element).delay(delay).slideUp(duration, () => $(element).remove());\r\n}\r\n\r\nfunction hrmSlideAfterAddFactory (duration = 200, delay = 0) {\r\n    return element => $(element).hide().delay(delay).slideDown(duration);\r\n}\r\n\r\nfunction hrmFadeBeforeRemoveFactory (duration = 200, delay = 0) {\r\n    return element => $(element).delay(delay).fadeOut(duration, () => $(element).remove());\r\n}\r\n\r\nfunction hrmFadeAfterAddFactory (duration = 200, delay = 0) {\r\n    return element => $(element).hide().delay(delay).fadeIn(duration);\r\n}\r\n\r\n\r\nko.validation.rules['hrmDate'] = {\r\n    validator: function (val, params) {\r\n        return moment(val, params, true).isValid();\r\n    },\r\n    message: 'Неверный формат даты и времени'\r\n};\r\n\r\nko.validation.registerExtenders();\r\n\r\nfunction hrmTemplateIf (condition, data) {\r\n    return condition ? [data] : undefined;\r\n}\r\n","ko.components.register('hrm-basic-sidebar', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-basic-sidebar']);\r\n\r\n            return new (function () {});\r\n        }\r\n    },\r\n    template: `\r\n        <button class=\"hrm-button hrm-circle-icon-button hrm-circle-logout-icon-button\r\n                       hrm-circle-icon-button--theme_neutral hrm-basic-sidebar__logout-button\"\r\n                title=\"Войти/зарегистрироваться\">\r\n        </button>\r\n        <a class=\"hrm-basic-sidebar__support-link\" href=\"#\" title=\"Помощь\"></a>\r\n    `\r\n});","ko.components.register('hrm-basic-footer', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-basic-footer']);\r\n\r\n            return new (function () {});\r\n        }\r\n    },\r\n    template: `\r\n        <div class=\"hrm-basic-footer__branding\">\r\n            <div class=\"hrm-basic-footer__logo\"></div>\r\n            <span class=\"hrm-basic-footer__copyright\">© Lookin, 2020</span>\r\n        </div>\r\n        <a class=\"hrm-basic-footer__support-link\" href=\"#\">Техническая поддержка</a>\r\n    `\r\n});","ko.components.register('hrm-checkbox', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-checkbox']);\r\n\r\n            const ViewModel = function () {\r\n                this._subscriptions = [];\r\n\r\n                if (params !== undefined && 'checked' in params) {\r\n                    this.checked = ko.isObservable(params.checked) ? params.checked : ko.observable(params.checked);\r\n                } else {\r\n                    this.checked = ko.observable(false);\r\n                }\r\n\r\n                this.checkboxGroup = params !== undefined && 'owner' in params ? params.owner : null;\r\n\r\n                (() => {\r\n                    $element.toggleClass('hrm-checkbox--checked', this.checked());\r\n\r\n                    this._subscriptions.push(this.checked.subscribe(checked => {\r\n                        $element.toggleClass('hrm-checkbox--checked', checked);\r\n                    }));\r\n                })();\r\n            };\r\n\r\n            ViewModel.prototype.dispose = function() {\r\n                this._subscriptions.forEach(s => s.dispose());\r\n            };\r\n\r\n            return new ViewModel();\r\n        }\r\n    },\r\n    template: `\r\n        <label class=\"hrm-checkbox__layout\">\r\n            <input data-bind=\"checked: checked, attr: {id: checkboxGroup !== null && checkboxGroup() !== null ? checkboxGroup().id : undefined}\"\r\n                   type=\"checkbox\" hidden>\r\n        </label>\r\n    `\r\n});\r\n\r\nlet hrmCheckboxGroupNextId = 0;\r\n\r\nko.components.register('hrm-checkbox-group', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-checkbox-group']);\r\n\r\n            const ViewModel = function () {\r\n                this.id = 'hrm-checkbox-group-' + hrmCheckboxGroupNextId++;\r\n\r\n                (() => {\r\n                    if (params !== undefined && 'exportAs' in params) {\r\n                        if (ko.isObservableArray(params.exportAs)) {\r\n                            params.exportAs.push(this);\r\n                        } else {\r\n                            params.exportAs(this);\r\n                        }\r\n                    }\r\n                })();\r\n            };\r\n\r\n            ViewModel.prototype.dispose = function() {\r\n                if (params !== undefined && 'exportAs' in params) {\r\n                    if (ko.isObservableArray(params.exportAs)) {\r\n                        params.exportAs.remove(this);\r\n                    } else {\r\n                        params.exportAs(null);\r\n                    }\r\n                }\r\n            };\r\n\r\n            return new ViewModel();\r\n        }\r\n    },\r\n    template: `\r\n        <!-- ko template: {nodes: $componentTemplateNodes} --><!-- /ko -->\r\n    `\r\n});\r\n\r\nko.bindingHandlers.hrmCheckboxGroupLabel = {\r\n    init: function(element, valueAccessor, allBindings) {\r\n        const checkboxGroup = allBindings.get('hrmCheckboxGroupLabelOwner');\r\n\r\n        const $element = $(element);\r\n        $element.addClass('hrm-checkbox-group__label');\r\n        $element.attr('for', checkboxGroup().id);\r\n    }\r\n};","(() => {\r\n    class HrmDatepickerViewModel {\r\n        constructor(element, value) {\r\n            this._subscriptions = [];\r\n            this._valueSubscription = null;\r\n            this._value = null;\r\n            this._daterangepicker = null;\r\n            this._applyHandler = null;\r\n            this.element = element;\r\n\r\n            this._init(value);\r\n        }\r\n\r\n        _init(value) {\r\n            const $element = $(this.element);\r\n\r\n            $element.attr('autocomplete', 'off');\r\n\r\n            $element.daterangepicker({\r\n                singleDatePicker: true,\r\n                showDropdown: false,\r\n                autoUpdateInput: false,\r\n                locale: {\r\n                    format: 'DD.MM.YYYY, dddd',\r\n                    monthNames: [\r\n                        'Январь',\r\n                        'Февраль',\r\n                        'Март',\r\n                        'Апрель',\r\n                        'Май',\r\n                        'Июнь',\r\n                        'Июль',\r\n                        'Август',\r\n                        'Сентябрь',\r\n                        'Октябрь',\r\n                        'Ноябрь',\r\n                        'Декабрь'\r\n                    ],\r\n                    daysOfWeek: [\r\n                        'Вс',\r\n                        'Пн',\r\n                        'Вт',\r\n                        'Ср',\r\n                        'Чт',\r\n                        'Пт',\r\n                        'Сб'\r\n                    ],\r\n                    firstDay: 1\r\n                }\r\n            });\r\n\r\n            this._applyHandler = () => {\r\n                let newValue = this._daterangepicker.startDate.format(this._daterangepicker.locale.format);\r\n\r\n                if (newValue !== $element.val()) {\r\n                    $element.val(newValue).trigger('change');\r\n                }\r\n            };\r\n\r\n            $element.on('apply.daterangepicker', this._applyHandler);\r\n\r\n            this._daterangepicker = $element.data('daterangepicker');\r\n\r\n            this._daterangepicker.container.addClass('hrm-datepicker');\r\n\r\n            this._setValue(value);\r\n        }\r\n\r\n        _setValue(value) {\r\n            if (this._valueSubscription !== null) {\r\n                this._valueSubscription.dispose();\r\n                this._valueSubscription = null;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                if (ko.isObservable(value)) {\r\n                    this._valueSubscription = value.subscribe(v => {\r\n                        this._daterangepicker.elementChanged();\r\n                    });\r\n                } else {\r\n                    this._daterangepicker.elementChanged();\r\n                }\r\n            }\r\n\r\n            this._value = value;\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n\r\n            if (this._valueSubscription !== null) {\r\n                this._valueSubscription.dispose();\r\n            }\r\n\r\n            $element.off('apply.daterangepicker', this._applyHandler);\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmDatepicker = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const value = allBindings.get('value');\r\n            const viewModel = new HrmDatepickerViewModel(element, value);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['value'] !== allBindings.get('value')) {\r\n                    instance._setValue(allBindings.get('value'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();","let hrmFormFieldNextId = 0;\r\n\r\nko.components.register('hrm-form-field', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-form-field']);\r\n\r\n            if ('noLabel' in params && params.noLabel) {\r\n                $element.addClass(['hrm-form-field--no-label']);\r\n            }\r\n\r\n            const ViewModel = function () {\r\n                this.subscriptions = [];\r\n                this.templateNodes = hrmSplitComponentTemplateNodes(componentInfo.templateNodes);\r\n                this.element = componentInfo.element;\r\n                this.controlWrapperElement = ko.observable(null);\r\n                this.controlId = 'hrm-form-field-control-' + hrmFormFieldNextId++;\r\n\r\n                this.hasError = (params !== undefined && 'hasError' in params) ? params.hasError : false;\r\n                this.focused = ko.observable(false);\r\n                this.hasValue = ko.observable(false);\r\n\r\n                this.afterRender = function () {\r\n                    $element.toggleClass('hrm-form-field--focused', this.focused());\r\n                    this.subscriptions.push(this.focused.subscribe(focused => {\r\n                        $element.toggleClass('hrm-form-field--focused', focused);\r\n                    }));\r\n\r\n                    $element.toggleClass('hrm-form-field--has-value', this.hasValue());\r\n                    this.subscriptions.push(this.hasValue.subscribe(hasValue => {\r\n                        $element.toggleClass('hrm-form-field--has-value', hasValue);\r\n                    }));\r\n\r\n                    if (!ko.isObservable(this.hasError)) {\r\n                        $element.toggleClass('hrm-form-field--has-error', this.hasError);\r\n                    } else {\r\n                        $element.toggleClass('hrm-form-field--has-error', this.hasError());\r\n                        this.subscriptions.push(this.hasError.subscribe(hasError => {\r\n                            $element.toggleClass('hrm-form-field--has-error', hasError);\r\n                        }));\r\n                    }\r\n                };\r\n\r\n                if (params !== undefined && 'exportAs' in params) {\r\n                    if (ko.isObservableArray(params.exportAs)) {\r\n                        params.exportAs.push(this);\r\n                    } else {\r\n                        params.exportAs(this);\r\n                    }\r\n                }\r\n            };\r\n\r\n            ViewModel.prototype.dispose = function() {\r\n                this.subscriptions.forEach(s => s.dispose());\r\n\r\n                if (params !== undefined && 'exportAs' in params) {\r\n                    if (ko.isObservableArray(params.exportAs)) {\r\n                        params.exportAs.remove(this);\r\n                    } else {\r\n                        params.exportAs(null);\r\n                    }\r\n                }\r\n            };\r\n\r\n            return new ViewModel();\r\n        }\r\n    },\r\n    template: `\r\n        <!-- ko template: {afterRender: function () {afterRender();}} -->\r\n            <!-- ko template: {nodes: templateNodes.slots['label']} --><!-- /ko -->\r\n            <div class=\"hrm-form-field__control-wrapper\" data-bind=\"hrmElement: controlWrapperElement\">\r\n                <!-- ko template: {nodes: templateNodes.main} --><!-- /ko -->\r\n                <!-- ko template: {nodes: templateNodes.slots['suffix']} --><!-- /ko -->\r\n            </div>\r\n            <!-- ko template: {nodes: templateNodes.slots['error']} --><!-- /ko -->\r\n        <!-- /ko -->\r\n    `\r\n});\r\n\r\nko.components.register('hrm-form-field-error', {\r\n    viewModel: {\r\n        createViewModel: function (params, componentInfo) {\r\n            const $element = $(componentInfo.element);\r\n\r\n            $element.addClass(['hrm-form-field__error']);\r\n\r\n            return new (function () {\r\n                this.templateNodes = hrmSplitComponentTemplateNodes(componentInfo.templateNodes);\r\n            });\r\n        }\r\n    },\r\n    template: `\r\n        <span class=\"hrm-form-field__error-text\">\r\n            <!-- ko template: {nodes: templateNodes.main} --><!-- /ko -->\r\n        </span>\r\n    `\r\n});\r\n\r\nko.bindingHandlers.hrmFormFieldInputControl = {\r\n    init: function(element, valueAccessor, allBindings) {\r\n        const subscriptions = [];\r\n\r\n        const formField = allBindings.get('hrmFormFieldInputControlOwner');\r\n        const value = allBindings.get('value') || allBindings.get('textInput');\r\n        const $wrapper = $(formField().controlWrapperElement());\r\n\r\n        const $element = $(element);\r\n        $element.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_input']);\r\n        $element.attr('id', formField().controlId);\r\n\r\n        const wrapperClickHandler = () => $element.focus();\r\n        const focusHandler = () => formField().focused(true);\r\n        const blurHandler = () => formField().focused(false);\r\n        const valueHandler = event => {\r\n            const value = event.target.value;\r\n            formField().hasValue(value !== '');\r\n        };\r\n\r\n        $wrapper.on('click', wrapperClickHandler);\r\n        $element.on('focus', focusHandler);\r\n        $element.on('blur', blurHandler);\r\n        $element.on('input change', valueHandler);\r\n\r\n        formField().focused($element.is(':focus'));\r\n        formField().hasValue($element.val() !== '');\r\n\r\n        if (value !== undefined && ko.isObservable(value)) {\r\n            subscriptions.push(value.subscribe(v => {\r\n                formField().hasValue(v !== '');\r\n            }));\r\n        }\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $wrapper.off('click', wrapperClickHandler);\r\n            $element.off('focus', focusHandler);\r\n            $element.off('blur', blurHandler);\r\n            $element.off('input change', valueHandler);\r\n            subscriptions.forEach(s => s.dispose());\r\n        });\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmFormFieldSelectControl = {\r\n    init: function(element, valueAccessor, allBindings) {\r\n        const subscriptions = [];\r\n\r\n        const formField = allBindings.get('hrmFormFieldSelectControlOwner');\r\n        const $wrapper = $(formField().controlWrapperElement());\r\n\r\n        const $element = $(element);\r\n        const isMultiple = $element.prop('multiple');\r\n        const select2Instance = $element.data('select2');\r\n\r\n        const selectionFocused = ko.observable(select2Instance.$selection.is(':focus'));\r\n        const searchFocused = isMultiple ? ko.observable(select2Instance.selection.$search.is(':focus')) : null;\r\n        const dropdownOpened = ko.observable(false);\r\n\r\n        subscriptions.push(\r\n            ko.computed(() => selectionFocused() || dropdownOpened() || (searchFocused !== null && searchFocused()))\r\n                .subscribe(value => formField().focused(value))\r\n        );\r\n\r\n        $element.attr('id', formField().controlId);\r\n\r\n        select2Instance.$container.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_select']);\r\n        select2Instance.$dropdown.children().first().addClass(['hrm-form-field__dropdown']);\r\n\r\n        const emptyCheckFn = value => {\r\n            return value !== '' && value !== undefined && (!(value instanceof Array) || value.length !== 0);\r\n        };\r\n\r\n        const wrapperMousedownHandler = event => {\r\n            if (event.target !== element &&\r\n                select2Instance.$container.get()[0] !== event.target &&\r\n                select2Instance.$container.has(event.target).length === 0) {\r\n                const isOpen = select2Instance.isOpen();\r\n\r\n                setTimeout(() => {\r\n                    select2Instance.$selection.focus();\r\n\r\n                    if (!isOpen) {\r\n                        select2Instance.open();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        const selectionFocusHandler = () => selectionFocused(true);\r\n        const selectionBlurHandler = () => selectionFocused(false);\r\n        const searchFocusHandler = () => searchFocused(true);\r\n        const searchBlurHandler = () => searchFocused(false);\r\n        const openingHandler = () => dropdownOpened(true);\r\n        const closeHandler = () => dropdownOpened(false);\r\n        const changeHandler = () => {\r\n            const value = $element.val();\r\n            formField().hasValue(emptyCheckFn(value));\r\n        };\r\n        const searchUpdate = () => {\r\n            if (isMultiple) {\r\n                select2Instance.selection.$search.off('focus', searchFocusHandler);\r\n                select2Instance.selection.$search.off('blur', searchBlurHandler);\r\n\r\n                select2Instance.selection.$search.on('focus', searchFocusHandler);\r\n                select2Instance.selection.$search.on('blur', searchBlurHandler);\r\n            }\r\n        };\r\n\r\n        select2Instance.$selection.on('focus', selectionFocusHandler);\r\n        select2Instance.$selection.on('blur', selectionBlurHandler);\r\n        if (isMultiple) {\r\n            select2Instance.selection.$search.on('focus', searchFocusHandler);\r\n            select2Instance.selection.$search.on('blur', searchBlurHandler);\r\n        }\r\n        $wrapper.on('mousedown', wrapperMousedownHandler);\r\n        $element.on('change.select2', changeHandler);\r\n        $element.on('select2:opening', openingHandler);\r\n        $element.on('select2:close', closeHandler);\r\n        $element.on('hrm-select:search-update', searchUpdate);\r\n\r\n        formField().hasValue(emptyCheckFn($element.val()));\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            subscriptions.forEach(s => s.dispose());\r\n            $wrapper.off('mousedown', wrapperMousedownHandler);\r\n            select2Instance.$selection.off('focus', selectionFocusHandler);\r\n            select2Instance.$selection.off('blur', selectionBlurHandler);\r\n            if (isMultiple) {\r\n                select2Instance.selection.$search.off('focus', searchFocusHandler);\r\n                select2Instance.selection.$search.off('blur', searchBlurHandler);\r\n            }\r\n            $(element).off('change.select2', changeHandler);\r\n            $element.off('select2:opening', openingHandler);\r\n            $element.off('select2:close', closeHandler);\r\n            $element.off('hrm-select:search-update', searchUpdate);\r\n        });\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmFormFieldDatepickerControl = {\r\n    init: function(element, valueAccessor, allBindings) {\r\n        const formField = allBindings.get('hrmFormFieldDatepickerControlOwner');\r\n        const $wrapper = $(formField().controlWrapperElement());\r\n\r\n        const $element = $(element);\r\n        $element.addClass(['hrm-form-field__control', 'hrm-form-field__control--type_datepicker']);\r\n        $element.attr('id', formField().controlId);\r\n\r\n        const daterangepickerInstance = $element.data('daterangepicker');\r\n\r\n        daterangepickerInstance.container.addClass('hrm-form-field__dropdown');\r\n\r\n        const wrapperClickHandler = () => $element.focus();\r\n        const focusHandler = () => formField().focused(true);\r\n        const blurHandler = () => formField().focused(false);\r\n        const valueHandler = event => {\r\n            const value = event.target.value;\r\n            formField().hasValue(value !== '');\r\n        };\r\n\r\n        $wrapper.on('click', wrapperClickHandler);\r\n        $element.on('focus', focusHandler);\r\n        $element.on('blur', blurHandler);\r\n        $element.on('input change', valueHandler);\r\n\r\n        formField().focused($element.is(':focus'));\r\n        formField().hasValue($element.val() !== '');\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $wrapper.off('click', wrapperClickHandler);\r\n            $element.off('focus', focusHandler);\r\n            $element.off('blur', blurHandler);\r\n            $element.off('input change', valueHandler);\r\n        });\r\n    }\r\n};\r\n\r\nko.bindingHandlers.hrmFormFieldLabel = {\r\n    init: function(element, valueAccessor, allBindings) {\r\n        const formField = allBindings.get('hrmFormFieldLabelOwner');\r\n\r\n        const $element = $(element);\r\n        $element.addClass('hrm-form-field__label');\r\n        $element.attr('for', formField().controlId);\r\n    }\r\n};","ko.bindingHandlers.hrmScrollable = {\r\n    init: function (element) {\r\n        const $element = $(element);\r\n        $element.addClass('hrm-scrollable__content');\r\n        $element.overlayScrollbars({\r\n            className: 'hrm-scrollable'\r\n        });\r\n    }\r\n};","ko.bindingHandlers.hrmSelect = {\r\n    init: function (element, valueAccessor, allBindings) {\r\n        const $element = $(element);\r\n        const isMultiple = $element.prop('multiple');\r\n        const value = !isMultiple ? allBindings.get('value') : allBindings.get('selectedOptions');\r\n        const wrapperClass = allBindings.get('hrmSelectClass');\r\n        const customValuesAllowed = allBindings.has('hrmSelectCustomValuesAllowed') ? allBindings.get('hrmSelectCustomValuesAllowed') : false;\r\n        const searchEnabled = allBindings.has('hrmSelectSearchEnabled') ? allBindings.get('hrmSelectSearchEnabled') : false;\r\n\r\n        if (customValuesAllowed && (!isMultiple && !searchEnabled)) {\r\n            throw Error('You have to enable both options \"hrmSelectCustomValuesAllowed\" and \"hrmSelectSearchEnabled\"');\r\n        }\r\n\r\n        const options = {\r\n            minimumResultsForSearch: searchEnabled ? 0 : Infinity,\r\n            language: 'ru',\r\n            width: '100%',\r\n            dropdownAutoWidth: true,\r\n            dropdownCssClass: 'hrm-select__dropdown',\r\n            placeholder: ' ',\r\n            tags: customValuesAllowed\r\n        };\r\n\r\n        const Select = $.fn.select2.amd.require('jquery.select2');\r\n        const Search = $.fn.select2.amd.require('select2/selection/search');\r\n\r\n        const originalSelectRenderFn = Select.prototype.render;\r\n        const originalSearchUpdateFn = Search.prototype.update;\r\n\r\n        Select.prototype.render = function () {\r\n            const $container = originalSelectRenderFn.call(this, ...arguments);\r\n            $container.addClass('hrm-select');\r\n\r\n            if (wrapperClass !== undefined) {\r\n                $container.addClass(wrapperClass.split(' '));\r\n            }\r\n\r\n            return $container;\r\n        };\r\n\r\n        Search.prototype.update = function () {\r\n            originalSearchUpdateFn.call(this, ...arguments);\r\n            $element.trigger('hrm-select:search-update');\r\n        };\r\n\r\n        $element.select2(options);\r\n\r\n        Select.prototype.render = originalSelectRenderFn;\r\n        Search.prototype.update = originalSearchUpdateFn;\r\n\r\n        const select2Instance = $element.data('select2');\r\n\r\n        select2Instance.$results.unbind('mousewheel');\r\n\r\n        const $dropdownResultsContainer = $element.data('select2').$results.parent();\r\n        $dropdownResultsContainer.overlayScrollbars({\r\n            callbacks: {\r\n                    onUpdated: () => {\r\n                    if (select2Instance.$dropdown.is(':visible')) {\r\n                        select2Instance.dropdown._positionDropdown();\r\n\r\n                        // Правка бага в Chrome с неправильным синхронным вычислением положения выпадающего списка\r\n                        setTimeout(() => {\r\n                            select2Instance.dropdown._positionDropdown();\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        const openHandler = () => {\r\n            $dropdownResultsContainer.overlayScrollbars().scroll(0);\r\n        };\r\n\r\n        const openingHandler = () => {\r\n            select2Instance.$dropdown.hide().fadeIn(150);\r\n        };\r\n\r\n        let isClosingAnimated = false;\r\n        const closingHandler = () => {\r\n            if (!isClosingAnimated) {\r\n                select2Instance.$dropdown.fadeOut(150, () => {\r\n                    isClosingAnimated = true;\r\n                    select2Instance.close();\r\n                });\r\n\r\n                return false;\r\n            } else {\r\n                isClosingAnimated = false;\r\n                return true;\r\n            }\r\n        };\r\n\r\n        $element.on('select2:open', openHandler);\r\n        $element.on('select2:opening', openingHandler);\r\n        $element.on('select2:closing', closingHandler);\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $element.off('select2:open', openHandler);\r\n            $element.off('select2:opening', openingHandler);\r\n            $element.off('select2:closing', closingHandler);\r\n        });\r\n    },\r\n    update: function (element, valueAccessor, allBindings) {\r\n        const $element = $(element);\r\n        const isMultiple = $element.prop('multiple');\r\n        const value = !isMultiple ? allBindings.get('value') : allBindings.get('selectedOptions');\r\n\r\n        if (value !== undefined && ko.isObservable(value)) {\r\n            value.subscribe(v => {\r\n                $element.trigger('change.select2');\r\n            });\r\n        }\r\n    }\r\n};","ko.bindingHandlers.hrmTable = {\r\n    init: function (element) {\r\n        const $element = $(element);\r\n        $element.addClass('hrm-table');\r\n    }\r\n};\r\n\r\n// hrmEditableTableCell\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, error) {\r\n            this._subscriptions = [];\r\n            this._windowResizeHandler = null;\r\n            this._clickHandler = null;\r\n            this._errorSubscription = null;\r\n            this._error = error;\r\n            this._isTabletOrMobile = null;\r\n            this._errorTippyInstance = null;\r\n            this._errorTippyClickHandler = null;\r\n            this.element = element;\r\n            this.focused = ko.observable(false);\r\n            this.click = new ko.subscribable();\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            const $content = $element.find('.hrm-table__editable-cell-content');\r\n            $element.addClass('hrm-table__editable-cell');\r\n\r\n            this._clickHandler = event => {\r\n                if (event.target === $element[0] || ($content.length > 0 && event.target === $content[0])) {\r\n                    this.click.notifySubscribers();\r\n                }\r\n            };\r\n\r\n            $element.on('click', this._clickHandler);\r\n\r\n            this._subscriptions.push(this.focused.subscribe(focused => {\r\n                $element.toggleClass('hrm-table__editable-cell--focused', focused);\r\n            }));\r\n\r\n            this._windowResizeHandler = () => {\r\n                this._onWindowResize($(window).width(), $(window).height());\r\n            };\r\n\r\n            $(window).on('resize', this._windowResizeHandler);\r\n\r\n            this._errorTippyClickHandler = event => {\r\n                const $target = $(event.target);\r\n                if ($target.hasClass('hrm-table__editable-cell-error-tooltip-close-button')) {\r\n                    this._errorTippyInstance.hide();\r\n                }\r\n            };\r\n\r\n            this._errorTippyInstance = tippy(this.element, {\r\n                arrow: false,\r\n                distance: 7,\r\n                placement: 'bottom',\r\n                onCreate: instance => {\r\n                    $(instance.popperChildren.tooltip).addClass('hrm-table__editable-cell-error-tooltip');\r\n                    $(instance.popperChildren.tooltip).on('click', this._errorTippyClickHandler);\r\n                    instance.disable();\r\n                }\r\n            });\r\n\r\n            this._windowResizeHandler();\r\n\r\n            this._setError(this._error);\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            $(window).off('resize', this._windowResizeHandler);\r\n            $(this._errorTippyInstance.popperChildren.tooltip).on('click', this._errorTippyClickHandler);\r\n            this._errorTippyInstance.destroy();\r\n        }\r\n\r\n        _setError(error) {\r\n            if (this._errorSubscription !== null) {\r\n                this._errorSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(error)) {\r\n                this._errorSubscription = error.subscribe(error => {\r\n                    this._error = error;\r\n                    this._updateErrorView();\r\n                });\r\n\r\n                this._error = error();\r\n            } else {\r\n                this._error = error;\r\n            }\r\n\r\n            this._updateErrorView();\r\n        }\r\n\r\n        _updateErrorView() {\r\n            $(this.element).toggleClass('hrm-table__editable-cell--has-error', !!this._error);\r\n\r\n            if (!!this._error && this._error.message !== null) {\r\n                this._errorTippyInstance.enable();\r\n                this._errorTippyInstance.setContent(this._createErrorTooltipContent(this._error.message));\r\n\r\n                if (this._isTabletOrMobile) {\r\n                    this._errorTippyInstance.show(0);\r\n                    this._errorTippyInstance.setProps({\r\n                        interactive: true,\r\n                        appendTo: document.body,\r\n                        boundary: 'viewport',\r\n                        hideOnClick: false,\r\n                        trigger: 'manual'\r\n                    });\r\n                } else {\r\n                    this._errorTippyInstance.setProps({\r\n                        interactive: false,\r\n                        hideOnClick: true,\r\n                        trigger: 'mouseenter'\r\n                    });\r\n                }\r\n            } else {\r\n                this._errorTippyInstance.disable();\r\n            }\r\n        }\r\n\r\n        _onWindowResize(width, height) {\r\n            const isTabletOrMobile = width <= HRM_BREAKPOINTS.tabletMaxWidth;\r\n\r\n            if (this._isTabletOrMobile !== isTabletOrMobile) {\r\n                this._isTabletOrMobile = isTabletOrMobile;\r\n                this._updateErrorView();\r\n            }\r\n        }\r\n\r\n        _createErrorTooltipContent(message) {\r\n            return `\r\n                <span class=\"hrm-table__editable-cell-error-tooltip-text\">${message}</span>\r\n                <button class=\"hrm-button hrm-table__editable-cell-error-tooltip-close-button\">\r\n                </button>\r\n            `;\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmTableEditableCell = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const error = allBindings.get('hrmTableEditableCellError');\r\n            const viewModel = new ViewModel(element, error);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmTableEditableCellError'] !== allBindings.get('hrmTableEditableCellError')) {\r\n                    instance._setError(allBindings.get('hrmTableEditableCellError'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmEditableTableCellInputControl\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, owner) {\r\n            this._subscriptions = [];\r\n            this._focusHandler = null;\r\n            this._blurHandler = null;\r\n            this.element = element;\r\n            this._owner = owner;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass(['hrm-table__editable-cell-control', 'hrm-table__editable-cell-control--type_input']);\r\n\r\n            this._focusHandler = () => ko.unwrap(this._owner).focused(true);\r\n            this._blurHandler = () => ko.unwrap(this._owner).focused(false);\r\n\r\n            $element.on('focus', this._focusHandler);\r\n            $element.on('blur', this._blurHandler);\r\n\r\n            this._subscriptions.push(ko.unwrap(this._owner).click.subscribe(() => {\r\n                $element.focus();\r\n            }));\r\n\r\n            ko.unwrap(this._owner).focused($element.is(':focus'));\r\n        }\r\n\r\n        _destroy() {\r\n            const $element = $(this.element);\r\n            $element.off('focus', this._focusHandler);\r\n            $element.off('blur', this._blurHandler);\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableEditableCellInputControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const owner = allBindings.get('hrmTableEditableCellInputControlOwner');\r\n            const viewModel = new ViewModel(element, owner);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmEditableTableCellSelectControl\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, owner) {\r\n            this._subscriptions = [];\r\n            this._selectionFocusHandler = null;\r\n            this._selectionBlurHandler = null;\r\n            this._openingHandler = null;\r\n            this._closeHandler = null;\r\n            this.element = element;\r\n            this._owner = owner;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            const select2Instance = $element.data('select2');\r\n\r\n            select2Instance.$container.addClass(['hrm-table__editable-cell-control', 'hrm-table__editable-cell-control--type_select']);\r\n            select2Instance.$dropdown.children().first().addClass(['hrm-table__editable-cell-dropdown']);\r\n\r\n            const selectionFocused = ko.observable(select2Instance.$selection.is(':focus'));\r\n            const dropdownOpened = ko.observable(false);\r\n\r\n            this._subscriptions.push(\r\n                ko.computed(() => selectionFocused() || dropdownOpened())\r\n                    .subscribe(value => ko.unwrap(this._owner).focused(value))\r\n            );\r\n\r\n            this._selectionFocusHandler = () => selectionFocused(true);\r\n            this._selectionBlurHandler = () => selectionFocused(false);\r\n            this._openingHandler = () => dropdownOpened(true);\r\n            this._closeHandler = () => dropdownOpened(false);\r\n\r\n            select2Instance.$selection.on('focus', this._selectionFocusHandler);\r\n            select2Instance.$selection.on('blur', this._selectionBlurHandler);\r\n            $element.on('select2:opening', this._openingHandler);\r\n            $element.on('select2:close', this._closeHandler);\r\n\r\n            selectionFocused(select2Instance.$selection.is(':focus'));\r\n\r\n            this._subscriptions.push(ko.unwrap(this._owner).click.subscribe(() => {\r\n                select2Instance.open();\r\n            }));\r\n        }\r\n\r\n        _destroy() {\r\n            const $element = $(this.element);\r\n            const select2Instance = $element.data('select2');\r\n            select2Instance.$selection.off('focus', this._selectionFocusHandler);\r\n            select2Instance.$selection.off('blur', this._selectionBlurHandler);\r\n            $element.off('select2:opening', this._openingHandler);\r\n            $element.off('select2:close', this._closeHandler);\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableEditableCellSelectControl = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const owner = allBindings.get('hrmTableEditableCellSelectControlOwner');\r\n            const viewModel = new ViewModel(element, owner);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmTableStickySectionContainer\r\n(() => {\r\n    const StickyEvents = window['stickyEvents'];\r\n\r\n    class ViewModel {\r\n        constructor(element, sectionWrappers) {\r\n            this._subscriptions = [];\r\n            this._sectionWrappers = sectionWrappers;\r\n            this._sectionWrapperElementStuckHandler = null;\r\n            this._sectionWrapperElementUnstuckHandler = null;\r\n            this.element = element;\r\n            this._stickyEvents = null;\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass('hrm-table__sticky-section-container');\r\n\r\n            const scrollableContainer = $('.hrm-scaffold__body').length > 0 ? $('.hrm-scaffold__body')[0] : $('body')[0];\r\n\r\n            this._stickyEvents = new StickyEvents({\r\n                container: scrollableContainer\r\n            });\r\n\r\n            this._stickyEvents.addStickies(this._sectionWrappers());\r\n\r\n            this._sectionWrapperElementStuckHandler = event => {\r\n                const wrapper = this._sectionWrappers().find(wrapper => wrapper.element === event.target);\r\n                wrapper.stuck(true);\r\n            };\r\n\r\n            this._sectionWrapperElementUnstuckHandler = event => {\r\n                const wrapper = this._sectionWrappers().find(wrapper => wrapper.element === event.target);\r\n                wrapper.stuck(false);\r\n            };\r\n\r\n            this._sectionWrappers().forEach(wrapper => {\r\n                wrapper.element.addEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                wrapper.element.addEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n            });\r\n\r\n            let lastSectionWrappers = [...this._sectionWrappers()];\r\n\r\n            this._subscriptions.push(this._sectionWrappers.subscribe(addedWrapper => {\r\n                _.difference(lastSectionWrappers, addedWrapper).forEach(removedElement => {\r\n                    removedElement.element.removeEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                    removedElement.element.removeEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n                });\r\n\r\n                _.difference(addedWrapper, lastSectionWrappers).forEach(addedWrapper => {\r\n                    addedWrapper.element.addEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                    addedWrapper.element.addEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n\r\n                    this._stickyEvents.addSticky(addedWrapper.element);\r\n                    $(addedWrapper.element).addClass('sticky-events');\r\n                });\r\n\r\n                lastSectionWrappers = [...addedWrapper];\r\n            }))\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n            this._sectionWrappers().forEach(wrapper => {\r\n                wrapper.element.removeEventListener(StickyEvents.STUCK, this._sectionWrapperElementStuckHandler);\r\n                wrapper.element.removeEventListener(StickyEvents.UNSTUCK, this._sectionWrapperElementUnstuckHandler);\r\n            });\r\n\r\n            this._stickyEvents.disableEvents();\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableStickySectionContainer = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const sectionWrappers = allBindings.get('hrmTableStickySectionContainerSectionWrappers');\r\n            const viewModel = new ViewModel(element, sectionWrappers);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n// hrmTableStickySectionWrapper\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, sectionWrappers) {\r\n            this._subscriptions = [];\r\n            this.element = element;\r\n            this.stuck = ko.observable(false);\r\n\r\n            this._init();\r\n        }\r\n\r\n        _init() {\r\n            const $element = $(this.element);\r\n            $element.addClass('hrm-table__sticky-section-wrapper');\r\n            $element.toggleClass('hrm-table__sticky-section-wrapper--stuck', this.stuck());\r\n\r\n            this._subscriptions.push(this.stuck.subscribe(stuck => {\r\n                $element.toggleClass('hrm-table__sticky-section-wrapper--stuck', stuck);\r\n            }));\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n        }\r\n    }\r\n\r\n    ko.bindingHandlers.hrmTableStickySectionWrapper = {\r\n        init: function (element, valueAccessor) {\r\n            const viewModel = new ViewModel(element);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        }\r\n    };\r\n})();\r\n\r\n","// hrmTooltip\r\n(() => {\r\n    class ViewModel {\r\n        constructor(element, text, mode = 'basic') {\r\n            this._subscriptions = [];\r\n            this._textSubscription = null;\r\n            this._clickHandler = null;\r\n            this._text = null;\r\n            this._mode = mode;\r\n            this.element = element;\r\n            this._tippyInstance = null;\r\n\r\n            this._init(text);\r\n        }\r\n\r\n        _init(text) {\r\n            if (this._mode === 'large') {\r\n                this._clickHandler = () => {\r\n                    this._tippyInstance.show();\r\n                };\r\n\r\n                $(this.element).on('click', this._clickHandler);\r\n\r\n                this._tooltipClickHandler = event => {\r\n                    const $target = $(event.target);\r\n                    if ($target.hasClass('hrm-tooltip__close-button')) {\r\n                        this._tippyInstance.hide();\r\n                    }\r\n                };\r\n            }\r\n\r\n            this._tippyInstance = tippy(this.element, {\r\n                arrow: false,\r\n                distance: 7,\r\n                placement: 'bottom',\r\n                interactive: true,\r\n                appendTo: document.body,\r\n                boundary: 'viewport',\r\n                hideOnClick: this._mode === 'basic',\r\n                trigger: this._mode === 'basic' ? 'mouseenter click' : 'manual',\r\n                onCreate: instance => {\r\n                    $(instance.popperChildren.tooltip).addClass('hrm-tooltip');\r\n                    $(instance.popperChildren.tooltip).addClass(this._mode === 'basic' ? 'hrm-tooltip--mode_basic' : 'hrm-tooltip--mode_large');\r\n\r\n                    if (this._mode === 'large') {\r\n                        $(instance.popperChildren.tooltip).on('click', this._tooltipClickHandler);\r\n                    }\r\n                }\r\n            });\r\n\r\n            this._setText(text);\r\n        }\r\n\r\n        _setText(text) {\r\n            if (this._textSubscription !== null) {\r\n                this._textSubscription.dispose();\r\n            }\r\n\r\n            if (ko.isObservable(text)) {\r\n                this._textSubscription = text.subscribe(text => {\r\n                    this._text = text;\r\n                    this._update();\r\n                });\r\n\r\n                this._text = text();\r\n            } else {\r\n                this._text = text;\r\n            }\r\n\r\n            this._update();\r\n        }\r\n\r\n        _update() {\r\n            this._tippyInstance.setContent(this._createContent(this._text, this._mode));\r\n        }\r\n\r\n        _createContent(text, mode) {\r\n            let result = `<div class=\"hrm-tooltip__text\">${text}</div>`;\r\n\r\n            if (mode === 'large') {\r\n                result += '<button class=\"hrm-button hrm-tooltip__close-button\">Ок</button>';\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        _destroy() {\r\n            this._subscriptions.forEach(s => s.dispose());\r\n\r\n            if (this._mode === 'large') {\r\n                $(this.element).off('click', this._clickHandler);\r\n            }\r\n        }\r\n    }\r\n\r\n    const instances = new Map();\r\n    const previousBindingsList = new Map();\r\n\r\n    ko.bindingHandlers.hrmTooltip = {\r\n        init: function (element, valueAccessor, allBindings) {\r\n            const text = allBindings.get('hrmTooltipText');\r\n            const mode = allBindings.get('hrmTooltipMode');\r\n            const viewModel = new ViewModel(element, text, mode);\r\n\r\n            instances.set(element, viewModel);\r\n\r\n            if (valueAccessor() !== undefined) {\r\n                if (ko.isObservableArray(valueAccessor())) {\r\n                    valueAccessor().push(viewModel);\r\n                } else {\r\n                    valueAccessor()(viewModel);\r\n                }\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                if (valueAccessor() !== undefined) {\r\n                    if (ko.isObservableArray(valueAccessor())) {\r\n                        valueAccessor().remove(this);\r\n                    } else {\r\n                        valueAccessor()(null);\r\n                    }\r\n                }\r\n\r\n                viewModel._destroy();\r\n            });\r\n        },\r\n        update: function (element, valueAccessor, allBindings) {\r\n            const instance = instances.get(element);\r\n            const previousBindings = previousBindingsList.get(element);\r\n\r\n            if (previousBindings !== undefined) {\r\n                if (previousBindings['hrmTooltipText'] !== allBindings.get('hrmTooltipText')) {\r\n                    instance._setText(allBindings.get('hrmTooltipText'));\r\n                }\r\n            }\r\n\r\n            previousBindingsList.set(element, allBindings());\r\n        }\r\n    };\r\n})();\r\n"]}