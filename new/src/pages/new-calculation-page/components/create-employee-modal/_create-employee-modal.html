<template id="create-employee-modal-dialog-template">

  <button class="hrm-button hrm-basic-modal-dialog__close-button"
          data-bind="click: function() { cancel(); }"
          aria-label="Close">
  </button>

  <div class="hrm-basic-modal-dialog__header">
    <h2 class="hrm-basic-modal-dialog__title">
      Создать сотрудника
    </h2>
  </div>

  <div class="hrm-basic-modal-dialog__body employee-form"
       data-bind="using: formModel">

    <div class="employee-form__row">
      <!-- Name field -->
      <!-- ko let: {control: ko.observable(null), label: ko.observable(null)} -->
      <div class="employee-form__name"
           data-bind="hrmFormField, hrmFormFieldControlRef: control, hrmFormFieldLabelRef: label">
        <label data-bind="hrmFormFieldLabel: label">ФИО сотрудника</label>

        <div data-bind="hrmFormFieldBasis, hrmFormFieldBasisControl: control, hrmFormFieldBasisAllowClear">
          <input data-bind="
              textInput: name,
              hrmFormFieldInputControl: control,
              hrmFormFieldInputControlErrorStateMatcher: $component.formControlErrorStateMatcher.bind($component)
          ">
        </div>

        <div data-bind="
          component: {name: 'hrm-form-field-error'},
          hrmSlide,
          hrmSlideValue: control() !== null ? control().errorState : false,
          hrmSlideDuration: 150
      ">
          <!-- ko text: $parent.name.error() -->
          <!-- /ko -->
        </div>
      </div>
      <!-- /ko -->
      <!-- /Name field -->
    </div>

    <div class="employee-form__row">
      <!-- Position select -->
      <!-- ko let: {control: ko.observable(null), label: ko.observable(null) } -->
      <div class="employee-form__position"
           data-bind="hrmFormField, hrmFormFieldControlRef: control, hrmFormFieldLabelRef: label">
        <label data-bind="hrmFormFieldLabel: label">
          Должность
        </label>

        <div data-bind="hrmFormFieldBasis, hrmFormFieldBasisControl: control">
          <select data-bind="value: position,
              options: $component.positions,
              optionsText: 'name',
              optionsValue: 'id',
              valueAllowUnset: true,
              hrmSelect,
              hrmSelectPlaceholder: 'Не выбрано',
              hrmSelectSearchEnabled: true,
              hrmSelectAllowClear: true,
              hrmFormFieldSelectControl: control,
              hrmFormFieldSelectControlErrorStateMatcher: $component.formControlErrorStateMatcher.bind($component)">
          </select>
        </div>

        <div data-bind="
          component: {name: 'hrm-form-field-error'},
          hrmSlide,
          hrmSlideValue: control() !== null ? control().errorState : false,
          hrmSlideDuration: 150
      ">
          <!-- ko text: $parent.position.error() -->
          <!-- /ko -->
        </div>
      </div>
      <!-- /ko -->
      <!-- /Position select -->


      <!-- Levels select -->
      <!-- ko let: {control: ko.observable(null), label: ko.observable(null) } -->
      <div class="employee-form__level"
           data-bind="hrmFormField, hrmFormFieldControlRef: control, hrmFormFieldLabelRef: label">
        <label data-bind="hrmFormFieldLabel: label">
          Разряд
        </label>

        <div data-bind="hrmFormFieldBasis, hrmFormFieldBasisControl: control">
          <select data-bind="value: level,
              disable: $component.levels().length === 0,
              options: $component.levels,
              valueAllowUnset: true,
              hrmSelect,
              hrmSelectPlaceholder: 'Не выбрано', hrmSelectAllowClear: true,
              hrmFormFieldSelectControl: control">
          </select>
        </div>
      </div>
      <!-- /ko -->
      <!-- /Levels select -->
    </div>


  </div>

  <div class="hrm-basic-modal-dialog__action-list">
    <button class="hrm-button hrm-basic-button hrm-basic-modal-dialog__action-list-item
         position-page__speciality-modal-dialog-cancel-button"
            data-bind="click: function() {cancel();}">
      Отменить
    </button>

    <button class="hrm-button hrm-basic-button hrm-accent-button hrm-basic-modal-dialog__action-list-item
         position-page__speciality-modal-dialog-submit-button"
            data-bind="click: function() {submit();}">
      Сохранить
    </button>
  </div>

</template>
