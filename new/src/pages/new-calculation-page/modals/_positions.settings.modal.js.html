<script type="text/javascript">
    $(function () {
        ko.components.register('calculation-settings-positions-modal-dialog', {
            viewModel: {
                createViewModel: function (params, componentInfo) {
                    const $element = $(componentInfo.element);

                    $element.addClass([
                        'modal-dialog',
                        'modal-dialog-centered',
                        'hrm-modal-dialog',
                        'hrm-basic-modal-dialog'
                    ]);

                    return new (function () {

                        //this.mode = params.data.mode;
                        //this.data = params.data.data;


                        this.formModel = ko.validatedObservable({

                        });

                        this.formControlErrorStateMatcher = function (formControl) {
                            return ko.pureComputed(() => {
                                return this.isSubmitted() && !formControl.isValid();
                            });
                        };

                        this.cancel = function () {
                            if ('cancel' in params) {
                                params.cancel();
                            }
                        };

                        this.submit = function () {
                            if (this.formModel.isValid()) {
                                if ('submit' in params) {
                                    params.submit('hello')
                                }
                            }
                        };
                    });
                }
            },
            template: {
                element: document.getElementById('calculation-settings-positions-modal-dialog-template')
            }
        });
    });
</script>

<template id="calculation-settings-positions-modal-dialog-template">

    <button class="hrm-button hrm-basic-modal-dialog__close-button"
            data-bind="click: function() { cancel(); }"
            aria-label="Close">
    </button>

    <div class="hrm-basic-modal-dialog__header">
        <h2 class="hrm-basic-modal-dialog__title">
            Показывать в таблице должности
        </h2>
    </div>

    <div class="hrm-basic-modal-dialog__body">
    </div>

    <div class="hrm-basic-modal-dialog__action-list">
        <button class="hrm-button hrm-basic-button hrm-basic-modal-dialog__action-list-item
           position-page__speciality-modal-dialog-cancel-button"
                data-bind="click: function() {cancel();}">
            Отменить
        </button>

        <button class="hrm-button hrm-basic-button hrm-accent-button hrm-basic-modal-dialog__action-list-item
           position-page__speciality-modal-dialog-submit-button"
                data-bind="click: function() {submit();}">
            Сохранить
        </button>
    </div>

</template>
