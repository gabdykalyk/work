<!DOCTYPE html>
<html class="hrm-page calculation-page hrm-page--initializing"
      data-bind="childrenComplete: childrenComplete"
      lang="ru">

<head>
  @@include('../../base/_page-head-content.html')
</head>

<body>
  <div class="hrm-scaffold">
    <div class="hrm-scaffold__sidebar"
         data-bind="component: {name: 'hrm-main-sidebar', params: {collapsed: isSidebarCollapsed}}"></div>
    <div class="hrm-scaffold__body">
      <!-- Page content  -->
      <div class="hrm-scaffold__content calculation-page__content">

        <div class="calculation-page__header">
          <span class="calculation-page__title">
            Новый расчет
          </span>
          <div class="calculation-page__actions">
            <a href="#"
               class="hrm-button hrm-button-with-icon hrm-button-with-icon--hide_tablet hrm-button-with-icon--theme_secondary hrm-button-with-arrow-left-icon">
              К списку расчетов
            </a>

          </div>
        </div>

        <div class="calculation-form">
          <!-- Input table -->
          <div data-bind="component: {name: 'calculation-page-input-form', params: { model: $root.inputModel, onSubmit: $root.buildCalculation.bind($root) }}"></div>
          <!-- /Input table -->

          <!-- ko template: {
            foreach: hrmTemplateIf(isBuilt(), $data),
            afterAdd: hrmFadeAfterAddFactory(200, 200),
            beforeRemove: hrmFadeBeforeRemoveFactory(200)
          } -->
          <div class="calculation-form__content">
            <!-- Summary table -->
            <div data-bind="component: {name: 'calculation-page-summary-table', params: { model: $root.summaryModel }}"></div>
            <!-- /Summary table -->

            <!-- Tabs -->
              <div class="calculation-page__tabs"
                  data-bind="component: {name: 'hrm-tab-group', params: {items: tabs.tabs, activeItem: tabs.activeTab }}">
              </div>

              @@include('components/_modals.html')

              <!-- ko template: {
                foreach: hrmTemplateIf(tabs.activeTab() === 0, $data),
                afterAdd: hrmFadeAfterAddFactory(200, 200),
                beforeRemove: hrmFadeBeforeRemoveFactory(200)
              } -->
                <div class="calculation-page__tab">
                  @@include('tabs/_production.html')
                </div>
              <!-- /ko -->

              <!-- ko template: {
                foreach: hrmTemplateIf(tabs.activeTab() === 1, $data),
                afterAdd: hrmFadeAfterAddFactory(200, 200),
                beforeRemove: hrmFadeBeforeRemoveFactory(200)
              } -->
                <div class="calculation-page__tab">
                  @@include('tabs/_delivery.html')
                </div>
              <!-- /ko -->

              <!-- ko template: {
                foreach: hrmTemplateIf(tabs.activeTab() === 2, $data),
                afterAdd: hrmFadeAfterAddFactory(200, 200),
                beforeRemove: hrmFadeBeforeRemoveFactory(200)
              } -->
                <div class="calculation-page__tab">
                  @@include('tabs/_lateness.html')
                </div>
              <!-- /ko -->
            <!-- /Tabs -->

            <div class="calculation-form__actions">
              <button class="hrm-button hrm-button--size_large hrm-basic-button calculation-form__action">
                Отменить
              </button>

              <button class="hrm-button hrm-button--size_large hrm-basic-button hrm-accent-button calculation-form__action">
                Сохранить
              </button>
            </div>
          </div>
          <!-- /ko -->
        </div>
      </div>
      <!-- /Page content  -->



    </div>
  </div>

  @@include('../../base/_page-scripts.html')
  @@include('./components/positions-settings-modal/_positions-settings-modal.js.html')
  @@include('./components/columns-settings-modal/_columns-settings-modal.js.html')
  @@include('./components/account-operations-modal/_account-operations-modal.js.html')
  @@include('./components/employee-fine-modal/_employee-fine-modal.js.html')
  @@include('./components/employee-bonus-modal/_employee-bonus-modal.js.html')
  @@include('./components/create-employee-modal/_create-employee-modal.js.html')
  @@include('./components/add-employees-modal/_add-employees-modal.js.html')
  @@include('./components/stimulation-modal/_stimulation-modal.js.html')
  @@include('./components/input-form/_input-form.js.html')
  @@include('./components/summary-table/_summary-table.js.html')
  @@include('./components/positions-table/_positions-table.js.html')
  @@include('./_new-calculation-page.js.html')
</body>

</html>
