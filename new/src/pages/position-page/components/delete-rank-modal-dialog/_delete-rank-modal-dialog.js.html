<script type="text/javascript">
    $(function () {
        ko.components.register('positions-page-delete-rank-modal-dialog', {
            viewModel: {
                createViewModel: function (params, componentInfo) {
                    const $element = $(componentInfo.element);
                    $element.addClass([
                        'modal-dialog',
                        'modal-dialog-centered',
                        'hrm-modal-dialog',
                        'hrm-basic-modal-dialog',
                        'position-page__delete-rank-modal-dialog',
                        'position-page__delete-rank-modal-dialog--initializing'
                    ]);

                    const viewModel = new (function () {
                        this.initializing = ko.observable(true);

                        this.cancel = function () {
                            if ('cancel' in params) {
                                params.cancel();
                            }
                        };

                        this.submit = function () {
                            if ('submit' in params) {
                                params.submit();
                            }
                        };

                        this.afterRender = function () {
                            $element.removeClass('position-page__delete-rank-modal-dialog--initializing');
                            this.initializing(false);
                        }.bind(this);
                    });

                    return viewModel;
                }
            },
            template: `
                <!-- ko template: { afterRender: afterRender } -->
                    <button class="hrm-button hrm-basic-modal-dialog__close-button"
                            data-bind="click: function() { cancel(); }" aria-label="Close">
                    </button>

                    <div class="hrm-basic-modal-dialog__header">
                        <h2 class="hrm-basic-modal-dialog__title">Удалить разряд</h2>
                    </div>

                    <div class="hrm-basic-modal-dialog__body">
                        Разряд будет удален без возможности восстановления.
                    </div>

                    <div class="hrm-basic-modal-dialog__action-list">
                        <button class="hrm-button hrm-basic-button hrm-basic-modal-dialog__action-list-item
                                       position-page__delete-rank-modal-dialog-cancel-button"
                                data-bind="click: function() {cancel();}">
                            Отменить
                        </button>

                        <button class="hrm-button hrm-basic-button hrm-accent-button hrm-basic-modal-dialog__action-list-item
                                       position-page__delete-rank-modal-dialog-submit-button"
                                data-bind="click: function() {submit();}">
                            Удалить
                        </button>
                    </div>
                <!-- /ko -->
            `
        });
    });
</script>
