<!-- ko let: {'$tab': $root.salaryTabViewModel} -->
    <div class="position-page__tab-pane position-page__salary-tab-pane"
         data-bind="using: $tab.formModel.value">
        <div class="position-page__section">
            <div class="position-page__section-row position-page__salary-tab-pane-section-row">
                <div class="position-page__section-row-content">
                    <div class="position-page__section-row-item
                                position-page__salary-tab-pane-section-row-bulk-item">
                        <!-- ko let: {control: ko.observable(null), label: ko.observable(null)} -->
                            <div class="position-page__salary-tab-pane-bulk-form-field"
                                 data-bind="hrmFormField, hrmFormFieldControlRef: control, hrmFormFieldLabelRef: label">
                                <label data-bind="hrmFormFieldLabel: label">
                                    <span>Фикс. дневной оклад, <i class="far fa-ruble-sign"></i></span>

                                    <button class="hrm-button hrm-circle-icon-button hrm-circle-info-icon-button
                                                   hrm-form-field__label-info-button hrm-circle-icon-button--theme_neutral"
                                            data-bind="hrmTooltip, hrmTooltipText: 'Фикс. дневной оклад, &lt;i class=&quot;far fa-ruble-sign&quot;&gt;&lt;/i&gt;'">
                                    </button>
                                </label>

                                <div data-bind="hrmFormFieldBasis, hrmFormFieldBasisControl: control">
                                    <input data-bind="
                                        textInput: bulk,
                                        hrmMask, hrmMaskPattern: 'decimal',
                                        hrmMaskOptions: {digits: '0,2', groupSeparator: ' ', autoGroup: true, allowMinus: false, rightAlign: false},
                                        hrmFormFieldInputControl: control,
                                        hrmFormFieldInputControlErrorStateMatcher: $tab.formControlErrorStateMatcher.bind($tab)
                                    " placeholder="0">
                                </div>

                                <div data-bind="
                                    component: {name: 'hrm-form-field-error'},
                                    hrmSlide,
                                    hrmSlideValue: control() !== null ? control().errorState : false,
                                    hrmSlideDuration: 150
                                ">
                                    <!-- ko text: $parent.bulk.error() --><!-- /ko -->
                                </div>
                            </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>

        <div class="position-page__section">
            <span class="position-page__section-title">
                Премирование
                <span class="position-page__section-title-postscript">необязательно</span>
            </span>

            <div class="position-page__section-row position-page__salary-tab-pane-section-row">
                <div class="position-page__section-row-content">
                    <div class="position-page__section-row-item
                                position-page__salary-tab-pane-section-row-bonus-rate-item">
                        <!-- ko let: {control: ko.observable(null), label: ko.observable(null)} -->
                            <div class="position-page__salary-tab-pane-bonus-rate-form-field"
                                 data-bind="hrmFormField, hrmFormFieldControlRef: control, hrmFormFieldLabelRef: label">
                                <label data-bind="hrmFormFieldLabel: label">
                                    <span>Ставка премии, <i class="far fa-ruble-sign"></i></span>

                                    <button class="hrm-button hrm-circle-icon-button hrm-circle-info-icon-button
                                                   hrm-form-field__label-info-button hrm-circle-icon-button--theme_neutral"
                                            data-bind="hrmTooltip, hrmTooltipText: 'Ставка премии, &lt;i class=&quot;far fa-ruble-sign&quot;&gt;&lt;/i&gt;'">
                                    </button>
                                </label>

                                <div data-bind="hrmFormFieldBasis, hrmFormFieldBasisControl: control">
                                    <input data-bind="
                                        textInput: bonus.rate,
                                        hrmMask, hrmMaskPattern: 'decimal',
                                        hrmMaskOptions: {digits: '0,2', groupSeparator: ' ', autoGroup: true, allowMinus: false, rightAlign: false},
                                        hrmFormFieldInputControl: control,
                                        hrmFormFieldInputControlErrorStateMatcher: $tab.formControlErrorStateMatcher.bind($tab)
                                    " placeholder="0">
                                </div>

                                <div data-bind="
                                    component: {name: 'hrm-form-field-error'},
                                    hrmSlide,
                                    hrmSlideValue: control() !== null ? control().errorState : false,
                                    hrmSlideDuration: 150
                                ">
                                    <!-- ko text: $parent.bonus.rate.error() --><!-- /ko -->
                                </div>
                            </div>
                        <!-- /ko -->
                    </div>

                    <div class="position-page__section-row-item
                                position-page__salary-tab-pane-section-row-bonus-sum-item">
                        <!-- ko let: {control: ko.observable(null), label: ko.observable(null)} -->
                            <div class="position-page__salary-tab-pane-bonus-sum-form-field"  data-bind="hrmFormField, hrmFormFieldControlRef: control, hrmFormFieldLabelRef: label">
                                <label data-bind="hrmFormFieldLabel: label">
                                    <span>Сумма переработки, <i class="far fa-ruble-sign"></i></span>

                                    <button class="hrm-button hrm-circle-icon-button hrm-circle-info-icon-button
                                                   hrm-form-field__label-info-button hrm-circle-icon-button--theme_neutral"
                                            data-bind="hrmTooltip, hrmTooltipText: 'Сумма переработки'">
                                    </button>
                                </label>

                                <div data-bind="hrmFormFieldBasis, hrmFormFieldBasisControl: control">
                                    <input data-bind="
                                        textInput: bonus.sum,
                                        hrmMask, hrmMaskPattern: 'decimal',
                                        hrmMaskOptions: {digits: '0,2', groupSeparator: ' ', autoGroup: true, allowMinus: false, rightAlign: false},
                                        hrmFormFieldInputControl: control,
                                        hrmFormFieldInputControlErrorStateMatcher: $tab.formControlErrorStateMatcher.bind($tab)
                                    " placeholder="0">
                                </div>

                                <div data-bind="
                                    component: {name: 'hrm-form-field-error'},
                                    hrmSlide,
                                    hrmSlideValue: control() !== null ? control().errorState : false,
                                    hrmSlideDuration: 150
                                ">
                                    <!-- ko text: $parent.bonus.sum.error() --><!-- /ko -->
                                </div>
                            </div>
                        <!-- /ko -->

                        <span class="position-page__salary-tab-pane-section-row-bonus-sum-item-suffix">рублей</span>
                    </div>
                </div>
            </div>

            <div class="position-page__section-row position-page__salary-tab-pane-section-row">
                <div class="position-page__section-row-content">
                    <div class="position-page__section-row-item
                                position-page__salary-tab-pane-section-row-bonus-max-item">
                        <!-- ko let: {control: ko.observable(null), label: ko.observable(null)} -->
                            <div class="position-page__salary-tab-pane-bonus-max-form-field"
                                 data-bind="hrmFormField, hrmFormFieldControlRef: control, hrmFormFieldLabelRef: label">
                                <label data-bind="hrmFormFieldLabel: label">
                                    <span>Максимальная премия, <i class="far fa-ruble-sign"></i></span>

                                    <button class="hrm-button hrm-circle-icon-button hrm-circle-info-icon-button
                                                   hrm-form-field__label-info-button hrm-circle-icon-button--theme_neutral"
                                            data-bind="hrmTooltip, hrmTooltipText: 'Максимальная премия, &lt;i class=&quot;far fa-ruble-sign&quot;&gt;&lt;/i&gt;'">
                                    </button>
                                </label>

                                <div data-bind="hrmFormFieldBasis, hrmFormFieldBasisControl: control">
                                    <input data-bind="
                                        textInput: bonus.max,
                                        hrmMask, hrmMaskPattern: 'decimal',
                                        hrmMaskOptions: {digits: '0,2', groupSeparator: ' ', autoGroup: true, allowMinus: false, rightAlign: false},
                                        hrmFormFieldInputControl: control,
                                        hrmFormFieldInputControlErrorStateMatcher: $tab.formControlErrorStateMatcher.bind($tab)
                                    " placeholder="0">
                                </div>

                                <div data-bind="
                                    component: {name: 'hrm-form-field-error'},
                                    hrmSlide,
                                    hrmSlideValue: control() !== null ? control().errorState : false,
                                    hrmSlideDuration: 150
                                ">
                                    <!-- ko text: $parent.bonus.max.error() --><!-- /ko -->
                                </div>
                            </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>

        <div class="position-page__section">
            <span class="position-page__section-title">
                Депремирование
                <span class="position-page__section-title-postscript">необязательно</span>
            </span>

            <div class="position-page__section-row position-page__salary-tab-pane-section-row">
                <div class="position-page__section-row-content">
                    <div class="position-page__section-row-item
                                position-page__salary-tab-pane-section-row-fine-rate-item">
                        <!-- ko let: {control: ko.observable(null), label: ko.observable(null)} -->
                            <div class="position-page__salary-tab-pane-fine-rate-form-field"
                                 data-bind="hrmFormField, hrmFormFieldControlRef: control, hrmFormFieldLabelRef: label">
                                <label data-bind="hrmFormFieldLabel: label">
                                    <span>Ставка штрафа, <i class="far fa-ruble-sign"></i></span>

                                    <button class="hrm-button hrm-circle-icon-button hrm-circle-info-icon-button
                                                   hrm-form-field__label-info-button hrm-circle-icon-button--theme_neutral"
                                            data-bind="hrmTooltip, hrmTooltipText: 'Ставка штрафа, &lt;i class=&quot;far fa-ruble-sign&quot;&gt;&lt;/i&gt;'">
                                    </button>
                                </label>

                                <div data-bind="hrmFormFieldBasis, hrmFormFieldBasisControl: control">
                                    <input data-bind="
                                        textInput: fine.rate,
                                        hrmMask, hrmMaskPattern: 'decimal',
                                        hrmMaskOptions: {digits: '0,2', groupSeparator: ' ', autoGroup: true, allowMinus: false, rightAlign: false},
                                        hrmFormFieldInputControl: control,
                                        hrmFormFieldInputControlErrorStateMatcher: $tab.formControlErrorStateMatcher.bind($tab)
                                    " placeholder="0">
                                </div>

                                <div data-bind="
                                    component: {name: 'hrm-form-field-error'},
                                    hrmSlide,
                                    hrmSlideValue: control() !== null ? control().errorState : false,
                                    hrmSlideDuration: 150
                                ">
                                    <!-- ko text: $parent.fine.rate.error() --><!-- /ko -->
                                </div>
                            </div>
                        <!-- /ko -->
                    </div>

                    <div class="position-page__section-row-item
                                position-page__salary-tab-pane-section-row-fine-sum-item">
                        <!-- ko let: {control: ko.observable(null), label: ko.observable(null)} -->
                            <div class="position-page__salary-tab-pane-fine-sum-form-field"  data-bind="hrmFormField, hrmFormFieldControlRef: control, hrmFormFieldLabelRef: label">
                                <label data-bind="hrmFormFieldLabel: label">
                                    <span>Сумма недоработки, <i class="far fa-ruble-sign"></i></span>

                                    <button class="hrm-button hrm-circle-icon-button hrm-circle-info-icon-button
                                                   hrm-form-field__label-info-button hrm-circle-icon-button--theme_neutral"
                                            data-bind="hrmTooltip, hrmTooltipText: 'Сумма недоработки'">
                                    </button>
                                </label>

                                <div data-bind="hrmFormFieldBasis, hrmFormFieldBasisControl: control">
                                    <input data-bind="
                                        textInput: fine.sum,
                                        hrmMask, hrmMaskPattern: 'decimal',
                                        hrmMaskOptions: {digits: '0,2', groupSeparator: ' ', autoGroup: true, allowMinus: false, rightAlign: false},
                                        hrmFormFieldInputControl: control,
                                        hrmFormFieldInputControlErrorStateMatcher: $tab.formControlErrorStateMatcher.bind($tab)
                                    " placeholder="0">
                                </div>

                                <div data-bind="
                                    component: {name: 'hrm-form-field-error'},
                                    hrmSlide,
                                    hrmSlideValue: control() !== null ? control().errorState : false,
                                    hrmSlideDuration: 150
                                ">
                                    <!-- ko text: $parent.fine.sum.error() --><!-- /ko -->
                                </div>
                            </div>
                        <!-- /ko -->

                        <span class="position-page__salary-tab-pane-section-row-fine-sum-item-suffix">рублей</span>
                    </div>
                </div>
            </div>

            <div class="position-page__section-row position-page__salary-tab-pane-section-row">
                <div class="position-page__section-row-content">
                    <div class="position-page__section-row-item
                                position-page__salary-tab-pane-section-row-fine-max-item">
                        <!-- ko let: {control: ko.observable(null), label: ko.observable(null)} -->
                            <div class="position-page__salary-tab-pane-fine-max-form-field"
                                 data-bind="hrmFormField, hrmFormFieldControlRef: control, hrmFormFieldLabelRef: label">
                                <label data-bind="hrmFormFieldLabel: label">
                                    <span>Максимальный штраф, <i class="far fa-ruble-sign"></i></span>

                                    <button class="hrm-button hrm-circle-icon-button hrm-circle-info-icon-button
                                                   hrm-form-field__label-info-button hrm-circle-icon-button--theme_neutral"
                                            data-bind="hrmTooltip, hrmTooltipText: 'Максимальный штраф, &lt;i class=&quot;far fa-ruble-sign&quot;&gt;&lt;/i&gt;'">
                                    </button>
                                </label>

                                <div data-bind="hrmFormFieldBasis, hrmFormFieldBasisControl: control">
                                    <input data-bind="
                                        textInput: fine.max,
                                        hrmMask, hrmMaskPattern: 'decimal',
                                        hrmMaskOptions: {digits: '0,2', groupSeparator: ' ', autoGroup: true, allowMinus: false, rightAlign: false},
                                        hrmFormFieldInputControl: control,
                                        hrmFormFieldInputControlErrorStateMatcher: $tab.formControlErrorStateMatcher.bind($tab)
                                    " placeholder="0">
                                </div>

                                <div data-bind="
                                    component: {name: 'hrm-form-field-error'},
                                    hrmSlide,
                                    hrmSlideValue: control() !== null ? control().errorState : false,
                                    hrmSlideDuration: 150
                                ">
                                    <!-- ko text: $parent.fine.max.error() --><!-- /ko -->
                                </div>
                            </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>

        <div class="position-page__section">
            <span class="position-page__section-title">
                Премиальный счёт
                <span class="position-page__section-title-postscript">необязательно</span>
            </span>

            <div class="position-page__section-row position-page__salary-tab-pane-section-row">
                <div class="position-page__section-row-content">
                    <div class="position-page__section-row-item
                                position-page__salary-tab-pane-section-row-premium-account-item">
                        <!-- ko let: {control: ko.observable(null), label: ko.observable(null)} -->
                            <div class="hrm-form-field-switch-group position-page__salary-tab-pane-section-row-premium-account-item-switch-group"
                                 data-bind="hrmSwitchGroup, hrmSwitchGroupControlRef: control, hrmSwitchGroupLabelRef: label">
                                <div data-bind="component: {name: 'hrm-switch', params: {checked: premiumAccount, exportAs: control}}"></div>
                                <label data-bind="hrmSwitchGroupLabel: label">
                                    Начислять премирование/депремирование на премиальный счет

                                    <button class="hrm-button hrm-circle-icon-button hrm-circle-info-icon-button
                                                   hrm-switch-group__label-info-button hrm-circle-icon-button--theme_neutral"
                                            data-bind="hrmTooltip, hrmTooltipText: 'Начислять премирование/депремирование на премиальный счет'">
                                    </button>
                                </label>
                            </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>

        <div class="position-page__tab-pane-action-list">
            <button class="hrm-button hrm-basic-button
                           position-page__tab-pane-action-list-item position-page__cancel-button"
                    data-bind="click: function() {$tab.cancel();}">
                Отменить
            </button>

            <button class="hrm-button hrm-basic-button hrm-accent-button
                           position-page__tab-pane-action-list-item position-page__save-button"
                    data-bind="
                        click: function() {$tab.submit();},
                        attr: {disabled: $tab.isSubmitted() && !$tab.isValid()}
                    ">
                Сохранить
            </button>
        </div>
    </div>
<!-- /ko -->
