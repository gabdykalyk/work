<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Анкета кандидата</title>

	@@include('include/_css.html')

    <link href="css/emplform.css" rel="stylesheet">

    @@include('include/_ie8.html')
</head>

<body>
    <div class="hat-scaffold">
        <div class="hat-scaffold__navbar">
            @@include('include/hat-navbar.html')
        </div>

        <div class="hat-scaffold__body">
            <div class="hat-scaffold__header emplform-header form-cand-st1__header">
                <!-- row -->
                <div class="emplform-header__row">
                    <div class="emplform-header__label">
                        <div class="emplform-header__status">
                            <div class="emplform-header__status-label">Назначено собеседование</div>
                            <ul class="emplform-header__status-dd">
                                <li><mark data-skin="yellow">Ждет звонка</mark></li>
                                <li><mark data-skin="blue">Принят на стажировку</mark></li>
                                <li><mark data-skin="green">Назначено собеседование</mark></li>
                                <li><mark data-skin="red">Отказано</mark></li>
                                <li><mark data-skin="red">Отказался</mark></li>
                                <li><mark data-skin="grey">Резерв</mark></li>
                            </ul>
                            <select>
                                <option value="waiting-call" selected>Ждет звонка</option>
                                <option value="internship">Принят на стажировку</option>
                                <option value="interview">Назначено собеседование</option>
                                <option value="fail">Отказано</option>
                                <option value="fail2">Отказался</option>
                                <option value="reserve">Резерв</option>
                            </select>
                        </div>
                        <!-- form row END -->
                    </div>
                    <time class="emplform-header__time" data-toggle="tooltip" data-placement="bottom" title="Дата изменения статуса">16.07.2019 11:15</time>
                    <div class="emplform-header__department" data-toggle="tooltip" data-placement="bottom" title="Филиал">Коммунарка</div>
                    <div class="visible-lg">
                        <figure class="inline-user emplform-header__user" data-toggle="tooltip" data-placement="bottom" title="Фото и ФИО ответственного за кандидата">
                            <div class="inline-user__img inline-user__img--empty">
                                <i class="far fa-user"></i>
                            </div>
                            <a href="#">Иванова Кристина Александровна</a>
                        </figure>
                    </div>
                </div>
                <!-- row end -->

                <!-- row -->
                <div class="emplform-header__row emplform-header__second-row">
                    <div class="visible-xs visible-sm visible-md">
                        <figure class="inline-user emplform-header__user" data-toggle="tooltip" data-placement="bottom" title="Фото и ФИО ответственного за кандидата">
                            <div class="inline-user__img inline-user__img--empty">
                                <i class="far fa-user"></i>
                            </div>
                            <a href="#">Иванова Кристина Александровна</a>
                        </figure>
                    </div>
                    <time class="emplform-header__detail" data-toggle="tooltip" data-placement="bottom" title="Количество дней в этом статусе"><i class="fal fa-clock"></i> 4 дн.</time>
                    <div class="emplform-header__detail" data-toggle="tooltip" data-placement="bottom" title="Должность"><i class="far fa-address-card"></i> Администратор филиала</div>
                    <div class="visible-lg">
                        <div class="emplform-header__detail emplform-header__comment" data-toggle="tooltip" data-placement="bottom" title="Комментарий"><i class="fal fa-comment-alt"></i> Хороший послужной список</div>
                    </div>
                </div>
                <!-- row end -->

                <!-- row -->
                <div class="emplform-header__row emplform-header__third-row visible-xs visible-sm visible-md">
                    <div class="emplform-header__detail emplform-header__comment" data-toggle="tooltip" data-placement="bottom" title="Комментарий"><i class="fal fa-comment-alt"></i> Хороший послужной список</div>
                </div>
                <!-- row end -->
            </div>
            <div class="hat-scaffold__content-wrapper">
                <h1 class="emplform__header">
                    <i class="far fa-file-check emplform__profile-icon emplform__profile-icon--check"></i>
                    Анкета кандидата
                </h1>
                <hr class="hidden-xs">
                <div class="btn-group btn-group-radio" role="group">
                    <a href="hatimaki-emplform-lk.html" type="button" class="btn btn-default active">Личная информация</a>
                    <a href="hatimaki-emplform-doc.html" type="button" class="btn btn-default">Документы</a>
                </div>

                <form action="" method="post" class="form-respons form-cand form-cand-st1">
                    <div class="clearfix">
                        <div class="form-group-photo">
                            <div class="photo">
                                <label class="photo-upload" data-toggle="tooltip" data-placement="top" title="jpg, png, gif, не более 5Мб">
                                    <input type="file" name="file-phone">
                                    Добавить<br> фото
                                </label>
                            </div>
                        </div>
                        <div class="form-group-info">
                            <section class="form-block">
                                <div class="row">
                                    <div class="form-group col-md-4 col-sm-6 col-xs-12">
                                        <label for="surname">Фамилия</label>
                                        <input type="text" class="form-control" value="" name="surname" id="surname">
                                    </div>
                                    <div class="form-group col-md-4 col-sm-6 col-xs-12">
                                        <label for="firstname">Имя</label>
                                        <input type="text" class="form-control" value="" name="firstname" id="firstname">
                                    </div>
                                    <div class="form-group col-md-4 col-sm-6 col-xs-12">
                                        <label for="patronymic">Отчество</label>
                                        <input type="text" class="form-control" value="" name="patronymic" id="patronymic">
                                    </div>
                                    <div class="form-group form-group-auto-w col-md-4 col-sm-4 col-xs-6">
                                        <label for="dob">Дата рождения</label>
                                        <div class="input-group datepicker form-control-sm">
                                            <input type="text" class="form-control" value="01.01.1995" name="dob" id="dob" placeholder="00.00.0000" maxlength="10">
                                            <span class="input-group-btn">
                                                <button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="clearfix visible-xs"></div>
                                    <div class="form-group form-group-auto-w form-group-radio col-md-8 col-sm-4 col-xs-12">
                                        <label for="male">Пол</label>
                                        <div class="block-radio-inline">
                                            <label class="radio-inline">
                                                <input type="radio" name="sex" id="male" value="sex-male" checked> мужской
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="sex" id="female" value="sex-female"> женский
                                            </label>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="form-group form-group-phone col-md-2 col-sm-3 col-xs-6">
                                        <label for="phone-number1">Телефон</label>
                                        <input type="text" class="form-control" value="" name="phone-number1" id="phone-number1">
                                    </div>
                                    <div class="form-group form-group-phone col-md-2 col-sm-3 col-xs-6">
                                        <label for="phone-number2">Телефон</label>
                                        <input type="text" class="form-control" value="" name="phone-number2" id="phone-number2">
                                    </div>
                                    <div class="form-group form-group-email col-md-4 col-sm-6 col-xs-12">
                                        <label for="email">Email</label>
                                        <input type="text" class="form-control" value="" name="email" id="email">
                                    </div>
                                </div>
                            </section>

                            <section class="form-block">
                                <h2>Адрес</h2>
                                <div class="row">
                                    <div class="form-group col-md-8 col-sm-12 col-xs-12">
                                        <label for="street">Улица</label>
                                        <input type="text" class="form-control" value="" name="street" id="street">
                                    </div>
                                    <div class="col-md-4 col-sm-12 col-xs-12">
                                        <div class="row">
                                            <div class="form-group col-md-4 col-sm-2 col-xs-4">
                                                <label for="house">Дом</label>
                                                <input type="text" class="form-control" value="" name="house" id="house" maxlength="10">
                                            </div>
                                            <div class="form-group col-md-4 col-sm-2 col-xs-4">
                                                <label for="housing">Корпус</label>
                                                <input type="text" class="form-control" value="" name="housing" id="housing" maxlength="10">
                                            </div>
                                            <div class="form-group col-md-4 col-sm-2 col-xs-4">
                                                <label for="apartment">Квартира</label>
                                                <input type="text" class="form-control" value="" name="apartment" id="apartment" maxlength="10">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <div class="clearfix form-block form-btns">
                                <button type="button" class="btn btn-default">Вернуться</button>
                                <button type="submit" class="btn btn-success">Продолжить</button>
                            </div>
                        </div>

                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- beg: Modal Fine Edit -->
    <div class="modal fade edit-modal" tabindex="-1" role="dialog" id="modalEditeCandidate">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Изменить статус кандидата</h4>
                </div>
                <div class="modal-body">

                    <!-- edit form -->
                    <div class="candidates__edit-form">

                        <!-- form row -->
                        <div class="form-group">
                            <label>Статус</label>
                            <select class="form-control" id="editStatus">
                                <option value="waiting-call" selected>Ждет звонка</option>
                                <option value="interview">Назначено собеседование</option>
                                <option value="reserve">Тестирование</option>
                                <option value="internship">Принят на стажировку</option>
                                <option value="fail">Отказано</option>
                                <option value="fail2">Отказался</option>
                            </select>
                        </div>
                        <!-- form row END -->

                        <!-- details for 'wait a call' -->
                        <fieldset class="candidates__edit-detail" data-logic-type="waiting-call">
                            <!-- form row -->
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-5">
                                        <label>Дата</label>
                                        <div class="input-group datepicker">
                                            <input type="text" class="form-control" name="date" id="date-field" placeholder="00.00.0000" maxlength="10" value="15.02.2018">
                                            <span class="input-group-btn">
                                                    <button class="btn btn-default" type="button"><i class="fas fa-calendar-alt"></i></button>
                                                </span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label>Время</label>
                                        <input type="text" class="form-control input-sm input-timework" placeholder="00:00" maxlength="5" value="11:00">
                                    </div>
                                </div>
                            </div>
                            <!-- form row END-->
                        </fieldset>
                        <!-- details for 'wait a call' END-->

                        <!-- details for 'interview' -->
                        <fieldset class="candidates__edit-detail" data-logic-type="interview">

                            <!-- form row -->
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-4">
                                        <label>Дата</label>
                                        <div class="input-group datepicker">
                                            <input type="text" class="form-control" name="date" id="date-field" placeholder="00.00.0000" maxlength="10" value="15.02.2018">
                                            <span class="input-group-btn">
                                                    <button class="btn btn-default" type="button"><i class="fas fa-calendar-alt"></i></button>
                                                </span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label>Время</label>
                                        <input type="text" class="form-control input-sm input-timework" placeholder="00:00" maxlength="5" value="11:00">
                                    </div>
                                    <div class="col-md-5">
                                        <label>Место проведения</label>
                                        <select name="filiation" class="form-control">
                                            <option value="0">Без филиала</option>
                                            <option value="1">Бутово</option>
                                            <option value="2" selected="">Коммунарка</option>
                                            <option value="3">Московский</option>
                                            <option value="4">Подольск</option>
                                            <option value="5">Щербинка</option>
                                            <option value="6">Ясенево</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- form row END-->

                            <!-- form row -->
                            <div class="form-group">
                                <label>Ответственные</label>
                                <select class="form-control js-select2" name="post[]" multiple="">
                                    <option value="0">Ответственный 1</option>
                                    <option value="1">Ответственный 2</option>
                                    <option value="2">Ответственный 3</option>
                                    <option value="3">Ответственный 4</option>
                                    <option value="4">Ответственный 5</option>
                                    <option value="5">Ответственный 6</option>
                                    <option value="6">Ответственный 7</option>
                                </select>
                            </div>
                            <!-- form row END-->

                        </fieldset>
                        <!-- details for 'interview' END-->

                        <!-- details for 'interview' -->
                        <fieldset class="candidates__edit-detail" data-logic-type="internship">
                            <!-- form row -->
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-5">
                                        <label>Филиал</label>
                                        <select name="filiation" id="filiation-field" class="form-control">
                                            <option value="0">Без филиала</option>
                                            <option value="1">Бутово</option>
                                            <option value="2" selected="">Коммунарка</option>
                                            <option value="3">Московский</option>
                                            <option value="4">Подольск</option>
                                            <option value="5">Щербинка</option>
                                            <option value="6">Ясенево</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- form row END-->

                            <!-- form row -->
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-8">
                                        <label>Должность</label>
                                        <select class="js-select-single form-control">
                                            <option value="1">Должность 1</option>
                                            <option value="2">Должность 2</option>
                                            <option value="3">Должность 3</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label>Разряд</label>
                                        <select name="filiation" class="form-control">
                                            <option value="0">1</option>
                                            <option value="1">2</option>
                                            <option value="2">3</option>
                                            <option value="3">4</option>
                                            <option value="4">5</option>
                                            <option value="5">6</option>
                                            <option value="6">7</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- form row END-->

                            <!-- form row -->
                            <div class="form-group">
                                <label>Наставник</label>
                                <select class="js-select-single form-control">
                                    <option value="1">Наставник 1</option>
                                    <option value="2">Наставник 2</option>
                                    <option value="3">Наставник 3</option>
                                </select>
                            </div>
                            <!-- form row END-->

                            <!-- form row -->
                            <div class="form-group">
                                <div class="checkbox-nice">
                                    <label>
                                        <input type="checkbox" data-rel-logic="#email-row">
                                        <span class="fa fa-check"></span>
                                        Создать пользователя сервиса
                                    </label>
                                </div>
                            </div>
                            <!-- form row END-->

                            <!-- form row -->
                            <div class="form-group candidates__hidden-elem" id="email-row">
                                <label>Email</label>
                                <input type="email" class="form-control">
                            </div>
                            <!-- form row END-->

                        </fieldset>
                        <!-- details for 'interview' END-->

                        <!-- details for 'interview' -->
                        <fieldset class="candidates__edit-detail" data-logic-type="fail">

                            <!-- form row -->
                            <div class="form-group">
                                <label>Причина</label>
                                <select class="js-select-single form-control" data-rel-logic="#reason-description">
                                    <option value="1">Причина 1</option>
                                    <option value="2">Причина 2</option>
                                    <option value="3">Причина 3</option>
                                    <option value="another">Другое</option>
                                </select>
                            </div>
                            <!-- form row END-->

                            <!-- form row -->
                            <div class="form-group candidates__hidden-elem" id="reason-description">
                                <input type="text" class="form-control">
                            </div>
                            <!-- form row END-->

                        </fieldset>
                        <!-- details for 'interview' END-->

                        <!-- details for 'interview' -->
                        <fieldset class="candidates__edit-detail" data-logic-type="fail2">

                            <!-- form row -->
                            <div class="form-group">
                                <label>Причина</label>
                                <select class="js-select-single form-control" data-rel-logic="#reason-description">
                                    <option value="1">Причина 1</option>
                                    <option value="2">Причина 2</option>
                                    <option value="3">Причина 3</option>
                                    <option value="another">Другое</option>
                                </select>
                            </div>
                            <!-- form row END-->

                            <!-- form row -->
                            <div class="form-group candidates__hidden-elem" id="reason-description">
                                <input type="text" class="form-control">
                            </div>
                            <!-- form row END-->

                        </fieldset>
                        <!-- details for 'interview' END-->

                        <!-- form row -->
                        <div class="form-group">
                            <label>Комментарий</label>
                            <textarea class="form-control"></textarea>
                        </div>
                        <!-- form row END -->

                    </div>
                    <!-- edit form END -->

                </div>
                <div class="modal-footer">
                    <button type="button" data-return-card class="btn btn-default btn-p25" data-dismiss="modal" aria-label="Close">Отменить</button>
                    <button type="button" class="btn btn-p25 test class btn-primary">Сохранить</button>
                </div>
            </div>
        </div>
    </div>
    <!-- end: Modal Fine Edit -->

    @@include('include/_js.html')

    <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous">
    </script>

    <!-- Bootstrap DateTimepicker, https://eonasdan.github.io/bootstrap-datetimepicker/ -->
    <script type="text/javascript" src="js/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"></script>

    <!-- Select2, https://select2.org/getting-started/basic-usage -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/js/select2.min.js"></script>

    <!-- https://github.com/LucasLazaro/bootstrap-nav-tab-scrollable -->
    <script type="text/javascript" src="js/scrolling-tabs/jquery.scrolling-tabs.js"></script>

    <!-- Phone Mask, https://github.com/RobinHerbots/Inputmask -->
    <script type="text/javascript" src="js/jquery.inputmask.bundle.js"></script>
    <script type="text/javascript" src="js/inputmask.date.extensions.js"></script>

    <script type="text/javascript">
        $(function () {
            initHatNavbar(document);

            if ($(".emplform-header__status").length) {
                $(".emplform-header__status")
                    .on('click', '.emplform-header__status-label', function(e){
                        var currentParent = $(e.delegateTarget);

                        currentParent.toggleClass('show-dd');
                    })
                    .on('click', 'li', function(e){
                        var currentEl       = $(this),
                            currentParent   = $(e.delegateTarget),
                            currentLabel    = currentParent.find('.emplform-header__status-label'),
                            currentSelect   = currentParent.find('select');

                        currentSelect.find('option').removeAttr('selected');
                        currentSelect.find('option').eq(currentEl.index()).attr('selected', 'selected');

                        $("#editStatus").val(currentSelect.val());
                        $('#modalEditeCandidate').modal();
                        editSwitcher();

                        currentLabel.text(currentEl.text());
                        currentParent.removeClass('show-dd');
                    });
            }

            function editSwitcher(activeVal){
                var editModal 		= $("#modalEditeCandidate"),
                    switchSelect 	= $("#editStatus"),
                    activeItem 		= switchSelect.find('option:selected'),
                    activeVal 		= activeItem.val();

                $(".candidates__edit-detail").hide();

                if (editModal.find('.candidates__edit-detail[data-logic-type="'+ activeVal +'"]').length){
                    editModal.find('.candidates__edit-detail[data-logic-type="'+ activeVal +'"]').fadeIn();
                }
            }

            editSwitcher();

            $('#editStatus').on('change', function(){
                editSwitcher();
            });

            $('[data-toggle="tooltip"]').tooltip({});

            $('.emplform-header [data-toggle="tooltip"]').tooltip({
                container: '.emplform-header'
            });

            $('.datepicker').datetimepicker({
                dateFormat: 'dd.mm.yyyy',
                language: 'ru'
            });

            $("#phone-number1, #phone-number2").inputmask('8(999)999-9999', {
                clearMaskOnLostFocus: false
            });

            $("#street").autocomplete({
                /*open:function() {
                    $("ul.ui-menu").width( $(this).innerWidth() );
                },*/

                source: function( request, response ) {
                    $.ajax( {
                      url: "https://hatimaki.ru/include/search.php",
                      dataType: "jsonp",
                      data: {
                        term: request.term
                      },
                      success: function( data ) {
                        response( data );
                      }
                    } );
                  },
                  /*source: streets*/
                minLength: 1
            });

            initEmployeeFilePopover($(".emplform__profile-icon")[0]);
        });
    </script>
</body>
</html>
