<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Сотрудники</title>

    <link href="js/scrollbar/jquery.mCustomScrollbar.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/13.1.3/nouislider.css" rel="stylesheet" />

    @@include('include/_css.html')

    @@include('include/_ie8.html')

</head>

<body>
    <div class="hat-scaffold">
        <div class="hat-scaffold__navbar">
            @@include('include/hat-navbar.html')
        </div>

        <div class="hat-scaffold__body">
            <div class="hat-scaffold__content-wrapper">
                <div class="empllist-diagram">
                    <div id="filter-fixed-empllist">
                        <div class="content-fixed-empllist">
                            <div class="clearfix head-with-btn resp">
                                <h1>Сотрудники</h1>
                                <a href="#" class="btn btn-default">Создать сотрудника</a>
                                <a href="#" class="btn btn-default btn-icon"><i class="far fa-file-excel"></i>Выгрузить в Excel</a>
                            </div>

                            <form action="" method="post" class="form-respons form-empllist empllist-diagram__filters-form">
                                <div class="row">
                                    <div class="form-group col-md-2 col-sm-3">
                                        <label for="empl-list">Сотрудники</label>
                                        <select class="form-control" name="empl-list" id="empl-list">
                                            <option value="1">Работающие</option>
                                            <option value="2">Уволенные</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-2 col-sm-3">
                                        <label for="state">Статус</label>
                                        <select class="form-control js-select-multiple" name="state[]" id="state" multiple="multiple">
                                            <option value="1">Стажировка</option>
                                            <option value="2">Уволен</option>
                                            <option value="3">Работает</option>
                                        </select>
                                    </div>
									<!--
                                    <div class="form-group col-md-2 col-sm-3">
                                        <label for="characteristic">Характеристика</label>
                                        <select class="form-control js-select-multiple" name="characteristic[]" id="characteristic"
                                            multiple="multiple">
                                            <option value="1">Хороший сотрудник</option>
                                            <option value="2">Нужно заменить</option>
                                            <option value="3">Есть замечания</option>
                                        </select>
                                    </div>-->
                                    <div class="form-group col-md-4 col-sm-6">
                                        <label for="nationality">Гражданство</label>
                                        <select class="form-control js-select-multiple" name="nationality[]" id="nationality"
                                            multiple="multiple">
                                            <option value="1">Россия</option>
                                            <option value="2">Украина</option>
                                            <option value="3">Россия</option>
                                            <option value="4">Украина</option>
                                            <option value="5">Россия</option>
                                            <option value="6">Украина</option>
                                            <option value="7">Россия</option>
                                            <option value="8">Украина</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-4 col-sm-12">
                                        <label for="law-status">Правовой статус</label>
                                        <select class="form-control js-select-multiple" name="law-status[]" id="law-status"
                                                multiple="multiple">
                                            <option value="1">Резидент РФ</option>
                                            <option value="2">Граждане ЕС</option>
                                            <option value="3">Высококвалифицированные специалисты</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-4 col-sm-6">
                                        <label for="full-name">ФИО или телефон</label>
                                        <input type="text" class="form-control" value="" name="full-name" id="full-name">
                                    </div>
                                    <div class="form-group col-md-4 col-sm-6">
                                        <label for="branches">Филиал</label>
                                        <select class="form-control js-select-multiple" name="branches[]" id="branches"
                                            multiple="multiple">
                                            <option value="1">Щербинка</option>
                                            <option value="2">Бутово</option>
                                            <option value="3">Ясенево</option>
                                            <option value="4">Коммунарка</option>
                                            <option value="5">Подольск</option>
                                            <option value="6">Московский</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-4 col-sm-6">
                                        <label for="post">Должность</label>
                                        <select class="form-control js-select-multiple" name="post[]" id="post" multiple="multiple">
                                            <option value="1">Администратор филиал</option>
                                            <option value="2">Директор IT</option>
                                            <option value="3">Водитель</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-2 col-sm-3">
                                        <label for="ranks">Разряды</label>
                                        <select class="form-control js-select-multiple" name="ranks[]" id="ranks" multiple="multiple">
                                            <option value="1">4</option>
                                            <option value="2">5</option>
                                            <option value="3">6</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-2 col-sm-3">
                                        <label for="work-schedule">Рабочий график</label>
                                        <select class="form-control js-select-multiple" name="work-schedule[]" id="work-schedule"
                                            multiple="multiple">
                                            <option value="1">5/2</option>
                                            <option value="2">4/3</option>
                                            <option value="3">6/1</option>
                                            <option value="4">2/2</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-2 col-sm-3 empllist-diagram__filters-form-filter--dense-hidden">
                                        <label for="deposits">Депозит</label>
                                        <select class="form-control js-select-multiple" name="deposits[]" id="deposits"
                                            multiple="multiple">
                                            <option value="1">Без депозита</option>
                                            <option value="2">Внесён частично</option>
                                            <option value="3">Внесён</option>
                                            <option value="4">Не внесён</option>
                                            <option value="5">Внесён излишне</option>
                                        </select>
                                    </div>
                                    <div class="form-group empllist-diagram__form-group-checkboxes col-md-6 col-sm-9 empllist-diagram__filters-form-filter--dense-hidden">
										<div class="checkbox-nice">
											<label>
												<input type="checkbox" name="">
												<span class="fa fa-check"></span>
                                                Может работать<br> в неск. филиалах
											</label>
										</div>

										<div class="checkbox-nice">
											<label>
												<input type="checkbox" name="">
												<span class="fa fa-check"></span>
												Совмещает<br> должности
											</label>
										</div>

										<div class="checkbox-nice">
											<label>
												<input type="checkbox" name="">
												<span class="fa fa-check"></span>
												Проблемы<br> с документами
											</label>
										</div>
                                    </div>
									<div class="form-group col-md-4 col-sm-6 empllist-diagram__filters-form-filter--dense-hidden">
										<label for="prev-jobs">Предыдущие места работы</label>
										<input type="text" class="form-control" value="" name="prev-jobs" id="prev-jobs">
									</div>
									<div class="form-group col-md-4 col-sm-6 empllist-diagram__filters-form-filter--dense-hidden">
										<label for="language">Владение языками</label>
										<select class="form-control js-select-multiple" name="language[]" id="language"
											multiple="multiple">
											<option value="1">Русский</option>
											<option value="2">Английский</option>
											<option value="3">Испанский</option>
										</select>
									</div>
									<div class="form-group col-md-4 col-sm-6 empllist-diagram__filters-form-filter--dense-hidden">
										<label for="programs">Владение программами</label>
										<select class="form-control js-select-multiple" name="programs[]" id="programs"
											multiple="multiple">
											<option value="1">MS Word</option>
											<option value="2">MS Excel</option>
										</select>
									</div>
									<div class="form-group col-md-4 col-sm-6 empllist-diagram__filters-form-filter--dense-hidden">
										<label for="prev-posts">Должности на предыдущей работе</label>
										<select class="form-control js-select-multiple" name="prev-posts[]" id="prev-posts"
											multiple="multiple">
											<option value="1">Администратор филиал</option>
											<option value="2">Директор IT</option>
											<option value="3">Водитель</option>
										</select>
									</div>
									<div class="form-group col-md-4 col-sm-6 empllist-diagram__filters-form-filter--dense-hidden">
										<label for="posts">Должности за время работы компании</label>
										<select class="form-control js-select-multiple" name="posts[]" id="posts" multiple="multiple">
											<option value="1">Администратор филиал</option>
											<option value="2">Директор IT</option>
											<option value="3">Водитель</option>
										</select>
									</div>
									<div class="form-group col-md-4 col-sm-6 empllist-diagram__filters-form-filter--dense-hidden">
										<label for="profession">Специальность</label>
										<select class="form-control js-select-multiple" name="posts[]" id="profession" multiple="multiple">
											<option value="1">Специальность #1</option>
											<option value="2">Специальность #2</option>
											<option value="3">Специальность #3</option>
										</select>
									</div>
									<div class="col-md-4 col-md-4 col-sm-6 form-group empllist-diagram__filters-form-filter--dense-hidden">
										<label for="age">Возраст</label>
										<select class="form-control js-select-multiple" name="age[]" id="age" multiple="multiple">
											<option value="1">младше 21</option>
											<option value="2">21 - 30</option>
											<option value="3">31 - 40</option>
											<option value="2">41 - 50</option>
											<option value="3">51 и старше</option>
											<option value="3">Не указан</option>
										</select>										
										<!--<div class="age">
											<div class="age__wrapper">
												<div id="jsRemotenessSlider" data-min="18" data-max="70" data-value-min="18" data-value-max="70"></div>
											</div>
											<div class="age__amount"><span class="js-remoteness-min"></span> - <span class="js-remoteness-max"></span> лет</div>
										</div>-->
									</div>
									<div class="col-md-8 col-sm-12 empllist-diagram__filters-form-actions">
										<div class="empllist-diagram__filters-form-actions-content">
											<button class="btn btn-link empllist-diagram__filters-form-expand-button" type="button">
												Меньше фильтров <i class="fa fa-chevron-up" aria-hidden="true"></i>
											</button>

											<button class="btn btn-default btn-p25 empllist-diagram__filters-form-clear-button" type="button">
												Сбросить
											</button>

											<button class="btn btn-primary btn-p25 empllist-diagram__filters-form-apply-button" type="button">
												Применить
											</button>
										</div>
									</div>
								</div>
                            </form>
                        </div>
                    </div>

					<ul class="nav nav-tabs empllist-tabs">
						<li><a href="#list" aria-controls="home" role="tab" data-toggle="tab">Список</a></li>
						<li class="active"><a href="#diagram" aria-controls="home" role="tab" data-toggle="tab">Отчеты</a></li>
					</ul>

					<div class="tab-content">
						<div role="tabpanel" class="tab-pane" id="list">
							<div class="filters-pages-empllist">
								<div class="menu-pages">
									Показать<span class="hidden-xs"> на странице</span>:<ul>
										<li class="active"><a href="#">20</a></li>
										<li><a href="#">40</a></li>
										<li><a href="#">60</a></li>
										<li><a href="#">Все</a></li>
									</ul>
								</div>
								<button type="button" class="btn btn-link btn-filter visible-lg visible-md" id="btn-filter-empllist"><i
										class="fas fa-thumbtack"></i><span class="txt-filter-fix">Закрепить фильтры</span><span
										class="txt-filter-detach">Открепить фильтры</span></button>
							</div>
							<div class="table-responsive-wrapper table-responsive-wrapper-empllist">
								<div class="table-responsive2">
									<table class="table table-hover table-empllist">
										<thead>
											<tr>
												<th class="cell-head cell-head-filial" style="width: 7%;">
													<div class="cell-head_name"><a href="#">Филиал</a></div>
												</th>
												<th class="hidden-xs hidden-sm">&nbsp;</th>
												<th class="cell-head cell-fio" style="width: 12%;">
													<div class="cell-head_name"><a href="#">ФИО</a></div>
												</th>
												<th class="cell-head cell-posts">
													<div class="cell-head_name"><a href="#">Должность / специальность / разряд</a>
													</div>
												</th>
												<th class="cell-head cell-head-schedule" style="width: 6%;">
													<div class="cell-head_name"><a href="#">Рабочий график</a></div>
												</th>
												<th class="cell-head cell-head-status" style="width: 7%;">
													<div class="cell-head_name"><a href="#">Статус</a></div>
												</th>
												<th class="cell-head cell-head-characteristic" style="width: 15%;">
													<div class="cell-head_name"><a href="#">Характеристика</a></div>
												</th>
												<th class="cell-head cell-head-nationality" style="width: 8%;">
													<div class="cell-head_name"><a href="#">Гражд-во</a></div>
												</th>
												<th class="cell-head cell-head-law-status" style="width: 8%;">
													<div class="cell-head_name"><a href="#">Правовой статус</a></div>
												</th>
												<th class="cell-head cell-head-education-status" style="width: 8%;">
													<div class="cell-head_name"><a href="#">Статус обучения</a></div>
												</th>
												<th class="cell-head cell-head-deposit" style="width: 8%;">
													<div class="cell-head_name">Депозит</div>
												</th>
												<th class="cell-head-btns">&nbsp;</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>Щербинка</td>
												<td class="cell-states">
													<i class="far fa-file-alt" title="Проблемы с документами"
														aria-hidden="true"></i>
												</td>
												<td class="cell-fio">
													<div class="cell-fio_cont">Смирнов Алексей Николаевич</div>
												</td>
												<td class="cell-posts">Водитель</td>
												<td>5/2</td>
												<td>Работает</td>
												<td>Хороший сотрудник</td>
												<td>
													<span class="not-set">(не задано)</span>
												</td>
												<td>ВНЖ</td>
												<td>-</td>
												<td class="stat-dep-without">Без депозита</td>
												<td class="cell-btns">
													<a class="btn btn-default" href="#" title="Изменить статус"><i
															class="far fa-sync-alt" aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Личное дело"><i class="far fa-file"
															aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Редактировать информацию"><i
															class="far fa-pencil" aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Удалить сотрудника"><i
															class="far fa-times" aria-hidden="true"></i></a>
													<a class="btn btn-default btn-user" href="#"
														title="Создать пользователя для сотрудника">
														<i class="far fa-user-plus" aria-hidden="true"></i>
													</a>
												</td>
											</tr>
											<tr>
												<td>Подольск</td>
												<td class="cell-states">
													<i class="fas fa-arrow-up" title="Рекомендуем повысить разряд до 7"
														aria-hidden="true"></i>
												</td>
												<td class="cell-fio">
													<div class="cell-fio_cont">Сатаркулова Динара Осконбековна</div>
												</td>
												<td class="cell-posts">Технический сотрудник / 1 / -</td>
												<td>5/2</td>
												<td>Работает</td>
												<td>Хороший сотрудник</td>
												<td>Киргизия</td>
												<td>-</td>
												<td>-</td>
												<td class="stat-dep-partly">Внесён частично</td>
												<td class="cell-btns">
													<a class="btn btn-default" href="#" title="Изменить статус"><i
															class="far fa-sync-alt" aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Личное дело"><i class="far fa-file"
															aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Редактировать информацию"><i
															class="far fa-pencil" aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Удалить сотрудника"><i
															class="far fa-times" aria-hidden="true"></i></a>
													<a class="btn btn-default btn-user" href="#"
													   title="Создать пользователя для сотрудника">
														<i class="far fa-user-plus" aria-hidden="true"></i>
													</a>
												</td>
											</tr>
											<tr>
												<td>Щербинка</td>
												<td class="cell-states">
													<i class="fas fa-arrow-down" title="Рекомендуем понизить разряд до 3"
														aria-hidden="true"></i>
												</td>
												<td class="cell-fio">
													<div class="cell-fio_cont">Журавлёва Наталья Леонидовна</div>
												</td>
												<td class="cell-posts">
													Администратор филиала / 5 / -<br>
													Младший сборщик / 3 / -
												</td>
												<td>5/2</td>
												<td>Работает</td>
												<td>Хороший сотрудник</td>
												<td>
													РФ
												</td>
												<td>ВНЖ</td>
												<td>-</td>
												<td class="stat-dep-more">Внесён излишне</td>
												<td class="cell-btns">
													<a class="btn btn-default" href="#" title="Изменить статус"><i
															class="far fa-sync-alt" aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Личное дело"><i class="far fa-file"
															aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Редактировать информацию"><i
															class="far fa-pencil" aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Удалить сотрудника"><i
															class="far fa-times" aria-hidden="true"></i></a>
													<a class="btn btn-default btn-user" href="#"
													   title="Разблокировать связанного пользователя: login">
														<i class="far fa-user-check" aria-hidden="true"></i>
													</a>
												</td>
											</tr>
											<tr>
												<td>Щербинка</td>
												<td class="cell-states">
													&nbsp;
												</td>
												<td class="cell-fio">
													<div class="cell-fio_cont">Константинопольский Александр Николаевич</div>
												</td>
												<td class="cell-posts">
													Генеральный директор
												</td>
												<td>5/2</td>
												<td>Работает</td>
												<td>Хороший сотрудник</td>
												<td>
													РФ
												</td>
												<td>-</td>
												<td>-</td>
												<td class="stat-dep-without">Без депозита</td>
												<td class="cell-btns">
													<a class="btn btn-default" href="#" title="Изменить статус"><i
															class="far fa-sync-alt" aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Личное дело"><i class="far fa-file"
															aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Редактировать информацию"><i
															class="far fa-pencil" aria-hidden="true"></i></a>
													<a class="btn btn-default" href="#" title="Удалить сотрудника"><i
															class="far fa-times" aria-hidden="true"></i></a>
													<a class="btn btn-default btn-user" href="#"
														title="Заблокировать связанного пользователя: login">
														<i class="far fa-user-lock" aria-hidden="true"></i>
													</a>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>

							<div class="empllist-diagram__pagination">
								@@include('include/pagination.html')
							</div>
						</div>
						<div role="tabpanel" class="tab-pane active" id="diagram">
							<div class="row charts">
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round1"></div>
								</div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round2"></div>
								</div>
								<div class="clearfix visible-sm"></div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round3"></div>
								</div>
								<div class="clearfix visible-lg visible-md"></div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round4"></div>
								</div>
								<div class="clearfix visible-sm"></div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round5"></div>
								</div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round6"></div>
								</div>
								<div class="clearfix visible-sm"></div>
								<div class="clearfix visible-lg visible-md"></div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round7"></div>
								</div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round8"></div>
								</div>
								<div class="clearfix visible-sm"></div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round9"></div>
								</div>
								<div class="clearfix visible-lg visible-md"></div>
								<div class="clearfix visible-sm"></div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round10"></div>
								</div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round11"></div>
								</div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round12"></div>
								</div>
								<div class="col-lg-4 col-md-4 col-sm-6 chart">
									<div id="round13"></div>
								</div>
							</div>
						</div>
					</div>

                </div>
            </div>
        </div>
    </div>

    <!-- modal : charts  -->
    <div class="modal fade" tabindex="-1" role="dialog" id="modalCharts">
        <div class="modal-dialog modal-dialog-centered mod-charts" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <ul class="mod-legend">
                        <li class="mod-legend__line">
                            <span class="mod-legend__point highcharts-color-0"></span>Работает
                        </li>
                        <li class="mod-legend__line">
                            <span class="mod-legend__point highcharts-color-1"></span>Уволен
                        </li>
                        <li class="mod-legend__line">
                            <span class="mod-legend__point highcharts-color-2"></span>Стажировка
                        </li>
                        <li class="mod-legend__line">
                            <span class="mod-legend__point highcharts-color-3"></span>Отстранен от работы
                        </li>
                        <li class="mod-legend__line">
                            <span class="mod-legend__point highcharts-color-4"></span>Работает
                        </li>
                        <li class="mod-legend__line">
                            <span class="mod-legend__point highcharts-color-5"></span>Уволен
                        </li>
                        <li class="mod-legend__line">
                            <span class="mod-legend__point highcharts-color-6"></span>Стажировка
                        </li>
                        <li class="mod-legend__line">
                            <span class="mod-legend__point highcharts-color-7"></span>Отстранен от работы
                        </li>
                    </ul>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <div class="scrollbar-inner">
                        <div class="row charts">
                            <div class="col-lg-6 col-md-6 col-sm-6 chart">
                                <div id="modal-round1"></div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 chart">
                                <div id="modal-round2"></div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 chart">
                                <div id="modal-round3"></div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 chart">
                                <div id="modal-round4"></div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 chart">
                                <div id="modal-round5"></div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 chart">
                                <div id="modal-round6"></div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 chart">
                                <div id="modal-round7"></div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 chart">
                                <div id="modal-round8"></div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 chart">
                                <div id="modal-round9"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @@include('include/_js.html')

    <!-- Highcharts, https://api.highcharts.com/highcharts/ -->
    <script src="http://code.highcharts.com/stock/highstock.js"></script>

    <!-- scrollbar http://manos.malihu.gr/jquery-custom-content-scroller/ -->
    <script src="js/scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>

	<!-- noUiSlider https://refreshless.com/nouislider/download/ -->
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/13.1.3/nouislider.min.js"></script>

    <script type="text/javascript">
    function fixedFilters() {
        const PADDING_TOP_DEFAULT = 29;
        var btn = $('#btn-filter-empllist');
        var is_fixed = btn.attr('class').indexOf('is-fixed');
        var body = $('body');
        var block_fix = $('#filter-fixed-empllist');
        var padding_top = PADDING_TOP_DEFAULT;

        if (is_fixed == -1) {
            block_fix.removeClass('filter-fixed-empllist');
			padding_top = 0;
        } else {
            block_fix.addClass('filter-fixed-empllist');
            padding_top = PADDING_TOP_DEFAULT + block_fix.height();
        }
        body.css('padding-top', padding_top + 'px');
    }

	$(window).on('load resize', function () {
		fixedFilters();
	});

        $(function () {
            initHatNavbar(document);

            $('.datepicker').datetimepicker({
                language: 'ru',
                pickTime: false
            });

            $('.js-select-multiple').select2({
                width: '100%'
            });

            $('#modalCharts').on('hidden.bs.modal', function (e) {
                $('.scrollbar-inner').mCustomScrollbar('destroy');
            })

            // $('#btn-filter-empllist').click(function() {
            //     fixedFiltersEmpllist(true);
            // });

			$(document).on('click', '#btn-filter-empllist', function (event) {

				var is_change = true;
				const PADDING_TOP_DEFAULT = 29;

				var btn = $('#btn-filter-empllist');
				var is_fixed = btn.attr('class').indexOf('is-fixed');

				var body = $('body');
				var block_fix = $('#filter-fixed-empllist');
				var padding_top = PADDING_TOP_DEFAULT;

				if (is_change) {
					if (is_fixed == -1) {
						//document.cookie = cookiePrefix+"fixed=1";

						btn.addClass('is-fixed');
						block_fix.addClass('filter-fixed-empllist');
						padding_top = PADDING_TOP_DEFAULT + block_fix.height();
					} else {
						//document.cookie = cookiePrefix+"fixed=0";

						btn.removeClass('is-fixed');
						block_fix.removeClass('filter-fixed-empllist');
						padding_top = 0;
					}
					body.css('padding-top', padding_top + 'px');
				} else {
					if (is_fixed > -1) {
						padding_top = PADDING_TOP_DEFAULT + block_fix.height();
						body.css('padding-top', padding_top + 'px');
					}
				}
			});

			/*var remotenessAmountMin = $('.js-remoteness-min');
			var remotenessAmountMax = $('.js-remoteness-max');
			var remotenessSlider = document.getElementById('jsRemotenessSlider');
			if (remotenessSlider) {
				var min = parseInt(remotenessSlider.getAttribute('data-min'), 10) || 0;
				var max = parseInt(remotenessSlider.getAttribute('data-max'), 10) || 50;
				var minValue = parseInt(remotenessSlider.getAttribute('data-value-min'), 10) || 0;
				var maxValue = parseInt(remotenessSlider.getAttribute('data-value-max'), 10) || 25;
				noUiSlider.create(remotenessSlider, {
					start: [minValue, maxValue],
					connect: true,
					range: {
						'min': min,
						'max': max
					},
					step: 1
				});
				remotenessSlider.noUiSlider.on('update', function(values, handle) {
					var value = parseInt(values[handle], 10);
					if (handle === 0) {
						remotenessAmountMin.text(value);
					}
					if (handle === 1) {
						remotenessAmountMax.text(value);
					}
				});
			}*/

			let isFiltersFormDense = true;

			const $filtersForm = $('.empllist-diagram__filters-form');
			const $denseHiddenFilters = $filtersForm.find('.empllist-diagram__filters-form-filter--dense-hidden');
			const $expandButton = $filtersForm.find('.empllist-diagram__filters-form-expand-button');

			$('.empllist-diagram__filters-form-clear-button').on('click', () => {
				$filtersForm.find('input, select').val('').trigger('change');
				$filtersForm.find('input[type="checkbox"]').prop("checked", false);
				remotenessSlider.noUiSlider.reset();
			});

			$expandButton.on('click', () => {
				setFiltersFormState(!isFiltersFormDense);
				isFiltersFormDense = !isFiltersFormDense;
			});

			function setFiltersFormState(isDense, isInit = false) {
				if (isDense) {
					$denseHiddenFilters.fadeOut(!isInit ? 200 : 0, () => {
						$filtersForm.addClass('empllist-diagram__filters-form--dense');
						fixedFilters();
					});
					$expandButton.html($('<span>Больше фильтров <i class="fa fa-chevron-down" aria-hidden="true"></i></span>'))
				} else {
					$filtersForm.removeClass('empllist-diagram__filters-form--dense');
					$denseHiddenFilters.fadeIn(!isInit ? 200 : 0, () => {
						fixedFilters();
					});
					$expandButton.html($('<span>Меньше фильтров <i class="fa fa-chevron-up" aria-hidden="true"></i></span>'));
				}
			}

			setFiltersFormState(isFiltersFormDense, true);

            let def_chart = {
                    type: 'pie',
                    styledMode: true,
                    width: 354
                },
                xs_chart = {
                    type: 'pie',
                    styledMode: true,
                    width: 354,
                    className: 'chart--xs',
					height: 500
                },
                small_chart = {
                    type: 'pie',
                    styledMode: true,
                    width: 354,
                    className: 'chart--small'
                },
                big_chart = {
                    type: 'pie',
                    styledMode: true,
                    width: 354,
                    height: 450,
                    className: 'chart--big'
                },
                modal_chart = {
                    type: 'pie',
                    styledMode: true,
                    width: 330,
                    height: 250,
                    className: 'chart--modal'
                },
                def_tooltip = {
                    pointFormat: '{point.y} <b>{point.percentage:.1f}%</b>'
                },
                def_plot = {
                    pie: {
                        allowPointSelect: false,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: false
                        },
                        showInLegend: true,
                        size: 230,
                        center: ["50%", "90"],
                        events: {
                            click: function (event) {
                                $('#modalCharts').modal('show');
                                $('.scrollbar-inner').mCustomScrollbar({
                                    axis: "y",
                                    theme: "dark"
                                });
                            }
                        }
                    }
                },
                modal_plot = {
                    pie: {
                        allowPointSelect: false,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: false
                        },
                        showInLegend: true,
                        center: ["70", "70"],
                        size: 180
                    }
                },
                def_legend = {
                    align: 'center',
                    verticalAlign: 'proximate',
                    y: 280,
                    layout: 'vertical',
                    symbolPadding: 8,
                    symbolWidth: 10,
                    symbolHeight: 10,
                    symbolRadius: 5,
                    useHTML: true,
                    itemMarginBottom: 5,
                    labelFormatter: function () {
                        return `
                            <span class="chart__name">${this.name}</span>
                            <span class="chart__num">${this.y}</span>
                            <span class="chart__percent">${this.percentage.toFixed(0)}%</span>
                        `
                    }
                },
                double_legend = {
                    align: 'left',
                    verticalAlign: 'proximate',
                    y: 280,
                    layout: 'horizontal',
                    alignColumns: true,
                    symbolPadding: 8,
                    symbolWidth: 10,
                    symbolHeight: 10,
                    symbolRadius: 5,
                    useHTML: true,
                    width:354,
                    itemWidth:177,
                    itemMarginBottom: 5,
                    labelFormatter: function () {
                        return `
                            <span class="chart__name">${this.name}</span>
                            <span class="chart__num">${this.y}</span>
                            <span class="chart__percent">${this.percentage.toFixed(0)}%</span>
                        `
                    }
                },
                triple_legend = {
                    align: 'left',
                    verticalAlign: 'proximate',
                    y: 280,
                    layout: 'horizontal',
                    alignColumns: true,
                    symbolPadding: 8,
                    symbolWidth: 10,
                    symbolHeight: 10,
                    symbolRadius: 5,
                    useHTML: true,
                    width:354,
                    itemWidth:118,
                    itemMarginBottom: 5,
                    labelFormatter: function () {
                        return `
                            <span class="chart__name">${this.name}</span>
                            <span class="chart__num">${this.y}</span>
                            <span class="chart__percent">${this.percentage.toFixed(0)}%</span>
                        `
                    }
                },
                right_legend = {
                    align: 'right',
                    x: -20,
                    verticalAlign: 'middle',
                    layout: 'vertical',
                    symbolPadding: 8,
                    symbolWidth: 10,
                    symbolHeight: 10,
                    symbolRadius: 5,
                    useHTML: true,
                    itemMarginBottom: 5,
                    labelFormatter: function () {
                        return `
                            <span class="chart__num">${this.y}</span>
                            <span class="chart__percent">${this.percentage.toFixed(0)}%</span>
                        `
                    }
                };

            Highcharts.chart('round1', {
                chart: small_chart,
                title: {
                    text: 'Приток/отток сотрудников'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Приток', 800, 0],
                        ['Отток', 164, 1]
                    ],
                }],
                legend: def_legend
            });
            Highcharts.chart('round2', {
                chart: def_chart,
                title: {
                    text: 'По статусам'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Работает', 475, 0],
                        ['Уволен', 240, 1],
                        ['Стажировка', 130, 2],
                        ['Отстранен от работы', 66, 3],
                        ['Работает', 475, 0],
                        ['Уволен', 240, 1],
                        ['Стажировка', 130, 2]
                    ],
                }],
                legend: def_legend
            });
            Highcharts.chart('round3', {
                chart: def_chart,
                title: {
                    text: 'По характеристике'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Хороший сотрудник', 475, 0],
                        ['Есть замечания', 240, 1],
                        ['Нужно заменить', 196, 2],
                    ],
                }],
                legend: def_legend
            });
            Highcharts.chart('round4', {
                chart: big_chart,
                title: {
                    text: 'Гражданство'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Россия', 200, 0],
                        ['Узбекистан', 120, 1],
                        ['Белоруссия', 110, 2],
                        ['Туркмения', 102, 3],
                        ['Казахстан', 70, 4],
                        ['Украина', 43, 5],
                        ['Молдавия', 19, 6],
                        ['Кыргызстан', 14, 7],
                        ['Таджикистан', 9, 8],
                        ['Азербайджан', 4.5, 9],
                    ],
                }],
                legend: double_legend
            });
            Highcharts.chart('round5', {
                chart: big_chart,
                title: {
                    text: 'По филиалам'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Щербинка', 200, 0],
                        ['Бутово', 120, 1],
                        ['Ясенево', 110, 2],
                        ['Коммунарка', 102, 3],
                        ['Подольск', 70, 4],
                        ['Эталон', 44, 5],
                        ['Южная', 20, 6],
                        ['Call center', 15, 7],
                        ['Офис', 10, 8]
                    ],
                }],
                legend: double_legend
            });
            Highcharts.chart('round6', {
                chart: big_chart,
                title: {
                    text: 'По должностям'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Повар-сушист', 200, 0],
                        ['Повар-пиццмейкер', 120, 1],
                        ['Горячий цех', 110, 2],
                        ['Администр-р филиала', 102, 3],
                        ['Водитель', 70, 4],
                        ['Оператор', 43, 5],
                        ['Сборщик', 19, 6],
                        ['Тех. сотрудник', 14, 7],
                        ['Официант', 9, 8],
                        ['Офисный сотрудник', 4.5, 9]
                    ],
                }],
                legend: double_legend
            });
            Highcharts.chart('round7', {
                chart: xs_chart,
                title: {
                    text: 'По разрядам'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['1', 64, 0],
                        ['2', 56, 1],
                        ['3', 39, 2],
                        ['4', 50, 3],
                        ['5', 78, 4],
                        ['6', 56, 5],
                        ['7', 39, 6],
                        ['8', 50, 7],
                        ['9', 47, 8],
                        ['10', 78, 9],
                        ['11', 47, 10],
                        ['12', 56, 11],
                        ['13', 72, 12],
                        ['14', 69, 13]
                    ],
                }],
                legend: triple_legend
            });
            Highcharts.chart('round8', {
                chart: big_chart,
                title: {
                    text: 'По графику работы'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['2/2', 278, 0],
                        ['3/4', 241, 1],
                        ['5/2', 226, 2],
                        ['6/1', 57, 3],
                        ['только будни', 57, 4],
                        ['только выходные', 49, 5]
                    ],
                }],
                legend: double_legend
            });
            Highcharts.chart('round9', {
                chart: big_chart,
                title: {
                    text: 'Проблемы с документами по должностям'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Повар-сушист', 50, 0],
                        ['Повар-пиццмейкер', 30, 1],
                        ['Горячий цех', 28, 2],
                        ['Администр-р филиала', 25, 3],
                        ['Водитель', 17, 4],
                        ['Оператор', 11, 5],
                        ['Сборщик', 5, 6],
                        ['Тех. сотрудник', 4, 7],
                        ['Официант', 4, 8],
                        ['Офисный сотрудник', 3, 9]
                    ],
                }],
                legend: double_legend
            });
            Highcharts.chart('round10', {
                chart: big_chart,
                title: {
                    text: 'Владение языками'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Русский', 621, 0],
                        ['Английский', 150, 1],
                        ['Украинский', 78, 2],
                        ['Татарский', 29, 3],
                        ['Узбекский', 14, 4],
                        ['Киргизский', 12, 5],
                        ['Казахский', 11, 6],
                        ['Туркменский', 6, 7],
                        ['Молдавский', 5, 8],
                        ['Таджикский', 5, 9],
                        ['Азербайджанский', 4, 10],
                        ['Турецкий', 3, 11],
                        ['Румынский', 3, 12],
                        ['Корейский', 2, 13],
                        ['Французский', 2, 14]
                    ],
                }],
                legend: {
                    ...double_legend,
                    maxHeight: 140
                }
            });
            Highcharts.chart('round11', {
                chart: big_chart,
                title: {
                    text: 'Владение программами'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['1С', 234, 0],
                        ['MS Excel', 185, 1],
                        ['Fast Operator', 143, 2],
                        ['Iiko', 127, 3],
                        ['Jira', 110, 4],
                        ['Mypar', 102, 5],
                        ['R-keeper', 51, 6],
                        ['MS Word', 46, 7],
                        ['MS Access', 23, 8],
                        ['Thunderbird', 23, 9]
                    ],
                }],
                legend: double_legend
            });
            Highcharts.chart('round12', {
                chart: big_chart,
                title: {
                    text: 'Специальность'
                },
                tooltip: def_tooltip,
                plotOptions: def_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Повар', 411, 0],
                        ['Управление персоналом', 158, 158],
                        ['Другое', 95, 2],
                        ['Без специальности', 20, 3]
                    ],
                }],
                legend: double_legend
            });
			Highcharts.chart('round13', {
				chart: big_chart,
				title: {
					text: 'Возраст'
				},
				tooltip: def_tooltip,
				plotOptions: def_plot,
				series: [{
					keys: ['name', 'y', 'colorIndex'],
					data: [
						['младше 21', 278, 0],
						['21-30', 241, 1],
						['31-40', 226, 2],
						['41-50', 57, 3],
						['старше 51', 57, 4],
						['Не указан', 49, 5]
					],
				}],
				legend: double_legend
			});

            // modal charts:
            Highcharts.chart('modal-round1', {
                chart: modal_chart,
                title: {
                    text: 'Щербинка',
                    align: 'left'
                },
                tooltip: def_tooltip,
                plotOptions: modal_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Работает', 43, 0],
                        ['Уволен', 20, 1],
                        ['Стажировка', 11, 2],
                        ['Отстранен от работы', 5, 3]
                    ],
                }],
                legend: right_legend
            });
            Highcharts.chart('modal-round2', {
                chart: modal_chart,
                title: {
                    text: 'Бутово',
                    align: 'left'
                },
                tooltip: def_tooltip,
                plotOptions: modal_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Работает', 50, 0],
                        ['Уволен', 24, 1],
                        ['Стажировка', 12, 2],
                        ['Отстранен от работы', 5, 3]
                    ],
                }],
                legend: right_legend
            });
            Highcharts.chart('modal-round3', {
                chart: modal_chart,
                title: {
                    text: 'Ясенево',
                    align: 'left'
                },
                tooltip: def_tooltip,
                plotOptions: modal_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Работает', 50, 0],
                        ['Уволен', 24, 1],
                        ['Стажировка', 12, 2],
                        ['Отстранен от работы', 5, 3]
                    ],
                }],
                legend: right_legend
            });
            Highcharts.chart('modal-round4', {
                chart: modal_chart,
                title: {
                    text: 'Коммунарка',
                    align: 'left'
                },
                tooltip: def_tooltip,
                plotOptions: modal_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Работает', 43, 0],
                        ['Уволен', 20, 1],
                        ['Стажировка', 11, 2],
                        ['Отстранен от работы', 5, 3]
                    ],
                }],
                legend: right_legend
            });
            Highcharts.chart('modal-round5', {
                chart: modal_chart,
                title: {
                    text: 'Подольск',
                    align: 'left'
                },
                tooltip: def_tooltip,
                plotOptions: modal_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Работает', 43, 0],
                        ['Уволен', 20, 1],
                        ['Стажировка', 11, 2],
                        ['Отстранен от работы', 5, 3]
                    ],
                }],
                legend: right_legend
            });
            Highcharts.chart('modal-round6', {
                chart: modal_chart,
                title: {
                    text: 'Эталон',
                    align: 'left'
                },
                tooltip: def_tooltip,
                plotOptions: modal_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Работает', 43, 0],
                        ['Уволен', 20, 1],
                        ['Стажировка', 11, 2],
                        ['Отстранен от работы', 5, 3]
                    ],
                }],
                legend: right_legend
            });
            Highcharts.chart('modal-round7', {
                chart: modal_chart,
                title: {
                    text: 'Южная',
                    align: 'left'
                },
                tooltip: def_tooltip,
                plotOptions: modal_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Работает', 43, 0],
                        ['Уволен', 20, 1],
                        ['Стажировка', 11, 2],
                        ['Отстранен от работы', 5, 3]
                    ],
                }],
                legend: right_legend
            });
            Highcharts.chart('modal-round8', {
                chart: modal_chart,
                title: {
                    text: 'Call center',
                    align: 'left'
                },
                tooltip: def_tooltip,
                plotOptions: modal_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Работает', 43, 0],
                        ['Уволен', 20, 1],
                        ['Стажировка', 11, 2],
                        ['Отстранен от работы', 5, 3]
                    ],
                }],
                legend: right_legend
            });
            Highcharts.chart('modal-round9', {
                chart: modal_chart,
                title: {
                    text: 'Офис',
                    align: 'left'
                },
                tooltip: def_tooltip,
                plotOptions: modal_plot,
                series: [{
                    keys: ['name', 'y', 'colorIndex'],
                    data: [
                        ['Работает', 43, 0],
                        ['Уволен', 20, 1],
                        ['Стажировка', 11, 2],
                        ['Отстранен от работы', 5, 3]
                    ],
                }],
                legend: right_legend
            });

        });
    </script>
</body>
</html>
