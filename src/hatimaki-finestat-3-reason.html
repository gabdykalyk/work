<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Штрафы и премии</title>
    
    @@include('include/_css.html')

    @@include('include/_ie8.html')

</head>

<body>
    @@include('include/top-nav.html')

    <div class="container-fluid content">
        <h1>Штрафы и премии</h1>
        <hr class="visible-lg visible-md">

        <form action="" method="post" class="form-respons">
            <div class="js-surcharge">
                <div class="row">
                    <div class="finestat-groups">
                        <div class="btn-group finestat-btn-group finestat-btn-group--margintop">
                            <a href="#" class="btn btn-default active-red">Штрафы</a>
                            <a href="#" class="btn btn-default">Премии</a>
                        </div>
                    </div>
                    <div class="form-group col-md-3 col-sm-5 col-xs-12 col-w-calc">
                        <label for="filial" class="hidden-xs">Филиал</label>
                        <select class="form-control" name="filial" id="filial">
                            <option value="1">Все филиалы</option>
                            <option value="2">Не все</option>
                        </select>
                    </div>
                    <div class="clearfix visible-sm"></div>
                    <div class="form-group finestat-form-period col-md-2 col-sm-3 col-xs-12 col-w-calc">
                        <label for="surcharge[1]" class="hidden-xs">Отчетный период</label>
                        <select class="form-control js-emplsurcharge-period" name="surcharge[1][period]">
                            <option value="days">Сегодня</option>
                            <option value="week">Произвольный</option>
                        </select>
                    </div>
                    <div class="js-types finestat-types">
                        <div class="form-group finestat-form-date" data-type="week">
                            <label class="hidden-xs">&nbsp;</label>
                            <div class="input-group datepicker form-control-sm">
                                <input type="text" class="form-control" value="" name="from" maxlength="10">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </div>
                        </div>
                        <div class="form-group finestat-form-date-del" data-type="week">
                          -
                        </div>
                        <div class="form-group finestat-form-date" data-type="week">
                            <label class="hidden-xs">&nbsp;</label>
                            <div class="input-group datepicker form-control-sm">
                                <input type="text" class="form-control" value="" name="to" maxlength="10">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="finestat-btn-block">
                        <div class="form-group">
                            <label class="hidden-xs">&nbsp;</label>
                            <div class="">
                                <button type="button" class="btn btn-primary">Применить</button>
                            </div>
                        </div>
                    </div>
                </div>
                <br class="hidden-xs">
                <div class="row">
                    <div class="finestat-groups">
                        <div class="btn-group finestat-btn-group">
                            <a href="#" class="btn btn-default">
                                <span class="txt-desktop">По причинам</span>
                                <span class="txt-mobile"><i class="fa fa-list"></i></span>
                            </a>
                            <a href="#" class="btn btn-default">
                                <span class="txt-desktop">По сотрудникам</span>
                                <span class="txt-mobile"><i class="fa fa-users"></i></span>
                            </a>
                            <a href="#" class="btn btn-default active">
                                <span class="txt-desktop">По причинам и сотрудникам</span>
                                <span class="txt-mobile"><i class="fa fa-list"></i> + <i class="fa fa-users"></i></span>
                            </a>
                        </div>
                    </div>
                    <div class="finestat-groups finestat-groups--input">
                        <input type="text" class="form-control" placeholder="Введите причину">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8">
                    <div class="finestat-table-responsive finestat-table finestat-table--reason finestat-table--desktop">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th><a href="#">Причина <i class="fa fa-sort-alpha-down"></i></a></th>
                                    <th>Сотрудник</th>
                                    <th class="text-center">Кол-во</th>
                                    <th class="text-center">Сумма</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="finestat-table--parent-tr" data-id="1">
                                    <td>
                                        <a href="#" class="js-finestat-tr finestat-tr-link"><i class="fa fa-chevron-circle-down"></i></a>
                                    </td>
                                    <td>Неявка на работу без уважительной причины</td>
                                    <td></td>
                                    <td class="text-center">1</td>
                                    <td class="text-center">150</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="1">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">11</td>
                                    <td class="text-center">2200</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="1">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">11</td>
                                    <td class="text-center">2200</td>
                                </tr>
                                <tr class="finestat-table--parent-tr" data-id="2">
                                    <td>
                                        <a href="#" class="js-finestat-tr finestat-tr-link"><i class="fa fa-chevron-circle-down"></i></a>
                                    </td>
                                    <td>Опоздание от 5 до 10 мин</td>
                                    <td></td>
                                    <td class="text-center">25</td>
                                    <td class="text-center">11 700</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="2">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">11</td>
                                    <td class="text-center">2200</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="2">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">11</td>
                                    <td class="text-center">2200</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="2">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">11</td>
                                    <td class="text-center">2200</td>
                                </tr>
                                <tr class="finestat-table--parent-tr" data-id="3">
                                    <td>
                                        <a href="#" class="js-finestat-tr finestat-tr-link"><i class="fa fa-chevron-circle-down"></i></a>
                                    </td>
                                    <td>Опоздание от 10 до 20 мин</td>
                                    <td></td>
                                    <td class="text-center">4</td>
                                    <td class="text-center">1300</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="3">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1</td>
                                    <td class="text-center">1000</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="3">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1</td>
                                    <td class="text-center">1000</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="3">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1</td>
                                    <td class="text-center">1000</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="3">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1</td>
                                    <td class="text-center">1000</td>
                                </tr>
                                <tr class="finestat-table--parent-tr" data-id="4">
                                    <td>
                                        <a href="#" class="js-finestat-tr finestat-tr-link"><i class="fa fa-chevron-circle-down"></i></a>
                                    </td>
                                    <td>Отсутствие на рабочем месте от 30 мин до 1ч</td>
                                    <td></td>
                                    <td class="text-center">4</td>
                                    <td class="text-center">1300</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="4">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1</td>
                                    <td class="text-center">1000</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="4">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1</td>
                                    <td class="text-center">1000</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="4">
                                    <td></td>
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1</td>
                                    <td class="text-center">1000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="finestat-table-responsive finestat-table finestat-table--reason finestat-table--mobile">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th><a href="#">Причина <i class="fa fa-sort-alpha-down"></i> &nbsp;&nbsp;&nbsp;&nbsp; Сотрудник</a></th>
                                    <th class="text-center">Кол-во/<br>Сумма</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="finestat-table--parent-tr" data-id="1">
                                    <td>
                                        <a href="#" class="js-finestat-tr finestat-tr-link"><i class="fa fa-chevron-circle-down"></i></a>
                                    </td>
                                    <td>Неявка на работу без уважительной причины</td>
                                    <td class="text-center">1/150</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="1">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/2200</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="1">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/2200</td>
                                </tr>
                                <tr class="finestat-table--parent-tr" data-id="2">
                                    <td>
                                        <a href="#" class="js-finestat-tr finestat-tr-link"><i class="fa fa-chevron-circle-down"></i></a>
                                    </td>
                                    <td>Опоздание от 5 до 10 мин</td>
                                    <td class="text-center">2/11700</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="2">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/2200</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="2">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/2200</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="2">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/2200</td>
                                </tr>
                                <tr class="finestat-table--parent-tr" data-id="3">
                                    <td>
                                        <a href="#" class="js-finestat-tr finestat-tr-link"><i class="fa fa-chevron-circle-down"></i></a>
                                    </td>
                                    <td>Опоздание от 10 до 20 мин</td>
                                    <td class="text-center">4/1300</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="3">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/1000</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="3">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/1000</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="3">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/1000</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="3">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/1000</td>
                                </tr>
                                <tr class="finestat-table--parent-tr" data-id="4">
                                    <td>
                                        <a href="#" class="js-finestat-tr finestat-tr-link"><i class="fa fa-chevron-circle-down"></i></a>
                                    </td>
                                    <td>Отсутствие на рабочем месте от 30 мин до 1ч</td>
                                    <td class="text-center">4/1300</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="4">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/1000</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="4">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/1000</td>
                                </tr>
                                <tr class="finestat-table--child-tr" data-parent="4">
                                    <td></td>
                                    <td>Иванов Сергей</td>
                                    <td class="text-center">1/1000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap-3.3.7/js/bootstrap.min.js"></script>

    <!-- Bootstrap DateTimepicker, https://eonasdan.github.io/bootstrap-datetimepicker/ -->
    <script type="text/javascript" src="js/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"></script>

    <!-- Select2, https://select2.org/getting-started/basic-usage -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/js/select2.full.min.js"></script>

    <!-- https://github.com/LucasLazaro/bootstrap-nav-tab-scrollable -->
    <script type="text/javascript" src="js/scrolling-tabs/jquery.scrolling-tabs.js"></script>

    <!-- Phone Mask, https://github.com/RobinHerbots/Inputmask -->
    <script type="text/javascript" src="js/jquery.inputmask.bundle.js"></script>
    <script type="text/javascript" src="js/inputmask.date.extensions.js"></script>

    <script type="text/javascript" src="js/js-gl.js"></script>

    <script type="text/javascript">
        $(function () {
            initNavbar();
            initSurcharge();
            changeSurchargePeriodType();

      			// Календарь и селект для Произольные дни и Каждый год
            $('.datepicker').datetimepicker({
                format: 'DD.MM.YYYY',
                language: 'ru'
            });

            // Изменение периода надбавки
            $(document).on('change', '.js-emplsurcharge-period', function () {
                changeSurchargePeriodType();
            });

            $(document).on('click', '.js-finestat-tr', function (e) {
                e.preventDefault();
                var parent = $(this).closest('tr'),
                    id = parent.data('id');

                parent.toggleClass('open');
                if (parent.hasClass('open')) {
                    $(this).html('<i class="fa fa-chevron-circle-up"></i>');
                    $(this).closest('table').find('tr[data-parent="' + id + '"]').show();
                } else {
                    $(this).html('<i class="fa fa-chevron-circle-down"></i>');
                    $(this).closest('table').find('tr[data-parent="' + id + '"]').hide();
                }
            })
        });
    </script>
</body>
</html>
