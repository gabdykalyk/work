<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Power BI</title>
	
	@@include('include/_css.html')
	
  @@include('include/_ie8.html')
</head>

<body>
  @@include('include/top-nav.html')

  <div class="container-fluid content power-bi-category">
		<div class="head-without-border head-with-btns">
			<h1>Категории Power BI</h1>
			<a href="#" class="btn btn-success btn-p25" data-toggle="modal" data-target="#power-bi-category__modal">Добавить категорию</a>
		</div>

		<div class="row">
			<div class="col-lg-7 col-md-7">
				
				<table class="table power-bi-category__table table-valign-middle">
					<thead>
						<tr>
							<th>
								<a href="#" class="desc-word">
									<span>Категория</span>
								</a>
							</th>
							<th>Описание</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Выручка</td>
							<td>Отчеты о среднем чеке по филиалам</td>
							<td class="cell-btns cell-btns-right">
								<button type="button" class="btn btn-default" title="Редактировать"><i class="far fa-pencil"></i></button>

								<button type="button" class="btn btn-default js-power-bi-category__del" title="Удалить"><i class="far fa-times"></i></button>
							</td>
						</tr>
						<tr>
							<td>Выручка</td>
							<td>Отчеты о среднем чеке по филиалам</td>
							<td class="cell-btns cell-btns-right">
								<button type="button" class="btn btn-default" title="Редактировать"><i class="far fa-pencil"></i></button>

								<button type="button" class="btn btn-default js-power-bi-category__del" title="Удалить"><i class="far fa-times"></i></button>
							</td>
						</tr>
						<tr>
							<td>Выручка</td>
							<td>Отчеты о среднем чеке по филиалам</td>
							<td class="cell-btns cell-btns-right">
								<button type="button" class="btn btn-default" title="Редактировать"><i class="far fa-pencil"></i></button>

								<button type="button" class="btn btn-default js-power-bi-category__del" title="Удалить"><i class="far fa-times"></i></button>
							</td>
						</tr>
						<tr>
							<td>Выручка от продажи</td>
							<td>Отчеты о среднем чеке по филиалам</td>
							<td class="cell-btns cell-btns-right">
								<button type="button" class="btn btn-default" title="Редактировать"><i class="far fa-pencil"></i></button>

								<button type="button" class="btn btn-default js-power-bi-category__del" title="Удалить"><i class="far fa-times"></i></button>
							</td>
						</tr>
						<tr>
							<td>Выручка</td>
							<td>Отчеты о среднем чеке по филиалам</td>
							<td class="cell-btns cell-btns-right">
								<button type="button" class="btn btn-default" title="Редактировать"><i class="far fa-pencil"></i></button>

								<button type="button" class="btn btn-default js-power-bi-category__del" title="Удалить"><i class="far fa-times"></i></button>
							</td>
						</tr>
						<tr>
							<td>Выручка</td>
							<td>Отчеты о среднем чеке по филиалам</td>
							<td class="cell-btns cell-btns-right">
								<button type="button" class="btn btn-default" title="Редактировать"><i class="far fa-pencil"></i></button>

								<button type="button" class="btn btn-default js-power-bi-category__del" title="Удалить"><i class="far fa-times"></i></button>
							</td>
						</tr>
						<tr>
							<td>Выручка</td>
							<td>Отчеты о среднем чеке по филиалам Отчеты о среднем чеке по филиалам Отчеты о среднем чеке по филиалам</td>
							<td class="cell-btns cell-btns-right">
								<button type="button" class="btn btn-default" title="Редактировать"><i class="far fa-pencil"></i></button>

								<button type="button" class="btn btn-default js-power-bi-category__del" title="Удалить"><i class="far fa-times"></i></button>
							</td>
						</tr>
					</tbody>
				</table>

			</div>
		</div>

	</div>

	<div class="modal fade power-bi-category__modal" tabindex="-1" role="dialog" id="power-bi-category__modal">
		<div class="modal-dialog" role="document">
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>

					<h4 class="modal-title">Добавить категорию</h4>
				</div>

				<div class="modal-body">
					<form action="" method="post" class="form-respons">

							<div class="form-group">
		            <label for="power-bi-category__modal-name">Название категории</label>
		            <input type="text" class="form-control" value="" name="power-bi-category__modal-name" id="power-bi-category__modal-name">
		        	</div>

							<div class="form-group">
		            <label for="power-bi-category__modal-description">Описание</label>
		            <textarea class="form-control" name="power-bi-category__modal-description" id="power-bi-category__modal-description"></textarea>
		        	</div>

							<div class="form-btns clearfix">
								<button type="submit" class="btn btn-primary">Сохранить</button>
							</div>
						
					</form>

				</div>
			</div>
		</div>
	</div>


	@@include('include/_js.html')

	<script src="https://unpkg.com/web-animations-js@2.3.1/web-animations.min.js"></script>
	<script src="https://unpkg.com/hammerjs@2.0.8/hammer.min.js"></script>
	<script src="https://unpkg.com/muuri@0.7.1/dist/muuri.min.js"></script>

  <script type="text/javascript">
  	function dragElements() {
  		var grid = new Muuri('.power-bi-category__table tbody', {
  		  dragEnabled: true,
  		  layout: {
  		    fillGaps: true
  		  }
  		});

  		return grid;
  	}

  	$(document).ready(function () {
  		var grid = dragElements();

  		$('.js-power-bi-category__del').on('click', function(){
  			var elem = $(this).closest('tr');
  			grid.remove(elem[0], {removeElements: true});
  		})
  	});
  		
  </script>

</body>

</html>