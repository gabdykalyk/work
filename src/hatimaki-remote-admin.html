<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Сотрудники</title>

    @@include('include/_css.html')

    @@include('include/_ie8.html')
</head>
<body>
    <div class="hat-scaffold">
        <div class="hat-scaffold__navbar">
            @@include('include/hat-navbar.html')
        </div>

        <div class="hat-scaffold__body">
			<div class="hat-scaffold__body-content">
				<div class="hat-scaffold__content-wrapper">

					<div class="hat-scaffold__head">
						<h1>
							Время работы офисных сотрудников
						</h1>
					</div>

					<div class="remote-admin js-remote-admin">
						<form class="form-respons remote-admin__form js-remote-admin-form" action="" method="post">
							<div class="row">
								<div class="col-lg-2 col-md-2 col-sm-3 form-group">
									<label for="branch">Филиал</label>
									<select class="form-control" name="branch">
										<option value="1">Офис</option>
										<option value="2">Щербинка</option>
										<option value="3">Бутово</option>
									</select>
								</div>
								<div class="col-lg-4 col-md-4 col-sm-6 form-group">
									<label for="post">Должность</label>
									<select class="form-control js-select-multiple" name="post[]" id="post" multiple="multiple" tabindex="-1" aria-hidden="true">
										<option value="1">Администратор филиал</option>
										<option value="2">Директор IT</option>
										<option value="3">Юрист</option>
										<option value="4">Бухгалтер</option>
									</select>
								</div>
								<div class="col-lg-3 col-md-3 col-sm-3 form-group">
									<label for="view">Режим просмотра</label>
									<select class="form-control js-remote-admin-view" name="view">
										<option value="days">По дням</option>
										<option value="weeks">По неделям</option>
										<option value="months">По месяцам</option>
									</select>
								</div>
								<div class="clearfix visible-lg visible-md"></div>
								<div class="col-lg-2 col-md-2 col-sm-3 form-group">
									<label for="period">За период</label>
									<select class="form-control selectPeriod js-remote-admin-period" name="period">
										<option value="days">Сегодня</option>
										<option value="arbitrary" selected="">Произвольный</option>
									</select>
								</div>
								<div class="col-lg-4 col-md-4 col-sm-6 form-group js-types">
									<div class="input-groups-periods">
										<div class="input-group datepicker">
											<input type="text" class="form-control periodDateInput" value="01.01.1995" name="fromdate" placeholder="00.00.0000" maxlength="10">
											<span class="input-group-btn">
												<button class="btn btn-default" type="button"><i class="fas fa-calendar-alt"></i></button>
											</span>
										</div>
										<span class="input-group-dash">&dash;</span>
										<div class="input-group datepicker">
											<input type="text" class="form-control periodDateInput" value="01.01.1995" name="todate" placeholder="00.00.0000" maxlength="10">
											<span class="input-group-btn">
												<button class="btn btn-default" type="button"><i class="fas fa-calendar-alt"></i></button>
											</span>
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-md-4 col-sm-3 form-group no-label">
									<button class="btn btn-primary btn-p25" type="submit">Применить</button>
								</div>
							</div>
						</form>
						<div class="remote-admin__table-wrapper js-days-table">
							<div class="remote-admin__table">
								<table class="table table-valign-middle remote-admin__table-table table-days">
									<thead>
										<tr>
											<th rowspan="2" height="70">
												<a href="#" class="cell-xs-icon-sort asc-word cell-name" data-icon="&#xf073">ФИО</a>
												Должность / раздряд
											</th>
											<th class="js-cell-mobile">
												<div class="cell-name">Иванов Иван Ильич</div>
												Юрист / - / -
											</th>
											<th class="js-cell-mobile">
												<div class="cell-name">Петров Илья Петрович</div>
												Бухгалтер / 1 / -
											</th>
											<th class="js-cell-mobile">
												<div class="cell-name">Смирнов Николай Евгеньевич</div>
												Бухгалтер / 1 / -
											</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<th colspan="2">
												11.03 2019, Пн
											</th>
											<th colspan="2">
												12.03 2019, Вт
											</td>
											<th colspan="2">
												13.03 2019, Ср
											</th>
											<th colspan="2">
												14.03 2019, Чт
											</th>
											<th colspan="2">
												15.03 2019, Пт
											</th>
											<th colspan="2">
												16.03 2019, Сб
											</th>
											<th colspan="2">
												17.03 2019, Вс
											</th>
											<th colspan="2">
												18.03 2019, Пн
											</th>
										</tr>
										<tr>
											<th class="w-middle">
												Время работы
											</th>
											<th class="w-small">
												Часов
											</th>
											<th class="w-middle">
												Время работы
											</th>
											<th class="w-small">
												Часов
											</th>
											<th class="w-middle">
												Время работы
											</th>
											<th class="w-small">
												Часов
											</th>
											<th class="w-middle">
												Время работы
											</th>
											<th class="w-small">
												Часов
											</th>
											<th class="w-middle">
												Время работы
											</th>
											<th class="w-small">
												Часов
											</th>
											<th class="w-middle">
												Время работы
											</th>
											<th class="w-small">
												Часов
											</th>
											<th class="w-middle">
												Время работы
											</th>
											<th class="w-small">
												Часов
											</th>
											<th class="w-middle">
												Время работы
											</th>
											<th class="w-small">
												Часов
											</th>
										</tr>
										<tr class="js-row">
											<td class="js-cell-mobile">
												11:00 – 15:00<br />
												18:00 – 23:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">8 (5)</a>
											</td>
											<td class="js-cell-mobile">
												10:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">7</a>
											</td>
											<td class="js-cell-mobile">
												11:00 – 15:00<br />
												18:00 – 23:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">8 (5)</a>
											</td>
											<td class="js-cell-mobile">
												9:00 – 20:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">11 (3)</a>
											</td>
											<td class="js-cell-mobile">
												9:00 – 18:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">9</a>
											</td>
											<td class="js-cell-mobile">
												9:00 – 18:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">9</a>
											</td>
											<td class="js-cell-mobile">
												9:00 – 18:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">8 (5)</a>
											</td>
											<td class="js-cell-mobile">
												9:00 – 18:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">8 (5)</a>
											</td>
										</tr>
										<tr class="js-row">
											<td class="js-cell-mobile">
												11:00 – 15:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">8</a>
											</td>
											<td class="js-cell-mobile">
												08:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">9</a>
											</td>
											<td class="js-cell-mobile">
												11:00 – 15:00
											</td>
											<td class="danger js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">4</a>
											</td>
											<td class="js-cell-mobile">
												9:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">8</a>
											</td>
											<td class="js-cell-mobile">
												8:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">7</a>
											</td>
											<td class="js-cell-mobile">
												9:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">8</a>
											</td>
											<td class="js-cell-mobile">
												8:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">8 (5)</a>
											</td>
											<td class="js-cell-mobile">
												8:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">4</a>
											</td>
										</tr>
										<tr class="js-row">
											<td class="js-cell-mobile">
												12:00 – 16:00
											</td>
											<td class="danger js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">4</a>
											</td>
											<td class="js-cell-mobile">
												08:00 – 12:00
											</td>
											<td class="danger js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">4</a>
											</td>
											<td class="js-cell-mobile">
												9:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">8</a>
											</td>
											<td class="js-cell-mobile">
												12:00 – 17:00
											</td>
											<td class="danger js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">5</a>
											</td>
											<td class="js-cell-mobile">
												10:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">7</a>
											</td>
											<td class="js-cell-mobile">
												12:00 – 17:00
											</td>
											<td class="danger js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">5</a>
											</td>
											<td class="js-cell-mobile">
												10:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">3</a>
											</td>
											<td class="js-cell-mobile">
												10:00 – 17:00
											</td>
											<td class="success js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTime-modal">8 (5)</a>
											</td>
										</tr>
									</tbody>
									<tfoot>
										<tr>
											<td colspan="9">
												<div class="hatimakiSpinnerLoader">
													<div></div>
													<div></div>
													<div></div>
													<div></div>
													<div></div>
													<div></div>
													<div></div>
													<div></div>
												</div>
											</td>
										</tr>
									</tfoot>
								</table>
							</div>
							<!-- удалить тестовую кнопку для показа лоадера -->
							<button class="toogleLoader" style="margin-top: 20px;">Toggle Loader</button>
						</div>
						<div class="remote-admin__table-wrapper js-weeks-table" style="display: none;">
							<div class="remote-admin__table">
								<table class="table table-valign-middle remote-admin__table-table table-weeks">
									<thead>
										<tr>
											<th rowspan="2" height="70">
												<a href="#" class="cell-xs-icon-sort asc-word cell-name" data-icon="&#xf073">ФИО</a>
												Должность / раздряд
											</th>
											<th class="js-cell-mobile">
												<div class="cell-name">Иванов Иван Ильич</div>
												Юрист / - / -
											</th>
											<th class="js-cell-mobile">
												<div class="cell-name">Петров Илья Петрович</div>
												Бухгалтер / 1 / -
											</th>
											<th class="js-cell-mobile">
												<div class="cell-name">Смирнов Николай Евгеньевич</div>
												Бухгалтер / 1 / -
											</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<th colspan="3">
												01.10-07.10.2018, 40 нед.
											</th>
											<th colspan="3">
												08.10-14.10.2018, 41 нед.
											</td>
											<th colspan="3">
												15.10-21.10.2018, 42 нед.
											</th>
											<th colspan="3">
												22.10-28.10.2018, 43 нед.
											</th>
											<th colspan="3">
												29.10-04.11.2018, 44 нед.
											</th>
										</tr>
										<tr>
											<th class="">
												СКУД
											</th>
											<th class="">
												Самозапись
											</th>
											<th class="">
												Расхождение
											</th>
											<th class="">
												СКУД
											</th>
											<th class="">
												Самозапись
											</th>
											<th class="">
												Расхождение
											</th>
											<th class="">
												СКУД
											</th>
											<th class="">
												Самозапись
											</th>
											<th class="">
												Расхождение
											</th>
											<th class="">
												СКУД
											</th>
											<th class="">
												Самозапись
											</th>
											<th class="">
												Расхождение
											</th>
											<th class="">
												СКУД
											</th>
											<th class="">
												Самозапись
											</th>
											<th class="">
												Расхождение
											</th>
										</tr>
										<tr class="js-row">
											<td class="js-cell-mobile">
												50
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">4</a>
											</td>
											<td class="success js-cell-mobile">
												54 / 14
											</td>
											<td class="js-cell-mobile">
												50
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">4</a>
											</td>
											<td class="success js-cell-mobile">
												54 / 14
											</td>
											<td class="js-cell-mobile">
												50
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">4</a>
											</td>
											<td class="success js-cell-mobile">
												54 / 14
											</td>
											<td class="js-cell-mobile">
												50
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">4</a>
											</td>
											<td class="success js-cell-mobile">
												54 / 14
											</td>
											<td class="js-cell-mobile">
												50
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">4</a>
											</td>
											<td class="success js-cell-mobile">
												54 / 14
											</td>
										</tr>
										<tr class="js-row">
											<td class="js-cell-mobile">
												47
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">8</a>
											</td>
											<td class="success js-cell-mobile">
												55 / 15
											</td>
											<td class="js-cell-mobile">
												47
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">8</a>
											</td>
											<td class="success js-cell-mobile">
												55 / 15
											</td>
											<td class="js-cell-mobile">
												47
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">8</a>
											</td>
											<td class="danger js-cell-mobile">
												55 / 15
											</td>
											<td class="js-cell-mobile">
												47
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">8</a>
											</td>
											<td class="success js-cell-mobile">
												55 / 15
											</td>
											<td class="js-cell-mobile">
												47
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">8</a>
											</td>
											<td class="success js-cell-mobile">
												55 / 15
											</td>
										</tr>
										<tr class="js-row">
											<td class="js-cell-mobile">
												54
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">6</a>
											</td>
											<td class="danger js-cell-mobile">
												60 / 20
											</td>
											<td class="js-cell-mobile">
												54
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">6</a>
											</td>
											<td class="danger js-cell-mobile">
												60 / 20
											</td>
											<td class="js-cell-mobile">
												47
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">6</a>
											</td>
											<td class="success js-cell-mobile">
												60 / 20
											</td>
											<td class="js-cell-mobile">
												54
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">6</a>
											</td>
											<td class="danger js-cell-mobile">
												60 / 20
											</td>
											<td class="js-cell-mobile">
												50
											</td>
											<td class="js-cell-mobile">
												<a href="#" data-toggle="modal" data-target="#manTimeWeeks-modal">4</a>
											</td>
											<td class="success js-cell-mobile">
												54 / 14
											</td>
										</tr>
									</tbody>
									<tfoot>
										<tr>
											<td colspan="9">
												<div class="hatimakiSpinnerLoader">
													<div></div>
													<div></div>
													<div></div>
													<div></div>
													<div></div>
													<div></div>
													<div></div>
													<div></div>
												</div>
											</td>
										</tr>
									</tfoot>
								</table>
							</div>
							<!-- удалить тестовую кнопку для показа лоадера -->
							<button class="toogleLoader" style="margin-top: 20px;">Toggle Loader</button>
						</div>
					</div>

				</div>
			</div>
        </div>
    </div>
	
	<!-- Modal Days -->
	<div class="modal fade" id="manTime-modal" tabindex="-1" role="dialog" aria-labelledby="positionModalLabel">
		<div class="modal-dialog modal-dialog-centered remote-admin__modal" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				</div>
				<div class="modal-body">
					<div class="remote-admin__modal-title">12.03 2019, Вт</div>
					<table class="table remote-admin__modal-table">
						<tbody>
							<tr>
								<td class="active">9</td>
								<td>всего, ч</td>
							</tr>
							<tr>
								<td class="success">+1</td>
								<td>расхождение, ч</td>
							</tr>
						</tbody>
					</table>
					<div class="remote-admin__modal-description">
						<p>Лидерство в продажах неизбежно. Вместе с тем, фактор коммуникации верифицирует континентально-европейский тип политической культуры.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Modal Weeks -->
	<div class="modal fade" id="manTimeWeeks-modal" tabindex="-1" role="dialog" aria-labelledby="positionModalLabel">
		<div class="modal-dialog modal-dialog-centered remote-admin__modal modal-weeks" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				</div>
				<div class="modal-body">
					<div class="remote-admin__modal-title">11.10.2019, 9:00 – 12:00</div>
					<div class="remote-admin__modal-description">
						<p>Лидерство в продажах неизбежно. Вместе с тем, фактор коммуникации верифицирует континентально-европейский тип политической культуры. </p>
					</div>
					<div class="remote-admin__modal-title">11.10.2019, 13:00 – 18:00</div>
					<div class="remote-admin__modal-description">
						<p>Лидерство в продажах неизбежно. Вместе с тем, фактор коммуникации верифицирует континентально-европейский тип политической культуры. </p>
					</div>
					<div class="remote-admin__modal-title">11.10.2019, 19:00 – 20:00</div>
					<div class="remote-admin__modal-description">
						<p>Лидерство в продажах неизбежно. Вместе с тем, фактор коммуникации верифицирует континентально-европейский тип политической культуры. </p>
					</div>
					<div class="remote-admin__modal-title">11.10.2019, 21:00 – 23:00</div>
					<div class="remote-admin__modal-description">
						<p>Лидерство в продажах неизбежно. Вместе с тем, фактор коммуникации верифицирует континентально-европейский тип политической культуры. </p>
					</div>
				</div>
			</div>
		</div>
	</div>
    
	@@include('include/_js.html')
	
	<script type="text/javascript">
        $(function() {
        	initHatNavbar(document);
			
			$('.js-select-multiple').select2({
				width: '100%'
			});
			
			$('.datepicker').datetimepicker({
				language: 'ru',
				pickTime: false
			});
			
			$(document).on('change', '.js-remote-admin-period', function() {
				var select = $(document).find('.js-remote-admin-period'),
				now = select.val(),
				block = select.closest('.js-remote-admin-form'),
				types = block.find('.js-types');
				if (now === 'arbitrary') {
					types.show();
					block.removeClass('days');
				} else {
					block.addClass('days');
					types.hide();
				}
			});
			
			$(document).on('change', '.js-remote-admin-view', function() {
				var select = $(this),
					now = select.val(),
					block = select.closest('.js-remote-admin'),
					days = block.find('.js-days-table'),
					weeks = block.find('.js-weeks-table');
					
				if (now === 'days') {
					days.show();
					weeks.hide();
				} else if(now === 'weeks') {
					days.hide();
					weeks.show();
				} else {
					days.hide();
					weeks.hide();
				}
				resizeTableCells($('.remote-admin__table-table'));
			});
			
			var resizeTableCells = (function(table){
				resetDefaultHeightTR(table);
				var h = setDefaultHeightCell(table);
				h = calcMaxHeightCell(table, h);
				setHeightCellReverse(table, h);
			});
			
			var setTableWidth = (function(table, w_col){
				var num = table.find('tbody > tr:first-child > th').length,
					w_table = num * w_col;
				table.width(w_table);
			});
			
			$(window).on('load resize', function() {
				setTableWidth($('.js-days-table .remote-admin__table-table'), 160);
				setTableWidth($('.js-weeks-table .remote-admin__table-table'), 240);
				resizeTableCells($('.remote-admin__table-table'));
			});
            
            $('.remote-admin__table-wrapper').on('click', '.toogleLoader', function() {
				$('.remote-admin__table-table tfoot').toggle();
            });

        });
    </script>

</body>

</html>
